# Logfile created on 2020-04-02 00:00:12 +0000 by logger.rb/v1.4.2
D, [2020-04-02T00:00:12.157608 #4674] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-02T00:00:12.289405 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:00:12.290320 #4674]  INFO -- : ---------------------------------------------------------------
I, [2020-04-02T00:00:12.290361 #4674]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-02T00:00:12.290385 #4674]  INFO -- : ---------------------------------------------------------------
D, [2020-04-02T00:00:12.391585 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:00:12.393372 #4674] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:00:12.394904 #4674] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9385134501"], ["active", 1]]
D, [2020-04-02T00:00:12.396066 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:00:12.398843 #4674]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-02 00:00:12 +0000
I, [2020-04-02T00:00:12.410029 #4674]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-02T00:00:12.410357 #4674]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-02T00:00:12.416607 #4674] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-02T00:00:12.419311 #4674]  INFO -- : Completed 500  in 9ms (ActiveRecord: 0.1ms)
F, [2020-04-02T00:00:12.424531 #4674] FATAL -- : 
ArgumentError - wrong number of arguments (given 0, expected 1):
  app/controllers/stores_controller.rb:30:in `update'
  test/controllers/stores_controller_test.rb:48:in `block in <class:StoresControllerTest>'

D, [2020-04-02T00:00:12.435202 #4674] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:00:12.436411 #4674] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:00:12.436727 #4674]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-02T00:00:12.436801 #4674]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-02T00:00:12.436863 #4674]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-02T00:00:12.437783 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:00:12.439344 #4674] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:00:12.440958 #4674] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9724217303"], ["active", 1]]
D, [2020-04-02T00:00:12.442311 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:00:12.443510 #4674]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-02 00:00:12 +0000
F, [2020-04-02T00:00:12.461614 #4674] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-02T00:00:12.465893 #4674] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:00:12.466790 #4674] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:00:12.467091 #4674]  INFO -- : -------------------------------------------
I, [2020-04-02T00:00:12.467166 #4674]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-02T00:00:12.467227 #4674]  INFO -- : -------------------------------------------
D, [2020-04-02T00:00:12.468153 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:00:12.469686 #4674] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:00:12.471254 #4674] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5036542653"], ["active", 1]]
D, [2020-04-02T00:00:12.472657 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:00:12.473886 #4674]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-02 00:00:12 +0000
I, [2020-04-02T00:00:12.474929 #4674]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-02T00:00:12.479772 #4674]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-02T00:00:12.481084 #4674]  INFO -- :   Rendered stores/index.html.erb within layouts/application (1.0ms)
I, [2020-04-02T00:00:12.482461 #4674]  INFO -- : Completed 200 OK in 7ms (Views: 4.6ms | ActiveRecord: 0.0ms)
D, [2020-04-02T00:00:12.485157 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:00:12.486109 #4674] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:00:12.486440 #4674]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-02T00:00:12.486516 #4674]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-02T00:00:12.486578 #4674]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-02T00:00:12.487428 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:00:12.488859 #4674] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:00:12.490354 #4674] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2876003522"], ["active", 1]]
D, [2020-04-02T00:00:12.491687 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:00:12.492931 #4674]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-02 00:00:12 +0000
I, [2020-04-02T00:00:12.494028 #4674]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-02T00:00:12.494323 #4674]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-02T00:00:12.495190 #4674] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-02T00:00:12.497049 #4674]  INFO -- : Completed 500  in 2ms (ActiveRecord: 0.1ms)
F, [2020-04-02T00:00:12.501531 #4674] FATAL -- : 
ArgumentError - wrong number of arguments (given 0, expected 1):
  app/controllers/stores_controller.rb:30:in `update'
  test/controllers/stores_controller_test.rb:55:in `block in <class:StoresControllerTest>'

D, [2020-04-02T00:00:12.505426 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:00:12.506292 #4674] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:00:12.506605 #4674]  INFO -- : -----------------------------------------
I, [2020-04-02T00:00:12.506683 #4674]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-02T00:00:12.506758 #4674]  INFO -- : -----------------------------------------
D, [2020-04-02T00:00:12.507576 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:00:12.509088 #4674] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:00:12.510564 #4674] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6582063453"], ["active", 1]]
D, [2020-04-02T00:00:12.511923 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:00:12.513109 #4674]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-02 00:00:12 +0000
I, [2020-04-02T00:00:12.514157 #4674]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-02T00:00:12.516452 #4674]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-02T00:00:12.517129 #4674]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.3ms)
I, [2020-04-02T00:00:12.518159 #4674]  INFO -- : Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.0ms)
D, [2020-04-02T00:00:12.520509 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:00:12.521291 #4674] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:00:12.521583 #4674]  INFO -- : ---------------------------------------------------------------
I, [2020-04-02T00:00:12.521691 #4674]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-02T00:00:12.521775 #4674]  INFO -- : ---------------------------------------------------------------
D, [2020-04-02T00:00:12.522529 #4674] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:00:12.523917 #4674] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:00:12.525363 #4674] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5090975828"], ["active", 1]]
D, [2020-04-02T00:00:12.526640 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T00:00:12.527663 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-02T00:00:12.529602 #4674]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-02 00:00:12 +0000
I, [2020-04-02T00:00:12.530599 #4674]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-02T00:00:12.530934 #4674]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-02T00:00:12.531737 #4674] DEBUG -- : Unpermitted parameter: :active
D, [2020-04-02T00:00:12.532443 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:00:12.533883 #4674] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-02T00:00:12.535372 #4674] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"]]
D, [2020-04-02T00:00:12.536709 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:00:12.537639 #4674]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-02T00:00:12.538637 #4674]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
D, [2020-04-02T00:00:12.543180 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-02T00:00:12.544236 #4674] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-02T00:00:12.545332 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:00:12.546070 #4674] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:00:12.546393 #4674]  INFO -- : ------------------------------------------
I, [2020-04-02T00:00:12.546473 #4674]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-02T00:00:12.546534 #4674]  INFO -- : ------------------------------------------
D, [2020-04-02T00:00:12.547368 #4674] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:00:12.548609 #4674] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:00:12.550069 #4674] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4643013523"], ["active", 1]]
D, [2020-04-02T00:00:12.551400 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:00:12.552575 #4674]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-02 00:00:12 +0000
I, [2020-04-02T00:00:12.553531 #4674]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-02T00:00:12.553819 #4674]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-02T00:00:12.554612 #4674] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T00:00:12.555824 #4674] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-02T00:00:12.558286 #4674]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-02T00:00:12.559009 #4674]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.3ms)
I, [2020-04-02T00:00:12.560181 #4674]  INFO -- : Completed 200 OK in 6ms (Views: 1.7ms | ActiveRecord: 0.1ms)
D, [2020-04-02T00:00:12.563328 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:00:12.564054 #4674] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:00:12.564340 #4674]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-02T00:00:12.564414 #4674]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-02T00:00:12.564502 #4674]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-02T00:00:12.565292 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:00:12.566548 #4674] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:00:12.568044 #4674] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8801496145"], ["active", 1]]
D, [2020-04-02T00:00:12.569351 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:00:12.570598 #4674]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-02 00:00:12 +0000
I, [2020-04-02T00:00:12.571499 #4674]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-02T00:00:12.571812 #4674]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-02T00:00:12.572626 #4674] DEBUG -- : Unpermitted parameter: :active
D, [2020-04-02T00:00:12.573270 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:00:12.717185 #4674] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-02T00:00:12.718623 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-02T00:00:12.719714 #4674]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-02T00:00:12.720123 #4674]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.1ms)
I, [2020-04-02T00:00:12.721339 #4674]  INFO -- : Completed 200 OK in 149ms (Views: 1.3ms | ActiveRecord: 0.3ms)
D, [2020-04-02T00:00:12.724664 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:00:12.725431 #4674] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:00:12.725767 #4674]  INFO -- : --------------------------------------------
I, [2020-04-02T00:00:12.725846 #4674]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-02T00:00:12.725911 #4674]  INFO -- : --------------------------------------------
D, [2020-04-02T00:00:12.726746 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:00:12.728199 #4674] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:00:12.729709 #4674] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7337777367"], ["active", 1]]
D, [2020-04-02T00:00:12.731054 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:00:12.732254 #4674]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-02 00:00:12 +0000
I, [2020-04-02T00:00:12.733150 #4674]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-02T00:00:12.733425 #4674]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-02T00:00:12.734267 #4674] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-02T00:00:12.736809 #4674]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-02T00:00:12.737530 #4674]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.4ms)
I, [2020-04-02T00:00:12.738578 #4674]  INFO -- : Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 0.1ms)
D, [2020-04-02T00:00:12.741623 #4674] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:07:17.177819 #5168] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-02T00:07:17.312142 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:07:17.313059 #5168]  INFO -- : -----------------------------------------
I, [2020-04-02T00:07:17.313101 #5168]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-02T00:07:17.313125 #5168]  INFO -- : -----------------------------------------
D, [2020-04-02T00:07:17.417066 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:17.418861 #5168] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:07:17.420482 #5168] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1616545524"], ["active", 1]]
D, [2020-04-02T00:07:17.421675 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:17.424504 #5168]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-02 00:07:17 +0000
I, [2020-04-02T00:07:17.432105 #5168]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-02T00:07:17.439584 #5168]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-02T00:07:17.440948 #5168]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.9ms)
I, [2020-04-02T00:07:17.442391 #5168]  INFO -- : Completed 200 OK in 10ms (Views: 4.4ms | ActiveRecord: 0.0ms)
D, [2020-04-02T00:07:17.447558 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:07:17.448746 #5168] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:07:17.449052 #5168]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-02T00:07:17.449151 #5168]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-02T00:07:17.449247 #5168]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-02T00:07:17.450066 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:17.451553 #5168] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:07:17.453044 #5168] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5316815358"], ["active", 1]]
D, [2020-04-02T00:07:17.454580 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:17.455783 #5168]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-02 00:07:17 +0000
I, [2020-04-02T00:07:17.460950 #5168]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-02T00:07:17.461263 #5168]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-02T00:07:17.463524 #5168] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T00:07:17.465621 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:17.605342 #5168] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T00:07:17.607317 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:17.608846 #5168]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-02T00:07:17.609556 #5168]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.3ms)
I, [2020-04-02T00:07:17.610839 #5168]  INFO -- : Completed 200 OK in 149ms (Views: 2.1ms | ActiveRecord: 0.4ms)
D, [2020-04-02T00:07:17.614703 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:07:17.615750 #5168] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:07:17.616048 #5168]  INFO -- : ---------------------------------------------------------------
I, [2020-04-02T00:07:17.616120 #5168]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-02T00:07:17.616225 #5168]  INFO -- : ---------------------------------------------------------------
D, [2020-04-02T00:07:17.617090 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:17.618440 #5168] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:07:17.620118 #5168] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3708183130"], ["active", 1]]
D, [2020-04-02T00:07:17.621501 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:17.622494 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-02T00:07:17.624651 #5168]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-02 00:07:17 +0000
I, [2020-04-02T00:07:17.625726 #5168]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-02T00:07:17.626119 #5168]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-02T00:07:17.627410 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:17.628787 #5168] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-02T00:07:17.630309 #5168] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-02T00:07:17.631717 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:17.632680 #5168]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-02T00:07:17.633754 #5168]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
D, [2020-04-02T00:07:17.638297 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-02T00:07:17.639452 #5168] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-02T00:07:17.640524 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:07:17.641492 #5168] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:07:17.641827 #5168]  INFO -- : ------------------------------------------
I, [2020-04-02T00:07:17.641905 #5168]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-02T00:07:17.641967 #5168]  INFO -- : ------------------------------------------
D, [2020-04-02T00:07:17.642800 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:17.644065 #5168] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:07:17.645530 #5168] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7217385479"], ["active", 1]]
D, [2020-04-02T00:07:17.646901 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:17.648057 #5168]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-02 00:07:17 +0000
I, [2020-04-02T00:07:17.648952 #5168]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-02T00:07:17.649231 #5168]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-02T00:07:17.650068 #5168] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T00:07:17.651218 #5168] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-02T00:07:17.652538 #5168]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-02T00:07:17.652987 #5168]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-02T00:07:17.654024 #5168]  INFO -- : Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.1ms)
D, [2020-04-02T00:07:17.657160 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:07:17.658075 #5168] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:07:17.658426 #5168]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-02T00:07:17.658502 #5168]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-02T00:07:17.658565 #5168]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-02T00:07:17.659398 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:17.660658 #5168] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:07:17.662104 #5168] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3189584523"], ["active", 1]]
D, [2020-04-02T00:07:17.663557 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:17.664560 #5168]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-02 00:07:17 +0000
F, [2020-04-02T00:07:17.690779 #5168] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-02T00:07:17.697812 #5168] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:07:17.699111 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:07:17.699768 #5168]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-02T00:07:17.699916 #5168]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-02T00:07:17.700086 #5168]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-02T00:07:17.701148 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:17.702598 #5168] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:07:17.704321 #5168] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2408320145"], ["active", 1]]
D, [2020-04-02T00:07:17.705759 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:17.707086 #5168]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-02 00:07:17 +0000
I, [2020-04-02T00:07:17.708077 #5168]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-02T00:07:17.708420 #5168]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-02T00:07:17.709684 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:17.711676 #5168] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-02T00:07:17.713126 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:17.714142 #5168]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-02T00:07:17.714607 #5168]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.1ms)
I, [2020-04-02T00:07:17.715933 #5168]  INFO -- : Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 0.3ms)
D, [2020-04-02T00:07:17.719227 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:07:17.720006 #5168] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:07:17.720342 #5168]  INFO -- : -------------------------------------------
I, [2020-04-02T00:07:17.720456 #5168]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-02T00:07:17.720525 #5168]  INFO -- : -------------------------------------------
D, [2020-04-02T00:07:17.721317 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:17.722670 #5168] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:07:17.724323 #5168] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6319770391"], ["active", 1]]
D, [2020-04-02T00:07:17.725787 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:17.726883 #5168]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-02 00:07:17 +0000
I, [2020-04-02T00:07:17.727832 #5168]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-02T00:07:17.729920 #5168]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-02T00:07:17.730767 #5168]  INFO -- :   Rendered stores/index.html.erb within layouts/application (0.3ms)
I, [2020-04-02T00:07:17.731915 #5168]  INFO -- : Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.0ms)
D, [2020-04-02T00:07:17.734443 #5168] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:07:17.735187 #5168] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:07:17.735561 #5168]  INFO -- : --------------------------------------------
I, [2020-04-02T00:07:17.735707 #5168]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-02T00:07:17.735786 #5168]  INFO -- : --------------------------------------------
D, [2020-04-02T00:07:17.736600 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:17.737945 #5168] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:07:17.739563 #5168] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7898989630"], ["active", 1]]
D, [2020-04-02T00:07:17.741019 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:17.742120 #5168]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-02 00:07:17 +0000
I, [2020-04-02T00:07:17.742998 #5168]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-02T00:07:17.743390 #5168]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-02T00:07:17.744212 #5168] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-02T00:07:17.746075 #5168]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-02T00:07:17.746756 #5168]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.3ms)
I, [2020-04-02T00:07:17.747884 #5168]  INFO -- : Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.1ms)
D, [2020-04-02T00:07:17.750977 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:07:17.752019 #5168] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:07:17.752357 #5168]  INFO -- : ---------------------------------------------------------------
I, [2020-04-02T00:07:17.752442 #5168]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-02T00:07:17.752509 #5168]  INFO -- : ---------------------------------------------------------------
D, [2020-04-02T00:07:17.753344 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:17.754723 #5168] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:07:17.756357 #5168] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4130633488"], ["active", 1]]
D, [2020-04-02T00:07:17.757867 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:17.759001 #5168]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-02 00:07:17 +0000
I, [2020-04-02T00:07:17.760155 #5168]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-02T00:07:17.760534 #5168]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-02T00:07:17.761376 #5168] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T00:07:17.762805 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:17.764724 #5168] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-02T00:07:17.766663 #5168] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-02T00:07:17.768156 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:17.769070 #5168]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-02T00:07:17.770212 #5168]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
D, [2020-04-02T00:07:17.780638 #5168] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:07:59.547043 #5261] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-02T00:07:59.675366 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:07:59.676204 #5261]  INFO -- : ---------------------------------------------------------------
I, [2020-04-02T00:07:59.676244 #5261]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-02T00:07:59.676267 #5261]  INFO -- : ---------------------------------------------------------------
D, [2020-04-02T00:07:59.777591 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:59.779411 #5261] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:07:59.780920 #5261] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6256838045"], ["active", 1]]
D, [2020-04-02T00:07:59.782042 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:59.782914 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-02T00:07:59.790160 #5261]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-02 00:07:59 +0000
I, [2020-04-02T00:07:59.797578 #5261]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-02T00:07:59.797890 #5261]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-02T00:07:59.802927 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:59.804342 #5261] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-02T00:07:59.805883 #5261] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-02T00:07:59.807264 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:59.808279 #5261]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-02T00:07:59.809449 #5261]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.3ms)
D, [2020-04-02T00:07:59.816171 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-02T00:07:59.817216 #5261] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-02T00:07:59.819868 #5261] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:07:59.820652 #5261] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:07:59.820983 #5261]  INFO -- : ------------------------------------------
I, [2020-04-02T00:07:59.821059 #5261]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-02T00:07:59.821123 #5261]  INFO -- : ------------------------------------------
D, [2020-04-02T00:07:59.822078 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:59.823521 #5261] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:07:59.825110 #5261] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7443550859"], ["active", 1]]
D, [2020-04-02T00:07:59.826522 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:59.827787 #5261]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-02 00:07:59 +0000
I, [2020-04-02T00:07:59.828878 #5261]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-02T00:07:59.829146 #5261]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-02T00:07:59.831421 #5261] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T00:07:59.832561 #5261] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-02T00:07:59.836300 #5261]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-02T00:07:59.837672 #5261]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.9ms)
I, [2020-04-02T00:07:59.839121 #5261]  INFO -- : Completed 200 OK in 10ms (Views: 4.5ms | ActiveRecord: 0.1ms)
D, [2020-04-02T00:07:59.842519 #5261] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:07:59.843264 #5261] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:07:59.843590 #5261]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-02T00:07:59.843662 #5261]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-02T00:07:59.843724 #5261]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-02T00:07:59.844579 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:59.845956 #5261] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:07:59.847601 #5261] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7102828021"], ["active", 1]]
D, [2020-04-02T00:07:59.848959 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:59.850161 #5261]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-02 00:07:59 +0000
I, [2020-04-02T00:07:59.851465 #5261]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-02T00:07:59.851795 #5261]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-02T00:07:59.852605 #5261] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T00:07:59.853922 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:07:59.988356 #5261] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T00:07:59.990117 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-02T00:07:59.991158 #5261]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-02T00:07:59.991659 #5261]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-02T00:07:59.992950 #5261]  INFO -- : Completed 200 OK in 141ms (Views: 1.3ms | ActiveRecord: 0.3ms)
D, [2020-04-02T00:07:59.996776 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:07:59.997543 #5261] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:07:59.997832 #5261]  INFO -- : -----------------------------------------
I, [2020-04-02T00:07:59.997928 #5261]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-02T00:07:59.998001 #5261]  INFO -- : -----------------------------------------
D, [2020-04-02T00:07:59.998855 #5261] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:08:00.000179 #5261] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:08:00.001659 #5261] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9855175534"], ["active", 1]]
D, [2020-04-02T00:08:00.002925 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:08:00.004076 #5261]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-02 00:08:00 +0000
I, [2020-04-02T00:08:00.005096 #5261]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-02T00:08:00.006557 #5261]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-02T00:08:00.007272 #5261]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.3ms)
I, [2020-04-02T00:08:00.008381 #5261]  INFO -- : Completed 200 OK in 3ms (Views: 1.5ms | ActiveRecord: 0.0ms)
D, [2020-04-02T00:08:00.010725 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:08:00.011444 #5261] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:08:00.011731 #5261]  INFO -- : --------------------------------------------
I, [2020-04-02T00:08:00.011804 #5261]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-02T00:08:00.011873 #5261]  INFO -- : --------------------------------------------
D, [2020-04-02T00:08:00.012730 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:08:00.014068 #5261] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:08:00.015616 #5261] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9325938611"], ["active", 1]]
D, [2020-04-02T00:08:00.017021 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:08:00.018151 #5261]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-02 00:08:00 +0000
I, [2020-04-02T00:08:00.019030 #5261]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-02T00:08:00.019339 #5261]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-02T00:08:00.020165 #5261] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-02T00:08:00.021926 #5261]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-02T00:08:00.022646 #5261]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.3ms)
I, [2020-04-02T00:08:00.023764 #5261]  INFO -- : Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.1ms)
D, [2020-04-02T00:08:00.026818 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:08:00.027757 #5261] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:08:00.028129 #5261]  INFO -- : ---------------------------------------------------------------
I, [2020-04-02T00:08:00.028207 #5261]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-02T00:08:00.028274 #5261]  INFO -- : ---------------------------------------------------------------
D, [2020-04-02T00:08:00.029087 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:08:00.030447 #5261] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:08:00.032047 #5261] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4401765434"], ["active", 1]]
D, [2020-04-02T00:08:00.033347 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:08:00.034481 #5261]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-02 00:08:00 +0000
I, [2020-04-02T00:08:00.035551 #5261]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-02T00:08:00.035841 #5261]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-02T00:08:00.036708 #5261] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T00:08:00.038024 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:08:00.039669 #5261] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-02T00:08:00.041445 #5261] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-02T00:08:00.042769 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:08:00.043630 #5261]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-02T00:08:00.044693 #5261]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
D, [2020-04-02T00:08:00.049418 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:08:00.050120 #5261] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:08:00.050445 #5261]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-02T00:08:00.050521 #5261]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-02T00:08:00.050580 #5261]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-02T00:08:00.051359 #5261] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:08:00.052594 #5261] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:08:00.054003 #5261] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1438949128"], ["active", 1]]
D, [2020-04-02T00:08:00.055319 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:08:00.056508 #5261]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-02 00:08:00 +0000
I, [2020-04-02T00:08:00.057409 #5261]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-02T00:08:00.057730 #5261]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-02T00:08:00.058838 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:08:00.060670 #5261] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-02T00:08:00.061948 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-02T00:08:00.062882 #5261]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-02T00:08:00.063319 #5261]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.1ms)
I, [2020-04-02T00:08:00.064495 #5261]  INFO -- : Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.2ms)
D, [2020-04-02T00:08:00.067607 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:08:00.068257 #5261] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:08:00.068603 #5261]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-02T00:08:00.068688 #5261]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-02T00:08:00.068749 #5261]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-02T00:08:00.069499 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:08:00.070753 #5261] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:08:00.072213 #5261] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1139728859"], ["active", 1]]
D, [2020-04-02T00:08:00.073523 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:08:00.074618 #5261]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-02 00:08:00 +0000
F, [2020-04-02T00:08:00.092673 #5261] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-02T00:08:00.096183 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T00:08:00.096864 #5261] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T00:08:00.097236 #5261]  INFO -- : -------------------------------------------
I, [2020-04-02T00:08:00.097314 #5261]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-02T00:08:00.097393 #5261]  INFO -- : -------------------------------------------
D, [2020-04-02T00:08:00.098122 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T00:08:00.099403 #5261] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T00:08:00.100849 #5261] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4172627459"], ["active", 1]]
D, [2020-04-02T00:08:00.102187 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T00:08:00.103223 #5261]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-02 00:08:00 +0000
I, [2020-04-02T00:08:00.104099 #5261]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-02T00:08:00.106106 #5261]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-02T00:08:00.106815 #5261]  INFO -- :   Rendered stores/index.html.erb within layouts/application (0.3ms)
I, [2020-04-02T00:08:00.107972 #5261]  INFO -- : Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.0ms)
D, [2020-04-02T00:08:00.110298 #5261] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T11:49:41.910781 #19180] DEBUG -- :   [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-02T11:49:42.063226 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T11:49:42.064959 #19180]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-02T11:49:42.065005 #19180]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-02T11:49:42.065030 #19180]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-02T11:49:42.205897 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.208114 #19180] DEBUG -- :   [1m[36mStore Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.210431 #19180] DEBUG -- :   [1m[36mStore Create (1.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8412771562"], ["active", 1]]
D, [2020-04-02T11:49:42.211645 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.225179 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.227771 #19180] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "150819747"], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.229093 #19180] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "150819747"], ["date_of_birth", "2001-04-02"], ["phone", "4640979115"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T11:49:42.230183 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.247020 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.248605 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.250531 #19180] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.251931 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.260036 #19180] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.261143 #19180] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-02"]]
D, [2020-04-02T11:49:42.261977 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.262762 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-02T11:49:42.266353 #19180]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-02 11:49:42 +0000
I, [2020-04-02T11:49:42.277768 #19180]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-02T11:49:42.278064 #19180]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-02T11:49:42.283166 #19180] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.284385 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.285498 #19180] DEBUG -- :   [1m[36mAssignment Destroy (0.2ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-02T11:49:42.286428 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T11:49:42.287419 #19180]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-02T11:49:42.288333 #19180]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
D, [2020-04-02T11:49:42.297290 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-02T11:49:42.301399 #19180] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T11:49:42.302228 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T11:49:42.302560 #19180]  INFO -- : ----------------------------------------------
I, [2020-04-02T11:49:42.302631 #19180]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-02T11:49:42.302692 #19180]  INFO -- : ----------------------------------------------
D, [2020-04-02T11:49:42.303724 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.305431 #19180] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.307184 #19180] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1149711696"], ["active", 1]]
D, [2020-04-02T11:49:42.308596 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.309937 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.311495 #19180] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "263531376"], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.312976 #19180] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "263531376"], ["date_of_birth", "2001-04-02"], ["phone", "1250310528"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T11:49:42.314356 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.315695 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.317061 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.318270 #19180] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.319527 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.321183 #19180] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.322436 #19180] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-02"]]
D, [2020-04-02T11:49:42.323729 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T11:49:42.325021 #19180]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-02 11:49:42 +0000
I, [2020-04-02T11:49:42.326260 #19180]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-02T11:49:42.331408 #19180]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-02T11:49:42.332980 #19180]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (1.1ms)
I, [2020-04-02T11:49:42.334428 #19180]  INFO -- : Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 0.0ms)
D, [2020-04-02T11:49:42.337158 #19180] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T11:49:42.337936 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T11:49:42.338276 #19180]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-02T11:49:42.338353 #19180]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-02T11:49:42.338462 #19180]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-02T11:49:42.339339 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.340794 #19180] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.342393 #19180] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5713267001"], ["active", 1]]
D, [2020-04-02T11:49:42.343748 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.345042 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.346565 #19180] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "038487436"], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.348081 #19180] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "038487436"], ["date_of_birth", "2001-04-02"], ["phone", "5690824532"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T11:49:42.349408 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.350758 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.352154 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.353361 #19180] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.354528 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.356215 #19180] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.357461 #19180] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-02"]]
D, [2020-04-02T11:49:42.358510 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T11:49:42.359838 #19180]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-02 11:49:42 +0000
F, [2020-04-02T11:49:42.378677 #19180] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-02T11:49:42.382815 #19180]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-02 11:49:42 +0000
F, [2020-04-02T11:49:42.398925 #19180] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-02T11:49:42.402516 #19180] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T11:49:42.403332 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T11:49:42.403633 #19180]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-02T11:49:42.403731 #19180]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-02T11:49:42.403796 #19180]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-02T11:49:42.404714 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.406255 #19180] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.407839 #19180] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9264905612"], ["active", 1]]
D, [2020-04-02T11:49:42.409193 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.410537 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.412045 #19180] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "191631943"], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.413483 #19180] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "191631943"], ["date_of_birth", "2001-04-02"], ["phone", "3647706297"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T11:49:42.414901 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.416270 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.417558 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.418774 #19180] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.419999 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.421582 #19180] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.422873 #19180] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-02"]]
D, [2020-04-02T11:49:42.423953 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.424913 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-02T11:49:42.426215 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.427698 #19180] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "288609124"], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.429093 #19180] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "288609124"], ["date_of_birth", "2001-04-02"], ["phone", "1874498314"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T11:49:42.430451 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T11:49:42.432046 #19180]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-02 11:49:42 +0000
I, [2020-04-02T11:49:42.433308 #19180]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-02T11:49:42.433684 #19180]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-01", "end_date"=>nil}}
D, [2020-04-02T11:49:42.434575 #19180] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-02T11:49:42.435927 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.437982 #19180] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.440175 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.450799 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.452252 #19180] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.453470 #19180] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.455222 #19180] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 2], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.456632 #19180] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 2], ["start_date", "2020-04-01"]]
D, [2020-04-02T11:49:42.457782 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T11:49:42.459731 #19180]  INFO -- : Completed 500  in 26ms (ActiveRecord: 0.8ms)
F, [2020-04-02T11:49:42.474868 #19180] FATAL -- : 
ActionController::UrlGenerationError - No route matches {:action=>"show", :controller=>"assignments"}, missing required keys: [:id]:
  app/controllers/assignments_controller.rb:25:in `create'
  test/controllers/assignments_controller_test.rb:26:in `block (2 levels) in <class:AssignmentsControllerTest>'
  test/controllers/assignments_controller_test.rb:24:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-02T11:49:42.479100 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-02T11:49:42.487634 #19180] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T11:49:42.488655 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T11:49:42.488995 #19180]  INFO -- : ------------------------------------------------
I, [2020-04-02T11:49:42.489072 #19180]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-02T11:49:42.489132 #19180]  INFO -- : ------------------------------------------------
D, [2020-04-02T11:49:42.490025 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.491554 #19180] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.493179 #19180] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7523044259"], ["active", 1]]
D, [2020-04-02T11:49:42.494603 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.495908 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.497375 #19180] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "209022797"], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.498930 #19180] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "209022797"], ["date_of_birth", "2001-04-02"], ["phone", "2757127700"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T11:49:42.500256 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.501543 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.502835 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.504054 #19180] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.505198 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.506730 #19180] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.508056 #19180] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-02"]]
D, [2020-04-02T11:49:42.509070 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T11:49:42.510291 #19180]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-02 11:49:42 +0000
I, [2020-04-02T11:49:42.511318 #19180]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-02T11:49:42.513486 #19180]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
I, [2020-04-02T11:49:42.514418 #19180]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (0.5ms)
I, [2020-04-02T11:49:42.515493 #19180]  INFO -- : Completed 200 OK in 4ms (Views: 1.9ms | ActiveRecord: 0.0ms)
D, [2020-04-02T11:49:42.517982 #19180] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T11:49:42.518687 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T11:49:42.519068 #19180]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-02T11:49:42.519143 #19180]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-02T11:49:42.519202 #19180]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-02T11:49:42.520023 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.521363 #19180] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.522823 #19180] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3173294763"], ["active", 1]]
D, [2020-04-02T11:49:42.524192 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.525382 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.526833 #19180] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "263909238"], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.528287 #19180] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "263909238"], ["date_of_birth", "2001-04-02"], ["phone", "9818837052"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T11:49:42.529613 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.530918 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.532198 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.533385 #19180] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.534519 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.536149 #19180] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.537381 #19180] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-02"]]
D, [2020-04-02T11:49:42.538428 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T11:49:42.539815 #19180]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-02 11:49:42 +0000
I, [2020-04-02T11:49:42.540771 #19180]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-02T11:49:42.541056 #19180]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-01", "end_date"=>nil}}
D, [2020-04-02T11:49:42.541786 #19180] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-02T11:49:42.542440 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.543690 #19180] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.742187 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.743600 #19180] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.745043 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-02T11:49:42.746110 #19180]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
I, [2020-04-02T11:49:42.746489 #19180]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (0.1ms)
I, [2020-04-02T11:49:42.747737 #19180]  INFO -- : Completed 200 OK in 206ms (Views: 1.3ms | ActiveRecord: 0.4ms)
D, [2020-04-02T11:49:42.751763 #19180] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T11:49:42.752521 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T11:49:42.752884 #19180]  INFO -- : -----------------------------------------------------------
I, [2020-04-02T11:49:42.752963 #19180]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-02T11:49:42.753034 #19180]  INFO -- : -----------------------------------------------------------
D, [2020-04-02T11:49:42.753835 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.755207 #19180] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.756720 #19180] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3792839292"], ["active", 1]]
D, [2020-04-02T11:49:42.758062 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.759336 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.760732 #19180] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "370708594"], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.762138 #19180] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "370708594"], ["date_of_birth", "2001-04-02"], ["phone", "3468332234"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T11:49:42.763486 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.764750 #19180] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.766011 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.767165 #19180] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T11:49:42.768332 #19180] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.769964 #19180] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-02T11:49:42.771176 #19180] DEBUG -- :   [1m[36mAssignment Create (0.1ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-02"]]
D, [2020-04-02T11:49:42.772244 #19180] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T11:49:42.773185 #19180] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:37:06.419005 #27131] DEBUG -- :   [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-02T13:37:06.509640 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:37:06.510050 #27131]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-02T13:37:06.510090 #27131]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-02T13:37:06.510114 #27131]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-02T13:37:06.646033 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:37:06.649235 #27131] DEBUG -- :   [1m[36mStore Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T13:37:06.650952 #27131] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7559883907"], ["active", 1]]
D, [2020-04-02T13:37:06.652211 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:37:06.655323 #27131]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-02 13:37:06 +0000
F, [2020-04-02T13:37:06.688442 #27131] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-02T13:37:06.694776 #27131] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:37:06.695745 #27131] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:37:06.696094 #27131]  INFO -- : ------------------------------------------
I, [2020-04-02T13:37:06.696188 #27131]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-02T13:37:06.696268 #27131]  INFO -- : ------------------------------------------
D, [2020-04-02T13:37:06.697329 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:37:06.698953 #27131] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T13:37:06.700628 #27131] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3519674039"], ["active", 1]]
D, [2020-04-02T13:37:06.702033 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:37:06.704031 #27131]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-02 13:37:06 +0000
I, [2020-04-02T13:37:06.705337 #27131]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-02T13:37:06.705677 #27131]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-02T13:37:06.712652 #27131] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T13:37:06.714881 #27131] DEBUG -- :   [1m[36mCACHE Store Load (0.0ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-02T13:37:06.719721 #27131]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-02T13:37:06.721266 #27131]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (1.1ms)
I, [2020-04-02T13:37:11.952365 #27131]  INFO -- : Completed 200 OK in 5246ms (Views: 5234.5ms | ActiveRecord: 0.2ms)
D, [2020-04-02T13:37:11.956089 #27131] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:37:11.956905 #27131] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:37:11.957229 #27131]  INFO -- : -----------------------------------------
I, [2020-04-02T13:37:11.957307 #27131]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-02T13:37:11.957370 #27131]  INFO -- : -----------------------------------------
D, [2020-04-02T13:37:11.958351 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:37:11.959938 #27131] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T13:37:11.961487 #27131] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6364071252"], ["active", 1]]
D, [2020-04-02T13:37:11.962888 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:37:11.964125 #27131]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-02 13:37:11 +0000
I, [2020-04-02T13:37:11.965303 #27131]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-02T13:37:11.967689 #27131]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-02T13:37:11.968467 #27131]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.4ms)
I, [2020-04-02T13:37:11.970387 #27131]  INFO -- : Completed 200 OK in 5ms (Views: 2.7ms | ActiveRecord: 0.0ms)
D, [2020-04-02T13:37:11.972864 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:37:11.973578 #27131] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:37:11.973906 #27131]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-02T13:37:11.973987 #27131]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-02T13:37:11.974061 #27131]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-02T13:37:11.974872 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:37:11.976348 #27131] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T13:37:11.977911 #27131] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7611101599"], ["active", 1]]
D, [2020-04-02T13:37:11.979331 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:37:11.986150 #27131]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-02 13:37:11 +0000
I, [2020-04-02T13:37:11.987311 #27131]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-02T13:37:11.987656 #27131]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-02T13:37:11.989008 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:37:12.250639 #27131] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-02T13:37:12.252224 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-02T13:37:12.253329 #27131]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-02T13:37:12.253728 #27131]  INFO -- :   Rendered stores/new.html.erb within layouts/application (0.1ms)
I, [2020-04-02T13:37:12.256024 #27131]  INFO -- : Completed 200 OK in 268ms (Views: 2.3ms | ActiveRecord: 0.3ms)
D, [2020-04-02T13:37:12.259539 #27131] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:37:12.260302 #27131] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:37:12.260623 #27131]  INFO -- : ---------------------------------------------------------------
I, [2020-04-02T13:37:12.260699 #27131]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-02T13:37:12.260795 #27131]  INFO -- : ---------------------------------------------------------------
D, [2020-04-02T13:37:12.261932 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:37:12.263408 #27131] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T13:37:12.264973 #27131] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6695919320"], ["active", 1]]
D, [2020-04-02T13:37:12.266413 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:37:12.267698 #27131]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-02 13:37:12 +0000
I, [2020-04-02T13:37:12.268943 #27131]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-02T13:37:12.269273 #27131]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-02T13:37:12.270105 #27131] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T13:37:12.271460 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:37:12.273157 #27131] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-02T13:37:12.274963 #27131] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "zip" = ?, "phone" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["zip", "15090"], ["phone", "7242682323"], ["id", 1]]
D, [2020-04-02T13:37:12.276330 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:37:12.277229 #27131]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-02T13:37:12.278282 #27131]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
D, [2020-04-02T13:37:12.283047 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:37:12.283755 #27131] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:37:12.284110 #27131]  INFO -- : -------------------------------------------
I, [2020-04-02T13:37:12.284203 #27131]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-02T13:37:12.284274 #27131]  INFO -- : -------------------------------------------
D, [2020-04-02T13:37:12.285039 #27131] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:37:12.286331 #27131] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T13:37:12.287911 #27131] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9803467417"], ["active", 1]]
D, [2020-04-02T13:37:12.289359 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:37:12.290416 #27131]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-02 13:37:12 +0000
I, [2020-04-02T13:37:12.291342 #27131]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-02T13:37:12.294042 #27131]  INFO -- :   Rendering stores/index.html.erb within layouts/application
I, [2020-04-02T13:37:12.294760 #27131]  INFO -- :   Rendered stores/index.html.erb within layouts/application (0.3ms)
I, [2020-04-02T13:37:12.296796 #27131]  INFO -- : Completed 200 OK in 5ms (Views: 2.5ms | ActiveRecord: 0.0ms)
D, [2020-04-02T13:37:12.299383 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:37:12.300018 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:37:12.300384 #27131]  INFO -- : --------------------------------------------
I, [2020-04-02T13:37:12.300463 #27131]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-02T13:37:12.300527 #27131]  INFO -- : --------------------------------------------
D, [2020-04-02T13:37:12.301348 #27131] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:37:12.302593 #27131] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T13:37:12.304127 #27131] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3836239960"], ["active", 1]]
D, [2020-04-02T13:37:12.305556 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:37:12.306611 #27131]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-02 13:37:12 +0000
I, [2020-04-02T13:37:12.307468 #27131]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-02T13:37:12.307763 #27131]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-02T13:37:12.308611 #27131] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-02T13:37:12.327347 #27131]  INFO -- :   Rendering stores/show.html.erb within layouts/application
I, [2020-04-02T13:37:12.328123 #27131]  INFO -- :   Rendered stores/show.html.erb within layouts/application (0.3ms)
I, [2020-04-02T13:37:12.330208 #27131]  INFO -- : Completed 200 OK in 22ms (Views: 2.6ms | ActiveRecord: 0.3ms)
D, [2020-04-02T13:37:12.333840 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:37:12.334862 #27131] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:37:12.335166 #27131]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-02T13:37:12.335292 #27131]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-02T13:37:12.335381 #27131]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-02T13:37:12.336313 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:37:12.337723 #27131] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T13:37:12.339340 #27131] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1787580235"], ["active", 1]]
D, [2020-04-02T13:37:12.340741 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:37:12.341947 #27131]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-02 13:37:12 +0000
I, [2020-04-02T13:37:12.343151 #27131]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-02T13:37:12.343574 #27131]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-02T13:37:12.344434 #27131] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T13:37:12.345782 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:37:12.348011 #27131] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T13:37:12.349832 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-02T13:37:12.350782 #27131]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-02T13:37:12.351167 #27131]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (0.1ms)
I, [2020-04-02T13:37:12.353381 #27131]  INFO -- : Completed 200 OK in 9ms (Views: 2.0ms | ActiveRecord: 0.3ms)
D, [2020-04-02T13:37:12.357146 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:37:12.357829 #27131] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:37:12.358154 #27131]  INFO -- : ---------------------------------------------------------------
I, [2020-04-02T13:37:12.358287 #27131]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-02T13:37:12.358351 #27131]  INFO -- : ---------------------------------------------------------------
D, [2020-04-02T13:37:12.359133 #27131] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:37:12.360409 #27131] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T13:37:12.361919 #27131] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6147096886"], ["active", 1]]
D, [2020-04-02T13:37:12.363401 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T13:37:12.364383 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-02T13:37:12.365609 #27131]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-02 13:37:12 +0000
I, [2020-04-02T13:37:12.366534 #27131]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-02T13:37:12.366832 #27131]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-02T13:37:12.367958 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:37:12.369322 #27131] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-02T13:37:12.370736 #27131] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-02T13:37:12.372203 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:37:12.373057 #27131]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-02T13:37:12.374132 #27131]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
D, [2020-04-02T13:37:12.378417 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-02T13:37:12.379487 #27131] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-02T13:37:12.380524 #27131] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:39:09.123552 #27399] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-02T13:39:09.243943 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:39:09.245476 #27399]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-02T13:39:09.245519 #27399]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-02T13:39:09.245544 #27399]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-02T13:39:09.359058 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.362134 #27399] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "128277599"], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.363733 #27399] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "128277599"], ["date_of_birth", "2001-04-02"], ["phone", "0588167387"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T13:39:09.364933 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.365739 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-02T13:39:09.373165 #27399]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-02 13:39:09 +0000
I, [2020-04-02T13:39:09.380494 #27399]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-02T13:39:09.380794 #27399]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-02", "role"=>"employee", "active"=>"true"}}
D, [2020-04-02T13:39:09.385923 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.387558 #27399] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.389181 #27399] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ezra"], ["last_name", "Bridger"], ["ssn", "037201234"], ["date_of_birth", "2001-04-02"], ["phone", "4122683259"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T13:39:09.390607 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:39:09.391594 #27399]  INFO -- : Redirected to http://www.example.com/employees/2
I, [2020-04-02T13:39:09.392673 #27399]  INFO -- : Completed 302 Found in 12ms (ActiveRecord: 0.3ms)
D, [2020-04-02T13:39:09.399113 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-02T13:39:09.400218 #27399] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" ORDER BY "employees"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-02T13:39:09.402771 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:39:09.403593 #27399] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:39:09.403926 #27399]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-02T13:39:09.404003 #27399]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-02T13:39:09.404068 #27399]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-02T13:39:09.405031 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.406498 #27399] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "126612397"], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.408033 #27399] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "126612397"], ["date_of_birth", "2001-04-02"], ["phone", "0386851437"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T13:39:09.409328 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:39:09.410362 #27399]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-02 13:39:09 +0000
F, [2020-04-02T13:39:09.426313 #27399] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-02T13:39:09.429792 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:39:09.430500 #27399] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:39:09.430824 #27399]  INFO -- : ---------------------------------------------
I, [2020-04-02T13:39:09.430900 #27399]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-02T13:39:09.430983 #27399]  INFO -- : ---------------------------------------------
D, [2020-04-02T13:39:09.431992 #27399] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.433478 #27399] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "298570930"], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.435011 #27399] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "298570930"], ["date_of_birth", "2001-04-02"], ["phone", "1136858602"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T13:39:09.436408 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:39:09.437588 #27399]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-02 13:39:09 +0000
I, [2020-04-02T13:39:09.438526 #27399]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-02T13:39:09.438830 #27399]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-02T13:39:09.440126 #27399] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.441343 #27399] DEBUG -- :   [1m[36mCACHE Employee Load (0.0ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-02T13:39:09.445091 #27399]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-02T13:39:09.592315 #27399]  INFO -- :   Rendered employees/_form.html.erb (145.2ms)
I, [2020-04-02T13:39:09.592953 #27399]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (147.5ms)
I, [2020-04-02T13:39:09.762981 #27399]  INFO -- : Completed 200 OK in 324ms (Views: 319.5ms | ActiveRecord: 0.1ms)
D, [2020-04-02T13:39:09.766744 #27399] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:39:09.767543 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:39:09.767848 #27399]  INFO -- : ----------------------------------------------
I, [2020-04-02T13:39:09.767937 #27399]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-02T13:39:09.768006 #27399]  INFO -- : ----------------------------------------------
D, [2020-04-02T13:39:09.769248 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.770975 #27399] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "088812285"], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.772577 #27399] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "088812285"], ["date_of_birth", "2001-04-02"], ["phone", "8475469734"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T13:39:09.773971 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:39:09.775148 #27399]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-02 13:39:09 +0000
I, [2020-04-02T13:39:09.776179 #27399]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-02T13:39:09.778519 #27399]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-02T13:39:09.780004 #27399] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-02T13:39:09.781402 #27399]  INFO -- :   Rendered employees/index.html.erb within layouts/application (2.5ms)
I, [2020-04-02T13:39:09.783195 #27399]  INFO -- : Completed 200 OK in 7ms (Views: 4.3ms | ActiveRecord: 0.2ms)
D, [2020-04-02T13:39:09.786022 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:39:09.786684 #27399] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:39:09.786993 #27399]  INFO -- : --------------------------------------------
I, [2020-04-02T13:39:09.787068 #27399]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-02T13:39:09.787130 #27399]  INFO -- : --------------------------------------------
D, [2020-04-02T13:39:09.788102 #27399] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.789507 #27399] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "246737326"], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.791027 #27399] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "246737326"], ["date_of_birth", "2001-04-02"], ["phone", "5135368612"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T13:39:09.792358 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:39:09.793376 #27399]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-02 13:39:09 +0000
I, [2020-04-02T13:39:09.794314 #27399]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-02T13:39:09.795932 #27399]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-02T13:39:09.796564 #27399]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.3ms)
I, [2020-04-02T13:39:09.798371 #27399]  INFO -- : Completed 200 OK in 4ms (Views: 2.2ms | ActiveRecord: 0.0ms)
D, [2020-04-02T13:39:09.800638 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:39:09.801283 #27399] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:39:09.801657 #27399]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-02T13:39:09.801733 #27399]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-02T13:39:09.801797 #27399]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-02T13:39:09.802687 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.804208 #27399] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "324165911"], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.805784 #27399] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "324165911"], ["date_of_birth", "2001-04-02"], ["phone", "6282784886"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T13:39:09.807076 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:39:09.808335 #27399]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-02 13:39:09 +0000
I, [2020-04-02T13:39:09.809405 #27399]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-02T13:39:09.809707 #27399]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-02", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-02T13:39:09.810495 #27399] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.811806 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.814280 #27399] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.816131 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-02T13:39:09.817011 #27399]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-02T13:39:09.821622 #27399]  INFO -- :   Rendered employees/_form.html.erb (4.1ms)
I, [2020-04-02T13:39:09.822200 #27399]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (4.8ms)
I, [2020-04-02T13:39:09.824171 #27399]  INFO -- : Completed 200 OK in 14ms (Views: 6.6ms | ActiveRecord: 0.3ms)
D, [2020-04-02T13:39:09.827876 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:39:09.828541 #27399] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:39:09.828835 #27399]  INFO -- : --------------------------------------------------
I, [2020-04-02T13:39:09.828924 #27399]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-02T13:39:09.828989 #27399]  INFO -- : --------------------------------------------------
D, [2020-04-02T13:39:09.829870 #27399] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.831322 #27399] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "143273775"], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.832766 #27399] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "143273775"], ["date_of_birth", "2001-04-02"], ["phone", "0511456984"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T13:39:09.834123 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.847058 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.848598 #27399] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.850059 #27399] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5404274701"], ["active", 1]]
D, [2020-04-02T13:39:09.851365 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.867502 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.869064 #27399] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T13:39:09.870346 #27399] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-02T13:39:09.871575 #27399] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.879430 #27399] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.880728 #27399] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date") VALUES (?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-02"]]
D, [2020-04-02T13:39:09.881760 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:39:09.882935 #27399]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-02 13:39:09 +0000
I, [2020-04-02T13:39:09.883896 #27399]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-02T13:39:09.884251 #27399]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-02T13:39:09.885094 #27399] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-02T13:39:09.887890 #27399]  INFO -- :   Rendering employees/show.html.erb within layouts/application
I, [2020-04-02T13:39:09.888606 #27399]  INFO -- :   Rendered employees/show.html.erb within layouts/application (0.3ms)
I, [2020-04-02T13:39:09.890460 #27399]  INFO -- : Completed 200 OK in 6ms (Views: 2.4ms | ActiveRecord: 0.1ms)
D, [2020-04-02T13:39:09.916303 #27399] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:39:09.917448 #27399] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:39:09.917749 #27399]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-02T13:39:09.917822 #27399]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-02T13:39:09.917880 #27399]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-02T13:39:09.919123 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.920883 #27399] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "025694760"], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.922551 #27399] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "025694760"], ["date_of_birth", "2001-04-02"], ["phone", "7713669448"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T13:39:09.924114 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:39:09.925580 #27399]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-02 13:39:09 +0000
I, [2020-04-02T13:39:09.926781 #27399]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-02T13:39:09.927165 #27399]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-02", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-02T13:39:09.928051 #27399] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.929521 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.931742 #27399] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.933676 #27399] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-02"], ["id", 1]]
D, [2020-04-02T13:39:09.935175 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:39:09.936051 #27399]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-02T13:39:09.937162 #27399]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
D, [2020-04-02T13:39:09.942383 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-02T13:39:09.943136 #27399] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-02T13:39:09.943548 #27399]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-02T13:39:09.943627 #27399]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-02T13:39:09.943687 #27399]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-02T13:39:09.944677 #27399] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.946163 #27399] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "249743942"], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.947819 #27399] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "249743942"], ["date_of_birth", "2001-04-02"], ["phone", "5428538801"], ["role", "employee"], ["active", 1]]
D, [2020-04-02T13:39:09.949227 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-02T13:39:09.950746 #27399]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-02 13:39:09 +0000
I, [2020-04-02T13:39:09.951723 #27399]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-02T13:39:09.952077 #27399]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-02", "role"=>"employee", "active"=>"true"}}
D, [2020-04-02T13:39:09.953230 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-02T13:39:09.955454 #27399] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-02T13:39:09.957006 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-02T13:39:09.958181 #27399]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-02T13:39:09.958577 #27399]  INFO -- :   Rendered employees/new.html.erb within layouts/application (0.1ms)
I, [2020-04-02T13:39:09.960824 #27399]  INFO -- : Completed 200 OK in 8ms (Views: 2.4ms | ActiveRecord: 0.2ms)
D, [2020-04-02T13:39:09.964318 #27399] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:22:13.713752 #9429] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:22:15.646171 #9464] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:22:15.650091 #9464] DEBUG -- :   [1m[35m (0.9ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
D, [2020-04-22T18:22:15.651165 #9464] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:22:15.652225 #9464] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
D, [2020-04-22T18:22:15.653225 #9464] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:22:15.654168 #9464] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ?[0m  [["key", "environment"]]
D, [2020-04-22T18:22:15.661226 #9464] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "assignments"[0m
D, [2020-04-22T18:22:15.661774 #9464] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
D, [2020-04-22T18:22:15.669090 #9464] DEBUG -- :   [1m[35m (6.9ms)[0m  [1m[35mCREATE TABLE "assignments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "store_id" integer NOT NULL, "employee_id" integer NOT NULL, "start_date" date, "end_date" date, "pay_grade_id" integer)[0m
D, [2020-04-22T18:22:15.676992 #9464] DEBUG -- :   [1m[35m (6.5ms)[0m  [1m[35mCREATE  INDEX "index_assignments_on_employee_id" ON "assignments" ("employee_id")[0m
D, [2020-04-22T18:22:15.683629 #9464] DEBUG -- :   [1m[35m (3.8ms)[0m  [1m[35mCREATE  INDEX "index_assignments_on_pay_grade_id" ON "assignments" ("pay_grade_id")[0m
D, [2020-04-22T18:22:15.694965 #9464] DEBUG -- :   [1m[35m (7.1ms)[0m  [1m[35mCREATE  INDEX "index_assignments_on_store_id" ON "assignments" ("store_id")[0m
D, [2020-04-22T18:22:15.695910 #9464] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "employees"[0m
D, [2020-04-22T18:22:15.701176 #9464] DEBUG -- :   [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "employees" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "ssn" varchar, "date_of_birth" date, "phone" varchar, "role" varchar, "active" boolean, "username" varchar, "password_digest" varchar)[0m
D, [2020-04-22T18:22:15.702138 #9464] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "jobs"[0m
D, [2020-04-22T18:22:15.707471 #9464] DEBUG -- :   [1m[35m (4.6ms)[0m  [1m[35mCREATE TABLE "jobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "description" text, "active" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
D, [2020-04-22T18:22:15.708528 #9464] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "pay_grade_rates"[0m
D, [2020-04-22T18:22:15.713945 #9464] DEBUG -- :   [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "pay_grade_rates" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "pay_grade_id" integer, "rate" float, "start_date" date, "end_date" date, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
D, [2020-04-22T18:22:15.720874 #9464] DEBUG -- :   [1m[35m (4.8ms)[0m  [1m[35mCREATE  INDEX "index_pay_grade_rates_on_pay_grade_id" ON "pay_grade_rates" ("pay_grade_id")[0m
D, [2020-04-22T18:22:15.722452 #9464] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "pay_grades"[0m
D, [2020-04-22T18:22:15.727444 #9464] DEBUG -- :   [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "pay_grades" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "level" varchar, "active" boolean, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
D, [2020-04-22T18:22:15.728249 #9464] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "shift_jobs"[0m
D, [2020-04-22T18:22:15.732766 #9464] DEBUG -- :   [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "shift_jobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "shift_id" integer, "job_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
D, [2020-04-22T18:22:15.738917 #9464] DEBUG -- :   [1m[35m (4.5ms)[0m  [1m[35mCREATE  INDEX "index_shift_jobs_on_job_id" ON "shift_jobs" ("job_id")[0m
D, [2020-04-22T18:22:15.747086 #9464] DEBUG -- :   [1m[35m (5.0ms)[0m  [1m[35mCREATE  INDEX "index_shift_jobs_on_shift_id" ON "shift_jobs" ("shift_id")[0m
D, [2020-04-22T18:22:15.748127 #9464] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "shifts"[0m
D, [2020-04-22T18:22:15.753053 #9464] DEBUG -- :   [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "shifts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "assignment_id" integer, "date" date, "start_time" time, "end_time" time, "notes" text, "status" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
D, [2020-04-22T18:22:15.758757 #9464] DEBUG -- :   [1m[35m (4.1ms)[0m  [1m[35mCREATE  INDEX "index_shifts_on_assignment_id" ON "shifts" ("assignment_id")[0m
D, [2020-04-22T18:22:15.759545 #9464] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "stores"[0m
D, [2020-04-22T18:22:15.764341 #9464] DEBUG -- :   [1m[35m (4.2ms)[0m  [1m[35mCREATE TABLE "stores" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "street" varchar, "city" varchar, "state" varchar, "zip" varchar, "phone" varchar, "active" boolean)[0m
D, [2020-04-22T18:22:15.770438 #9464] DEBUG -- :   [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
D, [2020-04-22T18:22:15.771657 #9464] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:22:15.775704 #9464] DEBUG -- :   [1m[35m (3.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200422171813)[0m
D, [2020-04-22T18:22:15.779460 #9464] DEBUG -- :   [1m[35m (3.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200422171638),
(20200422171331),
(20191101143940),
(20191101135643),
(20200422170651),
(20200422170613),
(20200422171500),
(20191101140046),
(20200422171603),
(20200422171207);

[0m
D, [2020-04-22T18:22:15.785365 #9464] DEBUG -- :   [1m[35m (4.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
D, [2020-04-22T18:22:15.786688 #9464] DEBUG -- :   [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
D, [2020-04-22T18:22:15.793129 #9464] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-22T18:22:15.794522 #9464] DEBUG -- :   [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-04-22 18:22:15.793790"], ["updated_at", "2020-04-22 18:22:15.793790"]]
D, [2020-04-22T18:22:15.798465 #9464] DEBUG -- :   [1m[35m (2.9ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-22T18:22:15.799812 #9464] DEBUG -- :   [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
D, [2020-04-22T18:22:15.800837 #9464] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
D, [2020-04-22T18:22:15.801502 #9464] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
D, [2020-04-22T18:22:15.824973 #9429] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:25:52.731804 #9750] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:29:23.597794 #10006] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:29:23.687088 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:23.687496 #10006]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:29:23.687556 #10006]  INFO -- : ApplicationControllerTest: test_should_redirect_to_home_path_on_404_errors
I, [2020-04-22T18:29:23.687583 #10006]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:29:23.810479 #10006]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-22 18:29:23 +0000
I, [2020-04-22T18:29:23.819083 #10006]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-22T18:29:23.819482 #10006]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:29:23.836894 #10006] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:29:23.838565 #10006]  INFO -- : Redirected to http://www.example.com/
I, [2020-04-22T18:29:23.839652 #10006]  INFO -- : Completed 302 Found in 20ms (ActiveRecord: 0.9ms)
D, [2020-04-22T18:29:23.848068 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:23.849403 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:23.849769 #10006]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:29:23.849868 #10006]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-22T18:29:23.849943 #10006]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-22T18:29:23.858685 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:23.860943 #10006] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:23.862997 #10006] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0652856088"], ["active", 1]]
D, [2020-04-22T18:29:23.864593 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:23.888036 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:23.890558 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "143172505"], ["LIMIT", 1]]
D, [2020-04-22T18:29:23.892292 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
D, [2020-04-22T18:29:23.906171 #10006] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "143172505"], ["date_of_birth", "2001-04-22"], ["phone", "7218897762"], ["role", "employee"], ["active", 1], ["username", "user1"], ["password_digest", "$2a$04$0sZJOmEGECp.DoOzdTQ9BeUGuZuusrCY6KwM8hYs3YpzBD0V5OylO"]]
D, [2020-04-22T18:29:23.908072 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:23.938307 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:23.940104 #10006] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:29:23.938882"], ["updated_at", "2020-04-22 18:29:23.938882"]]
D, [2020-04-22T18:29:23.941585 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:23.943579 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:23.945667 #10006] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:23.948259 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:23.950135 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:23.960114 #10006] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:23.961727 #10006] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:29:23.963069 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:23.964365 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-22T18:29:23.965682 #10006]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-22 18:29:23 +0000
I, [2020-04-22T18:29:23.973364 #10006]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-22T18:29:23.973729 #10006]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:29:23.975415 #10006] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:23.976764 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:23.978011 #10006] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-22T18:29:23.979065 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:23.980065 #10006]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-22T18:29:23.981079 #10006]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
D, [2020-04-22T18:29:23.985975 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:29:23.988661 #10006] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:23.989506 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:23.989867 #10006]  INFO -- : ------------------------------------------------
I, [2020-04-22T18:29:23.989945 #10006]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-22T18:29:23.990043 #10006]  INFO -- : ------------------------------------------------
D, [2020-04-22T18:29:23.991046 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:23.992765 #10006] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:23.994521 #10006] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9133941889"], ["active", 1]]
D, [2020-04-22T18:29:23.996083 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:23.999212 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:24.001059 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "293589983"], ["LIMIT", 1]]
D, [2020-04-22T18:29:24.002664 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
D, [2020-04-22T18:29:24.004442 #10006] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "293589983"], ["date_of_birth", "2001-04-22"], ["phone", "6760968784"], ["role", "employee"], ["active", 1], ["username", "user2"], ["password_digest", "$2a$04$iTFkXoKcVbv8Y5Jf7O0IY.o.Zyd.lDB6B2tzZf4S5h3zubbDNbrvW"]]
D, [2020-04-22T18:29:24.006178 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:24.007897 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:24.009345 #10006] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:29:24.008330"], ["updated_at", "2020-04-22 18:29:24.008330"]]
D, [2020-04-22T18:29:24.010841 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:24.012009 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:24.013612 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:24.015024 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:24.016430 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:24.018236 #10006] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:24.019677 #10006] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:29:24.021028 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:24.022475 #10006]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-22 18:29:24 +0000
I, [2020-04-22T18:29:24.023682 #10006]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-22T18:29:24.028844 #10006]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-22T18:29:24.031513 #10006] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:29:24.033754 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:24.035996 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:29:24.037912 #10006]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (8.6ms)
I, [2020-04-22T18:29:29.023488 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-22T18:29:29.025339 #10006]  INFO -- : Completed 200 OK in 5001ms (Views: 4998.3ms | ActiveRecord: 0.4ms)
D, [2020-04-22T18:29:29.029858 #10006] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:29.030700 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:29.031058 #10006]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-22T18:29:29.031172 #10006]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-22T18:29:29.031273 #10006]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-22T18:29:29.032320 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.033966 #10006] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.035689 #10006] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2147588811"], ["active", 1]]
D, [2020-04-22T18:29:29.037212 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.040170 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.041847 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "376531468"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.043213 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user3"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.044897 #10006] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "376531468"], ["date_of_birth", "2001-04-22"], ["phone", "4161768372"], ["role", "employee"], ["active", 1], ["username", "user3"], ["password_digest", "$2a$04$ueJs9yJ1HUYwjtDtxi8k2OJwPmPjSUc68KzR0T3JdzGnSfjjB4eGi"]]
D, [2020-04-22T18:29:29.046518 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.047985 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.049370 #10006] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:29:29.048424"], ["updated_at", "2020-04-22 18:29:29.048424"]]
D, [2020-04-22T18:29:29.050654 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.051668 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.053106 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.054320 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.055665 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.057392 #10006] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.058708 #10006] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:29:29.059924 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.061419 #10006]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:29:29 +0000
I, [2020-04-22T18:29:29.062523 #10006]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:29:29.062858 #10006]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:29:29.063667 #10006] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:29:29.064379 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.065641 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.366509 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.379384 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.380871 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.382495 #10006]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:29:29.408099 #10006] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:29:29.415591 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:29:29.423043 #10006]  INFO -- :   Rendered assignments/_form.html.erb (39.1ms)
I, [2020-04-22T18:29:29.423504 #10006]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (40.6ms)
I, [2020-04-22T18:29:29.424755 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:29.426311 #10006]  INFO -- : Completed 200 OK in 363ms (Views: 43.7ms | ActiveRecord: 0.7ms)
D, [2020-04-22T18:29:29.431447 #10006] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:29.432217 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:29.432518 #10006]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-22T18:29:29.432595 #10006]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-22T18:29:29.432659 #10006]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-22T18:29:29.433565 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.434958 #10006] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.436551 #10006] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9015094496"], ["active", 1]]
D, [2020-04-22T18:29:29.437899 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.440770 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.442300 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "268618419"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.443552 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user4"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.445715 #10006] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "268618419"], ["date_of_birth", "2001-04-22"], ["phone", "9690410922"], ["role", "employee"], ["active", 1], ["username", "user4"], ["password_digest", "$2a$04$bO0aimqZ8UnEoPBXY.6fZez4aDhGsMl9UOVZfAig/w/dVgEiGXH5C"]]
D, [2020-04-22T18:29:29.447351 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.448959 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.450389 #10006] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:29:29.449472"], ["updated_at", "2020-04-22 18:29:29.449472"]]
D, [2020-04-22T18:29:29.451714 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.452751 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.454126 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.455347 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.456595 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.458194 #10006] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.459557 #10006] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:29:29.460716 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.461698 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:29:29.464427 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.465870 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "258882507"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.467064 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user5"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.468574 #10006] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "258882507"], ["date_of_birth", "2001-04-22"], ["phone", "9679198473"], ["role", "employee"], ["active", 1], ["username", "user5"], ["password_digest", "$2a$04$AQDPJYHuEiIV8XsKeuGBL.WgNymV1By53mjoddO3JSdWR4.X6jMSS"]]
D, [2020-04-22T18:29:29.470151 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.471556 #10006]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:29:29 +0000
I, [2020-04-22T18:29:29.472576 #10006]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:29:29.472897 #10006]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:29:29.473664 #10006] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:29:29.474352 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.475650 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.477216 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.479422 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.480730 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.482204 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.483256 #10006]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:29:29.484785 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:29:29.487471 #10006] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:29:29.491603 #10006]  INFO -- :   Rendered assignments/_form.html.erb (7.9ms)
I, [2020-04-22T18:29:29.492029 #10006]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.4ms)
I, [2020-04-22T18:29:29.493256 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:29.494755 #10006]  INFO -- : Completed 200 OK in 21ms (Views: 10.9ms | ActiveRecord: 0.7ms)
D, [2020-04-22T18:29:29.500246 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:29:29.501141 #10006] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:29.502160 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:29.502487 #10006]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-22T18:29:29.502565 #10006]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-22T18:29:29.502630 #10006]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-22T18:29:29.503438 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.504743 #10006] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.506235 #10006] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2078112679"], ["active", 1]]
D, [2020-04-22T18:29:29.507654 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.510419 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.512008 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "035202872"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.513222 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user6"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.514654 #10006] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "035202872"], ["date_of_birth", "2001-04-22"], ["phone", "3228800590"], ["role", "employee"], ["active", 1], ["username", "user6"], ["password_digest", "$2a$04$c.S/2oj0DH0Cf1n27JZIQeFa4It/HzF2xuM5BXJq/p/rRCWSu1qpC"]]
D, [2020-04-22T18:29:29.516184 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.517486 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.518799 #10006] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:29:29.517947"], ["updated_at", "2020-04-22 18:29:29.517947"]]
D, [2020-04-22T18:29:29.520148 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.521106 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.522404 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.523590 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.524826 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.526361 #10006] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.527648 #10006] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:29:29.528809 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.530028 #10006]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-22 18:29:29 +0000
F, [2020-04-22T18:29:29.547059 #10006] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-22T18:29:29.550893 #10006]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-22 18:29:29 +0000
F, [2020-04-22T18:29:29.570571 #10006] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T18:29:29.573855 #10006] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:29.574578 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:29.574908 #10006]  INFO -- : ----------------------------------------------
I, [2020-04-22T18:29:29.574986 #10006]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-22T18:29:29.575051 #10006]  INFO -- : ----------------------------------------------
D, [2020-04-22T18:29:29.575972 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.577414 #10006] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.578985 #10006] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1208235361"], ["active", 1]]
D, [2020-04-22T18:29:29.580394 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.583170 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.584699 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "188824266"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.585915 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user7"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.587431 #10006] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "188824266"], ["date_of_birth", "2001-04-22"], ["phone", "4248360048"], ["role", "employee"], ["active", 1], ["username", "user7"], ["password_digest", "$2a$04$XWA1HYg8DVB3uoCqADyaveNBGXe9lL5aPK2wsrtCTMMcXEaA0FJme"]]
D, [2020-04-22T18:29:29.588979 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.590441 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.591802 #10006] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:29:29.590908"], ["updated_at", "2020-04-22 18:29:29.590908"]]
D, [2020-04-22T18:29:29.593166 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.594137 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.595580 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.596743 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.597964 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.599549 #10006] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.600908 #10006] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:29:29.602034 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.603260 #10006]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-22 18:29:29 +0000
I, [2020-04-22T18:29:29.604353 #10006]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-22T18:29:29.605485 #10006]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:29:29.606928 #10006] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:29:29.609763 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:29:29.613896 #10006]  INFO -- :   Rendered assignments/_form.html.erb (7.9ms)
I, [2020-04-22T18:29:29.614394 #10006]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.5ms)
I, [2020-04-22T18:29:29.615592 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:29.617031 #10006]  INFO -- : Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.4ms)
D, [2020-04-22T18:29:29.620689 #10006] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:29.621461 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:29.621753 #10006]  INFO -- : -----------------------------------------------------------
I, [2020-04-22T18:29:29.621864 #10006]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-22T18:29:29.621932 #10006]  INFO -- : -----------------------------------------------------------
D, [2020-04-22T18:29:29.622834 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.624303 #10006] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.625865 #10006] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0238661726"], ["active", 1]]
D, [2020-04-22T18:29:29.627207 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.630042 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.631722 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "053931925"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.632949 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user8"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.634461 #10006] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "053931925"], ["date_of_birth", "2001-04-22"], ["phone", "2281576309"], ["role", "employee"], ["active", 1], ["username", "user8"], ["password_digest", "$2a$04$DXE3ARjQXBdkrHlUnD9qM.QFYdhSixSYwLJDmCPiezuig45OOQdDK"]]
D, [2020-04-22T18:29:29.636120 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.637516 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.638915 #10006] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:29:29.637948"], ["updated_at", "2020-04-22 18:29:29.637948"]]
D, [2020-04-22T18:29:29.640296 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.641300 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.642637 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.643901 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.645128 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.646814 #10006] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.648151 #10006] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:29:29.649335 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.650315 #10006] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:29.679738 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:29.680108 #10006]  INFO -- : --------------------------------------------------
I, [2020-04-22T18:29:29.680209 #10006]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-22T18:29:29.680278 #10006]  INFO -- : --------------------------------------------------
D, [2020-04-22T18:29:29.683017 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.684881 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "120461742"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.686122 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user9"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.687809 #10006] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "120461742"], ["date_of_birth", "2001-04-22"], ["phone", "1054597122"], ["role", "employee"], ["active", 1], ["username", "user9"], ["password_digest", "$2a$04$/70OdUt4q1HJApWJ45qNeePIjlgoedENgr5bxo74bQcj8j6N02lku"]]
D, [2020-04-22T18:29:29.689377 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.690514 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.691807 #10006] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.693233 #10006] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9393658807"], ["active", 1]]
D, [2020-04-22T18:29:29.694531 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.695915 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.697191 #10006] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:29:29.696341"], ["updated_at", "2020-04-22 18:29:29.696341"]]
D, [2020-04-22T18:29:29.698452 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.699416 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.700806 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.701994 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:29:29.703180 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.704757 #10006] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.706031 #10006] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:29:29.707178 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.708463 #10006]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-22 18:29:29 +0000
I, [2020-04-22T18:29:29.711204 #10006]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-22T18:29:29.711532 #10006]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:29:29.712508 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.714175 #10006] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.715533 #10006] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.717211 #10006] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
I, [2020-04-22T18:29:29.719836 #10006]  INFO -- :   Rendering employees/show.html.erb within layouts/application
I, [2020-04-22T18:29:29.723175 #10006]  INFO -- :   Rendered employees/show.html.erb within layouts/application (3.0ms)
I, [2020-04-22T18:29:29.724487 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:29.725890 #10006]  INFO -- : Completed 200 OK in 14ms (Views: 6.5ms | ActiveRecord: 0.5ms)
D, [2020-04-22T18:29:29.730306 #10006] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:29.731108 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:29.731450 #10006]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-22T18:29:29.731529 #10006]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-22T18:29:29.731593 #10006]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-22T18:29:29.734173 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.735836 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "001865273"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.737085 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user10"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.738731 #10006] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "001865273"], ["date_of_birth", "2001-04-22"], ["phone", "3205970364"], ["role", "employee"], ["active", 1], ["username", "user10"], ["password_digest", "$2a$04$YQT9hYWGyrT4sibXQDMcteBK0nUHHvMtSsCOwS.ddWjKSSxcsbvda"]]
D, [2020-04-22T18:29:29.740351 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.741798 #10006]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-22 18:29:29 +0000
I, [2020-04-22T18:29:29.743025 #10006]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-22T18:29:29.743375 #10006]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-22", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:29:29.744218 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.745538 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.748301 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.749917 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? AND "employees"."id" != ? LIMIT ?[0m  [["username", "user10"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.751884 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.753412 #10006]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-22T18:29:29.763969 #10006]  INFO -- :   Rendered employees/_form.html.erb (9.2ms)
I, [2020-04-22T18:29:29.764550 #10006]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (10.8ms)
I, [2020-04-22T18:29:29.765697 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:29.767306 #10006]  INFO -- : Completed 200 OK in 24ms (Views: 13.9ms | ActiveRecord: 0.4ms)
D, [2020-04-22T18:29:29.771985 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:29.772696 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:29.773019 #10006]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-22T18:29:29.773096 #10006]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-22T18:29:29.773177 #10006]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-22T18:29:29.775743 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.777309 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "303881595"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.778541 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user11"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.780191 #10006] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "303881595"], ["date_of_birth", "2001-04-22"], ["phone", "4533301162"], ["role", "employee"], ["active", 1], ["username", "user11"], ["password_digest", "$2a$04$T0ZXKlmWUgCs0p5BU98M/OF8DSs5D87316Z4Qzmb0OOD4oNNk3bRm"]]
D, [2020-04-22T18:29:29.782013 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.783510 #10006]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-22 18:29:29 +0000
I, [2020-04-22T18:29:29.784513 #10006]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-22T18:29:29.784854 #10006]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-22", "role"=>"employee", "active"=>"true"}}
D, [2020-04-22T18:29:29.786053 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.789062 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.790511 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:29:29.791983 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.793578 #10006]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-22T18:29:29.799327 #10006]  INFO -- :   Rendered employees/_form.html.erb (4.8ms)
I, [2020-04-22T18:29:29.799895 #10006]  INFO -- :   Rendered employees/new.html.erb within layouts/application (5.9ms)
I, [2020-04-22T18:29:29.805612 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:29.807284 #10006]  INFO -- : Completed 200 OK in 22ms (Views: 13.8ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:29:29.811495 #10006] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:29.812251 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:29.812564 #10006]  INFO -- : ----------------------------------------------
I, [2020-04-22T18:29:29.812640 #10006]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-22T18:29:29.812701 #10006]  INFO -- : ----------------------------------------------
D, [2020-04-22T18:29:29.815274 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.816874 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "227559635"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.818153 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user12"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.819893 #10006] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "227559635"], ["date_of_birth", "2001-04-22"], ["phone", "3315839001"], ["role", "employee"], ["active", 1], ["username", "user12"], ["password_digest", "$2a$04$M/FhxJVoigkZOO4epPdApe06PVRdwvXtl4aacHgUMGd0nkodIgFVO"]]
D, [2020-04-22T18:29:29.821580 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.822726 #10006]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-22 18:29:29 +0000
I, [2020-04-22T18:29:29.823643 #10006]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-22T18:29:29.826186 #10006]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-22T18:29:29.827851 #10006] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'manager') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:29:29.829384 #10006] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'employee') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-22T18:29:29.830925 #10006]  INFO -- :   Rendered employees/index.html.erb within layouts/application (4.4ms)
I, [2020-04-22T18:29:29.832116 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:29.833343 #10006]  INFO -- : Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:29:29.836628 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:29.837296 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:29.837622 #10006]  INFO -- : --------------------------------------------
I, [2020-04-22T18:29:29.837698 #10006]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-22T18:29:29.837762 #10006]  INFO -- : --------------------------------------------
D, [2020-04-22T18:29:29.840280 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.841893 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "334887662"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.843145 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user13"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.844772 #10006] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "334887662"], ["date_of_birth", "2001-04-22"], ["phone", "1874452703"], ["role", "employee"], ["active", 1], ["username", "user13"], ["password_digest", "$2a$04$hfRlYdweRQs.4mDbwbholeHW3/KXCpj0JdBtz3rly3D/YBqyI2/SK"]]
D, [2020-04-22T18:29:29.846304 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.847437 #10006]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-22 18:29:29 +0000
I, [2020-04-22T18:29:29.848380 #10006]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-22T18:29:29.849379 #10006]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-22T18:29:29.853696 #10006]  INFO -- :   Rendered employees/_form.html.erb (3.9ms)
I, [2020-04-22T18:29:29.854181 #10006]  INFO -- :   Rendered employees/new.html.erb within layouts/application (4.5ms)
I, [2020-04-22T18:29:29.855308 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:29.856679 #10006]  INFO -- : Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
D, [2020-04-22T18:29:29.859477 #10006] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:29.860186 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:29.860474 #10006]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:29:29.860547 #10006]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-22T18:29:29.860610 #10006]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:29:29.863134 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.864653 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "256526112"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.865921 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user14"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.867514 #10006] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "256526112"], ["date_of_birth", "2001-04-22"], ["phone", "2953135787"], ["role", "employee"], ["active", 1], ["username", "user14"], ["password_digest", "$2a$04$b4.U1PMUAQSBSXaYqsIz2uHDXa7XHHZ94eR9jF6jDedCfBOll/4VK"]]
D, [2020-04-22T18:29:29.869125 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.870344 #10006]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-22 18:29:29 +0000
I, [2020-04-22T18:29:29.871393 #10006]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-22T18:29:29.871687 #10006]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-22", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:29:29.872549 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.873840 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.875770 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.877385 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? AND "employees"."id" != ? LIMIT ?[0m  [["username", "user14"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.879342 #10006] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-22"], ["id", 1]]
D, [2020-04-22T18:29:29.880807 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.881792 #10006]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-22T18:29:29.882934 #10006]  INFO -- : Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
D, [2020-04-22T18:29:29.888262 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:29.888936 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:29.889237 #10006]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-22T18:29:29.889312 #10006]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-22T18:29:29.889425 #10006]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-22T18:29:29.891940 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.893503 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "235907239"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.894690 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user15"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.896248 #10006] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "235907239"], ["date_of_birth", "2001-04-22"], ["phone", "4865790204"], ["role", "employee"], ["active", 1], ["username", "user15"], ["password_digest", "$2a$04$geLATc8bp.jhyet1alZ9JOdhhB0ghToNnEyAIbEGMC8KHhQ66u4aG"]]
D, [2020-04-22T18:29:29.897666 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.898619 #10006]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-22 18:29:29 +0000
F, [2020-04-22T18:29:29.916082 #10006] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-22T18:29:29.919392 #10006] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:29.920064 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:29.920375 #10006]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:29:29.920449 #10006]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-22T18:29:29.920511 #10006]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:29:29.923010 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.924567 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "133087184"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.925717 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user16"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.927342 #10006] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "133087184"], ["date_of_birth", "2001-04-22"], ["phone", "5444568303"], ["role", "employee"], ["active", 1], ["username", "user16"], ["password_digest", "$2a$04$mPC.KyK8H7NfKv4Ol8Qjauu8G3xihVCDlsZJzT0aCNKF45Fe8ptsG"]]
D, [2020-04-22T18:29:29.928906 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.929879 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-22T18:29:29.931423 #10006]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-22 18:29:29 +0000
I, [2020-04-22T18:29:29.932320 #10006]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-22T18:29:29.932675 #10006]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-22", "role"=>"employee", "active"=>"true"}}
D, [2020-04-22T18:29:29.933879 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.936334 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.937724 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:29:29.939072 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.940092 #10006]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-22T18:29:29.945191 #10006]  INFO -- :   Rendered employees/_form.html.erb (4.6ms)
I, [2020-04-22T18:29:29.945738 #10006]  INFO -- :   Rendered employees/new.html.erb within layouts/application (5.3ms)
I, [2020-04-22T18:29:29.947102 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:29.948692 #10006]  INFO -- : Completed 200 OK in 16ms (Views: 8.1ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:29:29.952909 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-22T18:29:29.953726 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:29.954653 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:29.954969 #10006]  INFO -- : ---------------------------------------------
I, [2020-04-22T18:29:29.955099 #10006]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-22T18:29:29.955165 #10006]  INFO -- : ---------------------------------------------
D, [2020-04-22T18:29:29.957741 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.959401 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "281487773"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.960815 #10006] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user17"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.962456 #10006] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "281487773"], ["date_of_birth", "2001-04-22"], ["phone", "1975239029"], ["role", "employee"], ["active", 1], ["username", "user17"], ["password_digest", "$2a$04$K8GbH4I/sbIOTqY3uWFUg.gGzecytK3EAj9QG1sZ8eI2fxSIOtCvW"]]
D, [2020-04-22T18:29:29.964140 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.965350 #10006]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-22 18:29:29 +0000
I, [2020-04-22T18:29:29.966293 #10006]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-22T18:29:29.966570 #10006]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:29:29.967418 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:29:29.968733 #10006]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-22T18:29:29.973085 #10006]  INFO -- :   Rendered employees/_form.html.erb (3.8ms)
I, [2020-04-22T18:29:29.973648 #10006]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (4.6ms)
I, [2020-04-22T18:29:29.974732 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:29.976091 #10006]  INFO -- : Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.1ms)
D, [2020-04-22T18:29:29.979299 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:29.980364 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:29.980683 #10006]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-22T18:29:29.980761 #10006]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-22T18:29:29.980839 #10006]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-22T18:29:29.981701 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:29.983083 #10006] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:29.984655 #10006] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3266121722"], ["active", 1]]
D, [2020-04-22T18:29:29.986033 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:29.987144 #10006]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-22 18:29:29 +0000
F, [2020-04-22T18:29:30.001672 #10006] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-22T18:29:30.005187 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:30.005952 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:30.006234 #10006]  INFO -- : ---------------------------------------------------------------
I, [2020-04-22T18:29:30.006307 #10006]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-22T18:29:30.006404 #10006]  INFO -- : ---------------------------------------------------------------
D, [2020-04-22T18:29:30.007181 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:30.008519 #10006] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:30.009991 #10006] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2838814531"], ["active", 1]]
D, [2020-04-22T18:29:30.011321 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:30.012369 #10006]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-22 18:29:30 +0000
I, [2020-04-22T18:29:30.013506 #10006]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-22T18:29:30.013884 #10006]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:29:30.014714 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:30.016151 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:30.017870 #10006] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:30.019664 #10006] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "phone" = ?, "zip" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["phone", "7242682323"], ["zip", "15090"], ["id", 1]]
D, [2020-04-22T18:29:30.021006 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:30.022168 #10006]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-22T18:29:30.023358 #10006]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
D, [2020-04-22T18:29:30.028150 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:30.028870 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:30.029170 #10006]  INFO -- : --------------------------------------------
I, [2020-04-22T18:29:30.029243 #10006]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-22T18:29:30.029359 #10006]  INFO -- : --------------------------------------------
D, [2020-04-22T18:29:30.030159 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:30.031432 #10006] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:30.032896 #10006] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4885554351"], ["active", 1]]
D, [2020-04-22T18:29:30.034346 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:30.035454 #10006]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-22 18:29:30 +0000
I, [2020-04-22T18:29:30.036284 #10006]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-22T18:29:30.036552 #10006]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:29:30.037387 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:30.040385 #10006] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL)[0m  [["store_id", 1]]
D, [2020-04-22T18:29:30.041638 #10006] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL)[0m  [["store_id", 1]]
I, [2020-04-22T18:29:30.044241 #10006]  INFO -- :   Rendering stores/show.html.erb within layouts/application
D, [2020-04-22T18:29:30.052002 #10006] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (store_id = 1) AND (role = 'manager')[0m
D, [2020-04-22T18:29:30.053591 #10006] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (store_id = 1) AND (role = 'employee') LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-22T18:29:30.054618 #10006]  INFO -- :   Rendered stores/show.html.erb within layouts/application (10.0ms)
I, [2020-04-22T18:29:30.056026 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-22T18:29:30.057499 #10006]  INFO -- : Completed 200 OK in 21ms (Views: 13.4ms | ActiveRecord: 0.5ms)
D, [2020-04-22T18:29:30.062044 #10006] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:30.062769 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:30.063114 #10006]  INFO -- : ---------------------------------------------------------------
I, [2020-04-22T18:29:30.063188 #10006]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-22T18:29:30.063275 #10006]  INFO -- : ---------------------------------------------------------------
D, [2020-04-22T18:29:30.064261 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:30.065655 #10006] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:30.067302 #10006] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3247301332"], ["active", 1]]
D, [2020-04-22T18:29:30.068595 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:30.069623 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-22T18:29:30.071022 #10006]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-22 18:29:30 +0000
I, [2020-04-22T18:29:30.072147 #10006]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-22T18:29:30.072501 #10006]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-22T18:29:30.073791 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:30.075104 #10006] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-22T18:29:30.076634 #10006] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-22T18:29:30.078144 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:30.079077 #10006]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-22T18:29:30.080244 #10006]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
D, [2020-04-22T18:29:30.084860 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-22T18:29:30.085922 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:29:30.087013 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:30.087790 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:30.088120 #10006]  INFO -- : -------------------------------------------
I, [2020-04-22T18:29:30.088194 #10006]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-22T18:29:30.088255 #10006]  INFO -- : -------------------------------------------
D, [2020-04-22T18:29:30.089063 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:30.090369 #10006] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:30.091964 #10006] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6764714702"], ["active", 1]]
D, [2020-04-22T18:29:30.093364 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:30.094564 #10006]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-22 18:29:30 +0000
I, [2020-04-22T18:29:30.095573 #10006]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-22T18:29:30.097881 #10006]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-22T18:29:30.099364 #10006] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-22T18:29:30.100903 #10006]  INFO -- :   Rendered stores/index.html.erb within layouts/application (2.6ms)
I, [2020-04-22T18:29:30.102079 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:30.103419 #10006]  INFO -- : Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.2ms)
D, [2020-04-22T18:29:30.106664 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:30.107466 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:30.107813 #10006]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:29:30.107890 #10006]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-22T18:29:30.107991 #10006]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:29:30.108878 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:30.110235 #10006] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:30.111740 #10006] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1881626969"], ["active", 1]]
D, [2020-04-22T18:29:30.113089 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:30.114237 #10006]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-22 18:29:30 +0000
I, [2020-04-22T18:29:30.115376 #10006]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-22T18:29:30.115697 #10006]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:29:30.116531 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:30.117929 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:30.120149 #10006] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:29:30.121998 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:30.124135 #10006]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-22T18:29:30.143941 #10006]  INFO -- :   Rendered stores/_form.html.erb (18.1ms)
I, [2020-04-22T18:29:30.144424 #10006]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (19.9ms)
I, [2020-04-22T18:29:30.145705 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:30.147364 #10006]  INFO -- : Completed 200 OK in 31ms (Views: 23.9ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:29:30.151910 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:30.152755 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:30.153090 #10006]  INFO -- : -----------------------------------------
I, [2020-04-22T18:29:30.153164 #10006]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-22T18:29:30.153232 #10006]  INFO -- : -----------------------------------------
D, [2020-04-22T18:29:30.154173 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:30.155762 #10006] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:30.157328 #10006] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8900683284"], ["active", 1]]
D, [2020-04-22T18:29:30.158859 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:30.160067 #10006]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-22 18:29:30 +0000
I, [2020-04-22T18:29:30.161171 #10006]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-22T18:29:30.167379 #10006]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-22T18:29:30.175507 #10006]  INFO -- :   Rendered stores/_form.html.erb (7.3ms)
I, [2020-04-22T18:29:30.176043 #10006]  INFO -- :   Rendered stores/new.html.erb within layouts/application (8.3ms)
I, [2020-04-22T18:29:30.177163 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:30.178599 #10006]  INFO -- : Completed 200 OK in 17ms (Views: 15.0ms | ActiveRecord: 0.0ms)
D, [2020-04-22T18:29:30.181598 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:30.182315 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:30.182623 #10006]  INFO -- : ------------------------------------------
I, [2020-04-22T18:29:30.182698 #10006]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-22T18:29:30.182786 #10006]  INFO -- : ------------------------------------------
D, [2020-04-22T18:29:30.183567 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:30.184900 #10006] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:30.186414 #10006] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4585648227"], ["active", 1]]
D, [2020-04-22T18:29:30.187864 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:30.188976 #10006]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-22 18:29:30 +0000
I, [2020-04-22T18:29:30.189948 #10006]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-22T18:29:30.190227 #10006]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:29:30.191156 #10006] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:29:30.192557 #10006]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-22T18:29:30.200227 #10006]  INFO -- :   Rendered stores/_form.html.erb (7.2ms)
I, [2020-04-22T18:29:30.200645 #10006]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (7.7ms)
I, [2020-04-22T18:29:30.201708 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:30.203131 #10006]  INFO -- : Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.1ms)
D, [2020-04-22T18:29:30.206420 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:30.207070 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:30.207391 #10006]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:29:30.207514 #10006]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-22T18:29:30.207600 #10006]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:29:30.208396 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:30.209685 #10006] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:29:30.211206 #10006] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0307504508"], ["active", 1]]
D, [2020-04-22T18:29:30.212543 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:30.213760 #10006]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-22 18:29:30 +0000
I, [2020-04-22T18:29:30.214656 #10006]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-22T18:29:30.215016 #10006]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-22T18:29:30.216144 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:29:30.217908 #10006] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:29:30.219190 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:29:30.220107 #10006]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-22T18:29:30.228124 #10006]  INFO -- :   Rendered stores/_form.html.erb (7.6ms)
I, [2020-04-22T18:29:30.228577 #10006]  INFO -- :   Rendered stores/new.html.erb within layouts/application (8.2ms)
I, [2020-04-22T18:29:30.229619 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:30.231129 #10006]  INFO -- : Completed 200 OK in 16ms (Views: 10.5ms | ActiveRecord: 0.2ms)
D, [2020-04-22T18:29:30.234798 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:30.235858 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:30.236216 #10006]  INFO -- : -----------------------------------------
I, [2020-04-22T18:29:30.236291 #10006]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-04-22T18:29:30.236378 #10006]  INFO -- : -----------------------------------------
D, [2020-04-22T18:29:30.236820 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:30.279527 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:30.279927 #10006]  INFO -- : -------------------------------------------
I, [2020-04-22T18:29:30.280002 #10006]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-04-22T18:29:30.280064 #10006]  INFO -- : -------------------------------------------
D, [2020-04-22T18:29:30.280516 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:30.323197 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:30.323573 #10006]  INFO -- : -----------------------------------------
I, [2020-04-22T18:29:30.323650 #10006]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-04-22T18:29:30.323713 #10006]  INFO -- : -----------------------------------------
I, [2020-04-22T18:29:30.324654 #10006]  INFO -- : Started GET "/" for 127.0.0.1 at 2020-04-22 18:29:30 +0000
I, [2020-04-22T18:29:30.325671 #10006]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-22T18:29:30.327801 #10006]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-22T18:29:30.328957 #10006] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'manager') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:29:30.330461 #10006] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'employee') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-22T18:29:30.331636 #10006]  INFO -- :   Rendered employees/index.html.erb within layouts/application (3.5ms)
I, [2020-04-22T18:29:30.332836 #10006]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:29:30.334224 #10006]  INFO -- : Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.4ms)
D, [2020-04-22T18:29:30.337632 #10006] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:29:30.338313 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:29:30.338600 #10006]  INFO -- : -------------------------------------------
I, [2020-04-22T18:29:30.338674 #10006]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-04-22T18:29:30.338748 #10006]  INFO -- : -------------------------------------------
D, [2020-04-22T18:29:30.339174 #10006] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:47.824198 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:32:47.906975 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:47.907440 #10346]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:32:47.907483 #10346]  INFO -- : ApplicationControllerTest: test_should_redirect_to_home_path_on_404_errors
I, [2020-04-22T18:32:47.907507 #10346]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:32:47.983945 #10346]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-22 18:32:47 +0000
I, [2020-04-22T18:32:47.991391 #10346]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-22T18:32:47.991664 #10346]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:32:48.006488 #10346] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:32:48.008140 #10346]  INFO -- : Redirected to http://www.example.com/
I, [2020-04-22T18:32:48.009045 #10346]  INFO -- : Completed 302 Found in 17ms (ActiveRecord: 0.8ms)
D, [2020-04-22T18:32:48.015615 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:48.016886 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:48.017252 #10346]  INFO -- : ---------------------------------------------------------------
I, [2020-04-22T18:32:48.017357 #10346]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-22T18:32:48.017423 #10346]  INFO -- : ---------------------------------------------------------------
D, [2020-04-22T18:32:48.025545 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.027524 #10346] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.029310 #10346] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9782975153"], ["active", 1]]
D, [2020-04-22T18:32:48.030676 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.031768 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-22T18:32:48.037690 #10346]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-22 18:32:48 +0000
I, [2020-04-22T18:32:48.038883 #10346]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-22T18:32:48.039173 #10346]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-22T18:32:48.040531 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.042036 #10346] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.043549 #10346] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-22T18:32:48.044959 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:48.046169 #10346]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-22T18:32:48.047195 #10346]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.3ms)
D, [2020-04-22T18:32:48.051787 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-22T18:32:48.052870 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:32:48.054770 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:48.055610 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:48.055946 #10346]  INFO -- : --------------------------------------------
I, [2020-04-22T18:32:48.056025 #10346]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-22T18:32:48.056086 #10346]  INFO -- : --------------------------------------------
D, [2020-04-22T18:32:48.056938 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.058271 #10346] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.059815 #10346] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7979820731"], ["active", 1]]
D, [2020-04-22T18:32:48.061155 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:48.062330 #10346]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-22 18:32:48 +0000
I, [2020-04-22T18:32:48.063297 #10346]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-22T18:32:48.063593 #10346]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:32:48.064462 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.081466 #10346] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL)[0m  [["store_id", 1]]
D, [2020-04-22T18:32:48.082641 #10346] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL)[0m  [["store_id", 1]]
I, [2020-04-22T18:32:48.086777 #10346]  INFO -- :   Rendering stores/show.html.erb within layouts/application
D, [2020-04-22T18:32:48.116521 #10346] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (store_id = 1) AND (role = 'manager')[0m
D, [2020-04-22T18:32:48.118034 #10346] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (store_id = 1) AND (role = 'employee') LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-22T18:32:48.119094 #10346]  INFO -- :   Rendered stores/show.html.erb within layouts/application (31.9ms)
I, [2020-04-22T18:32:48.433657 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-22T18:32:48.435182 #10346]  INFO -- : Completed 200 OK in 371ms (Views: 349.6ms | ActiveRecord: 1.0ms)
D, [2020-04-22T18:32:48.440054 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:48.440880 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:48.441183 #10346]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:32:48.441276 #10346]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-22T18:32:48.441339 #10346]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:32:48.442248 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.443785 #10346] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.445297 #10346] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8894062052"], ["active", 1]]
D, [2020-04-22T18:32:48.446618 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:48.447895 #10346]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-22 18:32:48 +0000
I, [2020-04-22T18:32:48.449212 #10346]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-22T18:32:48.449503 #10346]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:32:48.450385 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.451743 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.694191 #10346] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.696146 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:48.697602 #10346]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-22T18:32:48.737281 #10346]  INFO -- :   Rendered stores/_form.html.erb (38.5ms)
I, [2020-04-22T18:32:48.737746 #10346]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (39.8ms)
I, [2020-04-22T18:32:48.738953 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:48.740503 #10346]  INFO -- : Completed 200 OK in 291ms (Views: 43.0ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:32:48.744497 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:48.745308 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:48.745601 #10346]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:32:48.745675 #10346]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-22T18:32:48.745735 #10346]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:32:48.746603 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.748130 #10346] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.749580 #10346] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5631319128"], ["active", 1]]
D, [2020-04-22T18:32:48.750838 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:48.752227 #10346]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-22 18:32:48 +0000
I, [2020-04-22T18:32:48.753195 #10346]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-22T18:32:48.753493 #10346]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-22T18:32:48.754699 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.756448 #10346] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:32:48.757672 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:48.759053 #10346]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-22T18:32:48.767304 #10346]  INFO -- :   Rendered stores/_form.html.erb (7.4ms)
I, [2020-04-22T18:32:48.767766 #10346]  INFO -- :   Rendered stores/new.html.erb within layouts/application (8.4ms)
I, [2020-04-22T18:32:48.768929 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:48.770409 #10346]  INFO -- : Completed 200 OK in 17ms (Views: 11.4ms | ActiveRecord: 0.2ms)
D, [2020-04-22T18:32:48.773889 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:48.774614 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:48.774934 #10346]  INFO -- : ------------------------------------------
I, [2020-04-22T18:32:48.775008 #10346]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-22T18:32:48.775073 #10346]  INFO -- : ------------------------------------------
D, [2020-04-22T18:32:48.775898 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.777191 #10346] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.778628 #10346] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5688904210"], ["active", 1]]
D, [2020-04-22T18:32:48.780003 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:48.781109 #10346]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-22 18:32:48 +0000
I, [2020-04-22T18:32:48.782087 #10346]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-22T18:32:48.782353 #10346]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:32:48.783256 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:32:48.784776 #10346]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-22T18:32:48.792311 #10346]  INFO -- :   Rendered stores/_form.html.erb (7.1ms)
I, [2020-04-22T18:32:48.792736 #10346]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (7.6ms)
I, [2020-04-22T18:32:48.793819 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:48.795126 #10346]  INFO -- : Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.1ms)
D, [2020-04-22T18:32:48.798210 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:48.799017 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:48.799360 #10346]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-22T18:32:48.799431 #10346]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-22T18:32:48.799495 #10346]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-22T18:32:48.800282 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.801592 #10346] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.803028 #10346] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1519911357"], ["active", 1]]
D, [2020-04-22T18:32:48.804333 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:48.805356 #10346]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-22 18:32:48 +0000
F, [2020-04-22T18:32:48.823146 #10346] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-22T18:32:48.826738 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:48.827518 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:48.827832 #10346]  INFO -- : -------------------------------------------
I, [2020-04-22T18:32:48.827919 #10346]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-22T18:32:48.827985 #10346]  INFO -- : -------------------------------------------
D, [2020-04-22T18:32:48.828826 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.830292 #10346] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.831777 #10346] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3054337490"], ["active", 1]]
D, [2020-04-22T18:32:48.833075 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:48.834200 #10346]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-22 18:32:48 +0000
I, [2020-04-22T18:32:48.835163 #10346]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-22T18:32:48.837290 #10346]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-22T18:32:48.838754 #10346] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-22T18:32:48.840219 #10346]  INFO -- :   Rendered stores/index.html.erb within layouts/application (2.6ms)
I, [2020-04-22T18:32:48.841392 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:48.842693 #10346]  INFO -- : Completed 200 OK in 7ms (Views: 5.0ms | ActiveRecord: 0.2ms)
D, [2020-04-22T18:32:48.845685 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:48.846468 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:48.846774 #10346]  INFO -- : -----------------------------------------
I, [2020-04-22T18:32:48.846863 #10346]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-22T18:32:48.846931 #10346]  INFO -- : -----------------------------------------
D, [2020-04-22T18:32:48.847767 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.849131 #10346] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.850572 #10346] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5163493792"], ["active", 1]]
D, [2020-04-22T18:32:48.851892 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:48.853005 #10346]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-22 18:32:48 +0000
I, [2020-04-22T18:32:48.853961 #10346]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-22T18:32:48.854984 #10346]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-22T18:32:48.862723 #10346]  INFO -- :   Rendered stores/_form.html.erb (7.3ms)
I, [2020-04-22T18:32:48.863250 #10346]  INFO -- :   Rendered stores/new.html.erb within layouts/application (7.9ms)
I, [2020-04-22T18:32:48.864392 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:48.865655 #10346]  INFO -- : Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
D, [2020-04-22T18:32:48.868389 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:48.869133 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:48.869416 #10346]  INFO -- : ---------------------------------------------------------------
I, [2020-04-22T18:32:48.869490 #10346]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-22T18:32:48.869553 #10346]  INFO -- : ---------------------------------------------------------------
D, [2020-04-22T18:32:48.870346 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.871648 #10346] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.873119 #10346] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7732564159"], ["active", 1]]
D, [2020-04-22T18:32:48.874370 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:48.875480 #10346]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-22 18:32:48 +0000
I, [2020-04-22T18:32:48.876525 #10346]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-22T18:32:48.876810 #10346]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:32:48.877594 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.878888 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.880488 #10346] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.882243 #10346] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "phone" = ?, "zip" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["phone", "7242682323"], ["zip", "15090"], ["id", 1]]
D, [2020-04-22T18:32:48.883609 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:48.884489 #10346]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-22T18:32:48.885543 #10346]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
D, [2020-04-22T18:32:48.890026 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:48.891157 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:48.891481 #10346]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-22T18:32:48.891555 #10346]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-22T18:32:48.891619 #10346]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-22T18:32:48.892396 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.893605 #10346] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.895016 #10346] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1865121347"], ["active", 1]]
D, [2020-04-22T18:32:48.896307 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.908759 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.910616 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "218708696"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.911829 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.913416 #10346] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "218708696"], ["date_of_birth", "2001-04-22"], ["phone", "6297794416"], ["role", "employee"], ["active", 1], ["username", "user1"], ["password_digest", "$2a$04$3VUNNWftl2MQX7oFo1UlhuUM1ae4CY4wH7GaW0STyeiCU2YQ1dHR."]]
D, [2020-04-22T18:32:48.914903 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.931487 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.932897 #10346] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:32:48.931940"], ["updated_at", "2020-04-22 18:32:48.931940"]]
D, [2020-04-22T18:32:48.934169 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.935889 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.937525 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:48.938779 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:48.940393 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.942969 #10346] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.944263 #10346] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:32:48.945382 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.946319 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:32:48.949117 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.950540 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "250160142"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.951794 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.953249 #10346] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "250160142"], ["date_of_birth", "2001-04-22"], ["phone", "1102872104"], ["role", "employee"], ["active", 1], ["username", "user2"], ["password_digest", "$2a$04$Fu/Xpwkxn7ut2tLXinEEhOC3ij0hUsdZj7ek4GqGG21hG1c3pDJVu"]]
D, [2020-04-22T18:32:48.954681 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:48.956148 #10346]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:32:48 +0000
I, [2020-04-22T18:32:48.958781 #10346]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:32:48.959084 #10346]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:32:48.959952 #10346] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:32:48.960589 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.962320 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.964161 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.966446 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:48.967771 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:48.969072 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:48.971103 #10346]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:32:48.973812 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:32:48.979683 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:32:48.984332 #10346]  INFO -- :   Rendered assignments/_form.html.erb (12.0ms)
I, [2020-04-22T18:32:48.984723 #10346]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (13.3ms)
I, [2020-04-22T18:32:48.985936 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:48.987414 #10346]  INFO -- : Completed 200 OK in 28ms (Views: 16.7ms | ActiveRecord: 0.6ms)
D, [2020-04-22T18:32:48.992585 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:32:48.993494 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:48.994627 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:48.994957 #10346]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:32:48.995028 #10346]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-22T18:32:48.995092 #10346]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-22T18:32:48.996064 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:48.997446 #10346] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:48.998972 #10346] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2960950570"], ["active", 1]]
D, [2020-04-22T18:32:49.000371 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.003115 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.004590 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "044701875"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.005823 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user3"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.007284 #10346] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "044701875"], ["date_of_birth", "2001-04-22"], ["phone", "9877314779"], ["role", "employee"], ["active", 1], ["username", "user3"], ["password_digest", "$2a$04$vJnB5GMW8Bn1xRsvYAAqAOjErDrg/XKd41VrN3t3ShmD1qFR1Fy1i"]]
D, [2020-04-22T18:32:49.008725 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.010030 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.011337 #10346] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:32:49.010466"], ["updated_at", "2020-04-22 18:32:49.010466"]]
D, [2020-04-22T18:32:49.012582 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.013503 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.014799 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.015978 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.017150 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.018745 #10346] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.020024 #10346] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:32:49.021104 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.022029 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-22T18:32:49.023190 #10346]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
I, [2020-04-22T18:32:49.024342 #10346]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-22T18:32:49.024612 #10346]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:32:49.025809 #10346] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.026877 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.027915 #10346] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-22T18:32:49.028812 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.029661 #10346]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-22T18:32:49.030475 #10346]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-22T18:32:49.034267 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:32:49.035169 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.035941 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.036232 #10346]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-22T18:32:49.036333 #10346]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-22T18:32:49.036415 #10346]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-22T18:32:49.037185 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.038433 #10346] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.039904 #10346] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5907917610"], ["active", 1]]
D, [2020-04-22T18:32:49.041185 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.043922 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.045370 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "132723199"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.046531 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user4"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.048107 #10346] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "132723199"], ["date_of_birth", "2001-04-22"], ["phone", "0880010603"], ["role", "employee"], ["active", 1], ["username", "user4"], ["password_digest", "$2a$04$Wia0cRgbqQf8UbCZ9oEWOuLa0FSrowTNr.mjbKjlNgjbg3Kq0wOYu"]]
D, [2020-04-22T18:32:49.049578 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.050876 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.052174 #10346] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:32:49.051327"], ["updated_at", "2020-04-22 18:32:49.051327"]]
D, [2020-04-22T18:32:49.053408 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.054375 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.055732 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.056882 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.058056 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.059657 #10346] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.060933 #10346] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:32:49.062078 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.063471 #10346]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
I, [2020-04-22T18:32:49.064431 #10346]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:32:49.064724 #10346]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:32:49.065453 #10346] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:32:49.066089 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.067326 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.070269 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.071535 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.072858 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.073867 #10346]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:32:49.075351 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:32:49.077949 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:32:49.081861 #10346]  INFO -- :   Rendered assignments/_form.html.erb (7.5ms)
I, [2020-04-22T18:32:49.082289 #10346]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.1ms)
I, [2020-04-22T18:32:49.083452 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:49.084877 #10346]  INFO -- : Completed 200 OK in 20ms (Views: 10.4ms | ActiveRecord: 0.6ms)
D, [2020-04-22T18:32:49.089586 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.090364 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.090657 #10346]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-22T18:32:49.090732 #10346]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-22T18:32:49.090792 #10346]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-22T18:32:49.091648 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.092948 #10346] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.094435 #10346] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4571365385"], ["active", 1]]
D, [2020-04-22T18:32:49.095731 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.098490 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.099992 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "268189077"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.101162 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user5"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.102634 #10346] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "268189077"], ["date_of_birth", "2001-04-22"], ["phone", "7589955156"], ["role", "employee"], ["active", 1], ["username", "user5"], ["password_digest", "$2a$04$h8Z0JEhZui6jSR5p7ERk7.ueFffso7sYS7szq6JjAOWgMEturlVzi"]]
D, [2020-04-22T18:32:49.104148 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.105440 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.106704 #10346] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:32:49.105873"], ["updated_at", "2020-04-22 18:32:49.105873"]]
D, [2020-04-22T18:32:49.108242 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.109180 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.110546 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.111720 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.112909 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.114431 #10346] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.115704 #10346] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:32:49.116805 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.117997 #10346]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
F, [2020-04-22T18:32:49.133764 #10346] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-22T18:32:49.137496 #10346]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
F, [2020-04-22T18:32:49.152113 #10346] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T18:32:49.155400 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.156168 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.156459 #10346]  INFO -- : -----------------------------------------------------------
I, [2020-04-22T18:32:49.156531 #10346]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-22T18:32:49.156589 #10346]  INFO -- : -----------------------------------------------------------
D, [2020-04-22T18:32:49.157477 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.158878 #10346] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.160436 #10346] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3239417117"], ["active", 1]]
D, [2020-04-22T18:32:49.161768 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.164574 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.166101 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "241094305"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.167300 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user6"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.175583 #10346] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "241094305"], ["date_of_birth", "2001-04-22"], ["phone", "4670407347"], ["role", "employee"], ["active", 1], ["username", "user6"], ["password_digest", "$2a$04$DBKj/stkWDgxSS/zS3u9KeMu5A8g7p.x9rRdDsQ6g9gXLhFnop8NO"]]
D, [2020-04-22T18:32:49.177104 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.178466 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.179774 #10346] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:32:49.178900"], ["updated_at", "2020-04-22 18:32:49.178900"]]
D, [2020-04-22T18:32:49.181014 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.182013 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.183372 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.184528 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.185722 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.187278 #10346] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.188524 #10346] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:32:49.189622 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.190541 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.221343 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.221705 #10346]  INFO -- : ----------------------------------------------
I, [2020-04-22T18:32:49.221780 #10346]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-22T18:32:49.221840 #10346]  INFO -- : ----------------------------------------------
D, [2020-04-22T18:32:49.222723 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.224169 #10346] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.225759 #10346] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3522643175"], ["active", 1]]
D, [2020-04-22T18:32:49.227104 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.229980 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.231511 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "274166385"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.232668 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user7"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.234171 #10346] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "274166385"], ["date_of_birth", "2001-04-22"], ["phone", "5969041514"], ["role", "employee"], ["active", 1], ["username", "user7"], ["password_digest", "$2a$04$5JCebGe9McdnOQnPLUYJPuiXPmdPF/UjQdXpFYm9Jlsod/ay.PGJO"]]
D, [2020-04-22T18:32:49.235691 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.237011 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.238258 #10346] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:32:49.237424"], ["updated_at", "2020-04-22 18:32:49.237424"]]
D, [2020-04-22T18:32:49.239483 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.240483 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.241766 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.242923 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.244103 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.245665 #10346] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.246900 #10346] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:32:49.248009 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.249186 #10346]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
I, [2020-04-22T18:32:49.250274 #10346]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-22T18:32:49.251429 #10346]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:32:49.252702 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:32:49.255298 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:32:49.258989 #10346]  INFO -- :   Rendered assignments/_form.html.erb (7.1ms)
I, [2020-04-22T18:32:49.259419 #10346]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (7.6ms)
I, [2020-04-22T18:32:49.260536 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:49.261785 #10346]  INFO -- : Completed 200 OK in 11ms (Views: 10.0ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:32:49.265179 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.265953 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.266252 #10346]  INFO -- : ------------------------------------------------
I, [2020-04-22T18:32:49.266325 #10346]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-22T18:32:49.266385 #10346]  INFO -- : ------------------------------------------------
D, [2020-04-22T18:32:49.267122 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.268454 #10346] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.269906 #10346] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2256309648"], ["active", 1]]
D, [2020-04-22T18:32:49.271212 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.273955 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.275395 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "192133483"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.276613 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user8"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.278036 #10346] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "192133483"], ["date_of_birth", "2001-04-22"], ["phone", "2218831250"], ["role", "employee"], ["active", 1], ["username", "user8"], ["password_digest", "$2a$04$QxvGl5YN4iK.4/oA3zX3o.35fv8X0XS8gfvafUgfHDvIlxJC9iGVO"]]
D, [2020-04-22T18:32:49.279573 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.280947 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.282179 #10346] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:32:49.281366"], ["updated_at", "2020-04-22 18:32:49.281366"]]
D, [2020-04-22T18:32:49.283505 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.284402 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.285769 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.286889 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.288130 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.289626 #10346] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.290877 #10346] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:32:49.291960 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.293091 #10346]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
I, [2020-04-22T18:32:49.294019 #10346]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-22T18:32:49.296002 #10346]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-22T18:32:49.297445 #10346] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:32:49.298857 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.300413 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:32:49.301817 #10346]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (5.5ms)
I, [2020-04-22T18:32:49.302948 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:49.304237 #10346]  INFO -- : Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.2ms)
D, [2020-04-22T18:32:49.307923 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.309091 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.309380 #10346]  INFO -- : -------------------------------------------
I, [2020-04-22T18:32:49.309452 #10346]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-04-22T18:32:49.309511 #10346]  INFO -- : -------------------------------------------
D, [2020-04-22T18:32:49.309983 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.357034 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.357428 #10346]  INFO -- : -------------------------------------------
I, [2020-04-22T18:32:49.357504 #10346]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-04-22T18:32:49.357566 #10346]  INFO -- : -------------------------------------------
D, [2020-04-22T18:32:49.358042 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.418188 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.418642 #10346]  INFO -- : -----------------------------------------
I, [2020-04-22T18:32:49.418723 #10346]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-04-22T18:32:49.418789 #10346]  INFO -- : -----------------------------------------
D, [2020-04-22T18:32:49.419297 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.469608 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.470047 #10346]  INFO -- : -----------------------------------------
I, [2020-04-22T18:32:49.470136 #10346]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-04-22T18:32:49.470201 #10346]  INFO -- : -----------------------------------------
I, [2020-04-22T18:32:49.471204 #10346]  INFO -- : Started GET "/" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
I, [2020-04-22T18:32:49.473935 #10346]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-22T18:32:49.477259 #10346]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-22T18:32:49.479262 #10346] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'manager') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:32:49.480886 #10346] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'employee') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-22T18:32:49.482173 #10346]  INFO -- :   Rendered employees/index.html.erb within layouts/application (4.5ms)
I, [2020-04-22T18:32:49.483464 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:49.484962 #10346]  INFO -- : Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 0.4ms)
D, [2020-04-22T18:32:49.488754 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.490031 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.490384 #10346]  INFO -- : ----------------------------------------------
I, [2020-04-22T18:32:49.490485 #10346]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-22T18:32:49.490555 #10346]  INFO -- : ----------------------------------------------
D, [2020-04-22T18:32:49.493422 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.495143 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "096164240"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.496436 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user9"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.498183 #10346] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "096164240"], ["date_of_birth", "2001-04-22"], ["phone", "4505881369"], ["role", "employee"], ["active", 1], ["username", "user9"], ["password_digest", "$2a$04$aP1FNYUtoo/cnbl/his2/OPLwO62.o7FLcjqSIbh7nVZKRJ7buqN6"]]
D, [2020-04-22T18:32:49.499883 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.501067 #10346]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
I, [2020-04-22T18:32:49.502060 #10346]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-22T18:32:49.504065 #10346]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-22T18:32:49.505113 #10346] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'manager') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:32:49.506747 #10346] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'employee') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-22T18:32:49.508586 #10346]  INFO -- :   Rendered employees/index.html.erb within layouts/application (4.1ms)
I, [2020-04-22T18:32:49.509885 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:49.511382 #10346]  INFO -- : Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:32:49.515498 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.516430 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.516724 #10346]  INFO -- : --------------------------------------------------
I, [2020-04-22T18:32:49.516798 #10346]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-22T18:32:49.516947 #10346]  INFO -- : --------------------------------------------------
D, [2020-04-22T18:32:49.519678 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.521350 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "236691030"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.522677 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user10"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.524492 #10346] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "236691030"], ["date_of_birth", "2001-04-22"], ["phone", "8101641167"], ["role", "employee"], ["active", 1], ["username", "user10"], ["password_digest", "$2a$04$kOEvTigYmTswGRa2ALSiN.f54WAss7G2wEQbcEetLwpnh2okvrWo2"]]
D, [2020-04-22T18:32:49.526115 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.527329 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.528703 #10346] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.530236 #10346] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4152540569"], ["active", 1]]
D, [2020-04-22T18:32:49.531868 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.533397 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.534722 #10346] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:32:49.533816"], ["updated_at", "2020-04-22 18:32:49.533816"]]
D, [2020-04-22T18:32:49.536187 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.537142 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.538438 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.539588 #10346] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:32:49.540779 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.542294 #10346] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.543551 #10346] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:32:49.544596 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.545829 #10346]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
I, [2020-04-22T18:32:49.546869 #10346]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-22T18:32:49.547153 #10346]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:32:49.548008 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.549546 #10346] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.550871 #10346] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.552468 #10346] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
I, [2020-04-22T18:32:49.554196 #10346]  INFO -- :   Rendering employees/show.html.erb within layouts/application
I, [2020-04-22T18:32:49.555587 #10346]  INFO -- :   Rendered employees/show.html.erb within layouts/application (1.0ms)
I, [2020-04-22T18:32:49.556751 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:49.558035 #10346]  INFO -- : Completed 200 OK in 11ms (Views: 3.7ms | ActiveRecord: 0.4ms)
D, [2020-04-22T18:32:49.562023 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.562837 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.563158 #10346]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-22T18:32:49.563255 #10346]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-22T18:32:49.563327 #10346]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-22T18:32:49.565881 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.567439 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "179668336"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.568640 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user11"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.570267 #10346] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "179668336"], ["date_of_birth", "2001-04-22"], ["phone", "0310462643"], ["role", "employee"], ["active", 1], ["username", "user11"], ["password_digest", "$2a$04$ExvnDncXAeGkTZvq0/08ceS8RPUVFLG/e3b8EmXwJUC4xPdYeo1ae"]]
D, [2020-04-22T18:32:49.571777 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.573135 #10346]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
I, [2020-04-22T18:32:49.574302 #10346]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-22T18:32:49.574600 #10346]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-22", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:32:49.575430 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.576682 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.579270 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.580735 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? AND "employees"."id" != ? LIMIT ?[0m  [["username", "user11"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.582471 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.583883 #10346]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-22T18:32:49.591840 #10346]  INFO -- :   Rendered employees/_form.html.erb (6.8ms)
I, [2020-04-22T18:32:49.592414 #10346]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (8.2ms)
I, [2020-04-22T18:32:49.593544 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:49.595078 #10346]  INFO -- : Completed 200 OK in 20ms (Views: 11.2ms | ActiveRecord: 0.4ms)
D, [2020-04-22T18:32:49.599396 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.600212 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.600511 #10346]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:32:49.600592 #10346]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-22T18:32:49.600656 #10346]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:32:49.603273 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.604841 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "031181674"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.606054 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user12"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.607620 #10346] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "031181674"], ["date_of_birth", "2001-04-22"], ["phone", "6054984730"], ["role", "employee"], ["active", 1], ["username", "user12"], ["password_digest", "$2a$04$eZpyODTgAJSnkju1.71vbud.pmFdfOEPxo.nEJEES5s2dE.9xNL0C"]]
D, [2020-04-22T18:32:49.609051 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.610002 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-22T18:32:49.611437 #10346]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
I, [2020-04-22T18:32:49.612561 #10346]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-22T18:32:49.612886 #10346]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-22", "role"=>"employee", "active"=>"true"}}
D, [2020-04-22T18:32:49.614056 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.616497 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.617816 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:32:49.619217 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.620643 #10346]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-22T18:32:49.625488 #10346]  INFO -- :   Rendered employees/_form.html.erb (4.0ms)
I, [2020-04-22T18:32:49.626002 #10346]  INFO -- :   Rendered employees/new.html.erb within layouts/application (5.0ms)
I, [2020-04-22T18:32:49.627135 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:49.628607 #10346]  INFO -- : Completed 200 OK in 15ms (Views: 8.0ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:32:49.632597 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-22T18:32:49.633438 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.634468 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.634770 #10346]  INFO -- : --------------------------------------------
I, [2020-04-22T18:32:49.634845 #10346]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-22T18:32:49.634925 #10346]  INFO -- : --------------------------------------------
D, [2020-04-22T18:32:49.637501 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.639045 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "304878796"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.640270 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user13"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.641838 #10346] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "304878796"], ["date_of_birth", "2001-04-22"], ["phone", "8903309601"], ["role", "employee"], ["active", 1], ["username", "user13"], ["password_digest", "$2a$04$u1ku7KSkAPhOfTttv.v/s.EabumIVeBPPc07i.tdwJX5gZCiAiwNy"]]
D, [2020-04-22T18:32:49.643290 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.644397 #10346]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
I, [2020-04-22T18:32:49.645383 #10346]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-22T18:32:49.646424 #10346]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-22T18:32:49.650535 #10346]  INFO -- :   Rendered employees/_form.html.erb (3.7ms)
I, [2020-04-22T18:32:49.651062 #10346]  INFO -- :   Rendered employees/new.html.erb within layouts/application (4.3ms)
I, [2020-04-22T18:32:49.652187 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:49.653416 #10346]  INFO -- : Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
D, [2020-04-22T18:32:49.656022 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.656697 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.656992 #10346]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:32:49.657066 #10346]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-22T18:32:49.657132 #10346]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:32:49.659615 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.661075 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "204791945"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.662460 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user14"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.664254 #10346] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "204791945"], ["date_of_birth", "2001-04-22"], ["phone", "2329800161"], ["role", "employee"], ["active", 1], ["username", "user14"], ["password_digest", "$2a$04$nCoF1GqrzHPe3XVXPRlCI.bP0Sfhv6GzoB3Bjfu33M9J9cJZcofCu"]]
D, [2020-04-22T18:32:49.665900 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.667324 #10346]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
I, [2020-04-22T18:32:49.668573 #10346]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-22T18:32:49.668968 #10346]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-22", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:32:49.669938 #10346] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.671607 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.673643 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.675647 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? AND "employees"."id" != ? LIMIT ?[0m  [["username", "user14"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.678183 #10346] DEBUG -- :   [1m[36mEmployee Update (0.2ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-22"], ["id", 1]]
D, [2020-04-22T18:32:49.681712 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.683117 #10346]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-22T18:32:49.685418 #10346]  INFO -- : Completed 302 Found in 16ms (ActiveRecord: 0.6ms)
D, [2020-04-22T18:32:49.694311 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.695306 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.695611 #10346]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-22T18:32:49.695688 #10346]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-22T18:32:49.695763 #10346]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-22T18:32:49.698598 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.700329 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "227340802"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.702035 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user15"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.704561 #10346] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "227340802"], ["date_of_birth", "2001-04-22"], ["phone", "6431194451"], ["role", "employee"], ["active", 1], ["username", "user15"], ["password_digest", "$2a$04$2De9KbYd3bizmh9ci62hv.hhb/XguduJD/rEqRdc9u9axOOpY6R9S"]]
D, [2020-04-22T18:32:49.707679 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.709574 #10346]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
I, [2020-04-22T18:32:49.711454 #10346]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-22T18:32:49.711765 #10346]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-22", "role"=>"employee", "active"=>"true"}}
D, [2020-04-22T18:32:49.713954 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.717839 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.720428 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:32:49.723140 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.724666 #10346]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-22T18:32:49.731897 #10346]  INFO -- :   Rendered employees/_form.html.erb (6.3ms)
I, [2020-04-22T18:32:49.732647 #10346]  INFO -- :   Rendered employees/new.html.erb within layouts/application (7.4ms)
I, [2020-04-22T18:32:49.734157 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:49.736406 #10346]  INFO -- : Completed 200 OK in 24ms (Views: 11.1ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:32:49.746132 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.746930 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.747379 #10346]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-22T18:32:49.747463 #10346]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-22T18:32:49.747528 #10346]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-22T18:32:49.750129 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.752022 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "076592625"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.753353 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user16"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.755053 #10346] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "076592625"], ["date_of_birth", "2001-04-22"], ["phone", "8909114428"], ["role", "employee"], ["active", 1], ["username", "user16"], ["password_digest", "$2a$04$F99nBRvV6tjI3pkpIk/CGeEun54R19.7b7o3F0XFgsl93Ifrgply2"]]
D, [2020-04-22T18:32:49.756921 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.758132 #10346]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
F, [2020-04-22T18:32:49.773108 #10346] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-22T18:32:49.779581 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:32:49.780418 #10346] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:32:49.781293 #10346]  INFO -- : ---------------------------------------------
I, [2020-04-22T18:32:49.781379 #10346]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-22T18:32:49.781444 #10346]  INFO -- : ---------------------------------------------
D, [2020-04-22T18:32:49.784658 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:32:49.786827 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "329750536"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.789461 #10346] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user17"], ["LIMIT", 1]]
D, [2020-04-22T18:32:49.791888 #10346] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "329750536"], ["date_of_birth", "2001-04-22"], ["phone", "1069744242"], ["role", "employee"], ["active", 1], ["username", "user17"], ["password_digest", "$2a$04$0ApjBrzxrYM94uH7shupfOhZOXkQ4UHXULB4trsZsJjFKmV1qad3G"]]
D, [2020-04-22T18:32:49.794059 #10346] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:32:49.795630 #10346]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-22 18:32:49 +0000
I, [2020-04-22T18:32:49.797340 #10346]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-22T18:32:49.797619 #10346]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:32:49.799027 #10346] DEBUG -- :   [1m[36mEmployee Load (0.5ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:32:49.800978 #10346]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-22T18:32:49.808046 #10346]  INFO -- :   Rendered employees/_form.html.erb (6.1ms)
I, [2020-04-22T18:32:49.808621 #10346]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (7.3ms)
I, [2020-04-22T18:32:49.810310 #10346]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:32:49.811723 #10346]  INFO -- : Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 0.5ms)
D, [2020-04-22T18:32:49.815669 #10346] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:14.090948 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:35:14.178672 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:14.179092 #10541]  INFO -- : ------------------------------------------
I, [2020-04-22T18:35:14.179133 #10541]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-22T18:35:14.179155 #10541]  INFO -- : ------------------------------------------
D, [2020-04-22T18:35:14.273376 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:14.275189 #10541] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:14.276752 #10541] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7402200933"], ["active", 1]]
D, [2020-04-22T18:35:14.277941 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:14.280733 #10541]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-22 18:35:14 +0000
I, [2020-04-22T18:35:14.288275 #10541]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-22T18:35:14.288551 #10541]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:35:14.294964 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:35:14.299553 #10541]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-22T18:35:14.487283 #10541]  INFO -- :   Rendered stores/_form.html.erb (185.7ms)
I, [2020-04-22T18:35:14.487799 #10541]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (187.8ms)
I, [2020-04-22T18:35:14.717741 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-22T18:35:14.719919 #10541]  INFO -- : Completed 200 OK in 431ms (Views: 421.4ms | ActiveRecord: 0.1ms)
D, [2020-04-22T18:35:14.734469 #10541] DEBUG -- :   [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:14.737529 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:14.738199 #10541]  INFO -- : -------------------------------------------
I, [2020-04-22T18:35:14.738279 #10541]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-22T18:35:14.738344 #10541]  INFO -- : -------------------------------------------
D, [2020-04-22T18:35:14.739759 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:14.742190 #10541] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:14.744104 #10541] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8120386235"], ["active", 1]]
D, [2020-04-22T18:35:14.746579 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:14.748172 #10541]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-22 18:35:14 +0000
I, [2020-04-22T18:35:14.749631 #10541]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-22T18:35:14.752593 #10541]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-22T18:35:14.754512 #10541] DEBUG -- :   [1m[36mStore Load (0.5ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-22T18:35:14.759250 #10541]  INFO -- :   Rendered stores/index.html.erb within layouts/application (5.9ms)
I, [2020-04-22T18:35:14.761135 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:35:14.763445 #10541]  INFO -- : Completed 200 OK in 13ms (Views: 9.8ms | ActiveRecord: 0.5ms)
D, [2020-04-22T18:35:14.792610 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:14.795439 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:14.795776 #10541]  INFO -- : ---------------------------------------------------------------
I, [2020-04-22T18:35:14.795871 #10541]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-22T18:35:14.795935 #10541]  INFO -- : ---------------------------------------------------------------
D, [2020-04-22T18:35:14.796852 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:14.798379 #10541] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:14.799981 #10541] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3480283044"], ["active", 1]]
D, [2020-04-22T18:35:14.801276 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:14.802287 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-22T18:35:14.808374 #10541]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-22 18:35:14 +0000
I, [2020-04-22T18:35:14.809530 #10541]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-22T18:35:14.809835 #10541]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-22T18:35:14.811124 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:14.812548 #10541] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-22T18:35:14.814036 #10541] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-22T18:35:14.815429 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:14.816491 #10541]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-22T18:35:14.817522 #10541]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-04-22T18:35:14.822118 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-22T18:35:14.823149 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:35:14.824289 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:14.826827 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:14.827135 #10541]  INFO -- : -----------------------------------------
I, [2020-04-22T18:35:14.827274 #10541]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-22T18:35:14.827352 #10541]  INFO -- : -----------------------------------------
D, [2020-04-22T18:35:14.828181 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:14.829482 #10541] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:14.830953 #10541] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2600102690"], ["active", 1]]
D, [2020-04-22T18:35:14.832261 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:14.833403 #10541]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-22 18:35:14 +0000
I, [2020-04-22T18:35:14.834443 #10541]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-22T18:35:14.836003 #10541]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-22T18:35:14.844531 #10541]  INFO -- :   Rendered stores/_form.html.erb (7.7ms)
I, [2020-04-22T18:35:14.845052 #10541]  INFO -- :   Rendered stores/new.html.erb within layouts/application (8.7ms)
I, [2020-04-22T18:35:14.846343 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:35:14.848019 #10541]  INFO -- : Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.0ms)
D, [2020-04-22T18:35:14.851060 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:14.854486 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:14.854875 #10541]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-22T18:35:14.854956 #10541]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-22T18:35:14.855021 #10541]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-22T18:35:14.855942 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:14.857289 #10541] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:14.858791 #10541] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0277469387"], ["active", 1]]
D, [2020-04-22T18:35:14.860189 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:14.861273 #10541]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-22 18:35:14 +0000
F, [2020-04-22T18:35:14.884124 #10541] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-22T18:35:14.889080 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:14.890261 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:14.890626 #10541]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:35:14.890708 #10541]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-22T18:35:14.890774 #10541]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:35:14.891756 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:14.893334 #10541] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:14.895017 #10541] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6112990114"], ["active", 1]]
D, [2020-04-22T18:35:14.896490 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:14.897854 #10541]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-22 18:35:14 +0000
I, [2020-04-22T18:35:14.899291 #10541]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-22T18:35:14.899613 #10541]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:35:14.900577 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:14.902064 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:14.904597 #10541] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:14.906404 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:14.907513 #10541]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-22T18:35:14.916244 #10541]  INFO -- :   Rendered stores/_form.html.erb (8.2ms)
I, [2020-04-22T18:35:14.916661 #10541]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (8.8ms)
I, [2020-04-22T18:35:14.917907 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:35:14.919669 #10541]  INFO -- : Completed 200 OK in 20ms (Views: 11.7ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:35:14.924104 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:14.925358 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:14.925684 #10541]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:35:14.925768 #10541]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-22T18:35:14.925860 #10541]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:35:14.926834 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:14.928340 #10541] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:14.929979 #10541] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7343241415"], ["active", 1]]
D, [2020-04-22T18:35:14.931431 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:14.932917 #10541]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-22 18:35:14 +0000
I, [2020-04-22T18:35:14.934029 #10541]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-22T18:35:14.934397 #10541]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-22T18:35:14.935682 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:14.937727 #10541] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:35:14.939134 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:14.940281 #10541]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-22T18:35:14.949128 #10541]  INFO -- :   Rendered stores/_form.html.erb (8.3ms)
I, [2020-04-22T18:35:14.949686 #10541]  INFO -- :   Rendered stores/new.html.erb within layouts/application (9.0ms)
I, [2020-04-22T18:35:14.950909 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:35:14.952619 #10541]  INFO -- : Completed 200 OK in 18ms (Views: 11.9ms | ActiveRecord: 0.2ms)
D, [2020-04-22T18:35:14.956570 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:14.957834 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:14.958189 #10541]  INFO -- : --------------------------------------------
I, [2020-04-22T18:35:14.958273 #10541]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-22T18:35:14.958342 #10541]  INFO -- : --------------------------------------------
D, [2020-04-22T18:35:14.959272 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:14.960769 #10541] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:14.962407 #10541] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1891449130"], ["active", 1]]
D, [2020-04-22T18:35:14.963948 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:14.965195 #10541]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-22 18:35:14 +0000
I, [2020-04-22T18:35:14.966167 #10541]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-22T18:35:14.966496 #10541]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:35:14.967424 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:14.986456 #10541] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL)[0m  [["store_id", 1]]
D, [2020-04-22T18:35:14.987776 #10541] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL)[0m  [["store_id", 1]]
I, [2020-04-22T18:35:14.989601 #10541]  INFO -- :   Rendering stores/show.html.erb within layouts/application
D, [2020-04-22T18:35:15.010559 #10541] DEBUG -- :   [1m[36mAssignment Load (0.3ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (store_id = 1) AND (role = 'manager')[0m
D, [2020-04-22T18:35:15.012095 #10541] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (store_id = 1) AND (role = 'employee') LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-22T18:35:15.013355 #10541]  INFO -- :   Rendered stores/show.html.erb within layouts/application (23.3ms)
I, [2020-04-22T18:35:15.014873 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:35:15.016313 #10541]  INFO -- : Completed 200 OK in 49ms (Views: 25.8ms | ActiveRecord: 1.2ms)
D, [2020-04-22T18:35:15.021456 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.022761 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.023101 #10541]  INFO -- : ---------------------------------------------------------------
I, [2020-04-22T18:35:15.023185 #10541]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-22T18:35:15.023278 #10541]  INFO -- : ---------------------------------------------------------------
D, [2020-04-22T18:35:15.024229 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.025684 #10541] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.027356 #10541] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4403984581"], ["active", 1]]
D, [2020-04-22T18:35:15.028733 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.030132 #10541]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.031415 #10541]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-22T18:35:15.031752 #10541]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:35:15.032682 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.034144 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.035946 #10541] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.037868 #10541] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "phone" = ?, "zip" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["phone", "7242682323"], ["zip", "15090"], ["id", 1]]
D, [2020-04-22T18:35:15.039300 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.040304 #10541]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-22T18:35:15.041430 #10541]  INFO -- : Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
D, [2020-04-22T18:35:15.046501 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.048190 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.048532 #10541]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:35:15.048618 #10541]  INFO -- : ApplicationControllerTest: test_should_redirect_to_home_path_on_404_errors
I, [2020-04-22T18:35:15.048690 #10541]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:35:15.049611 #10541]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.050532 #10541]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-22T18:35:15.050859 #10541]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:35:15.051908 #10541] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:35:15.053457 #10541]  INFO -- : Redirected to http://www.example.com/
I, [2020-04-22T18:35:15.054356 #10541]  INFO -- : Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
D, [2020-04-22T18:35:15.057765 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.059426 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.059757 #10541]  INFO -- : ----------------------------------------------
I, [2020-04-22T18:35:15.059859 #10541]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-22T18:35:15.059931 #10541]  INFO -- : ----------------------------------------------
D, [2020-04-22T18:35:15.079194 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.081482 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "109863876"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.082846 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.084872 #10541] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "109863876"], ["date_of_birth", "2001-04-22"], ["phone", "9453335953"], ["role", "employee"], ["active", 1], ["username", "user1"], ["password_digest", "$2a$04$2/3X3HrQpopnYBFEkp0/x.16mIEOj1/gN0GKJ8rc9OO1YmhfV0yb6"]]
D, [2020-04-22T18:35:15.086511 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.087897 #10541]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.090764 #10541]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-22T18:35:15.094176 #10541]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-22T18:35:15.096123 #10541] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'manager') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:35:15.097842 #10541] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'employee') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-22T18:35:15.099474 #10541]  INFO -- :   Rendered employees/index.html.erb within layouts/application (4.9ms)
I, [2020-04-22T18:35:15.100719 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:35:15.102106 #10541]  INFO -- : Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.5ms)
D, [2020-04-22T18:35:15.105833 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.107003 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.107353 #10541]  INFO -- : ---------------------------------------------
I, [2020-04-22T18:35:15.107429 #10541]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-22T18:35:15.107490 #10541]  INFO -- : ---------------------------------------------
D, [2020-04-22T18:35:15.110183 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.111835 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "327259105"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.113035 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.114636 #10541] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "327259105"], ["date_of_birth", "2001-04-22"], ["phone", "2685486488"], ["role", "employee"], ["active", 1], ["username", "user2"], ["password_digest", "$2a$04$e/zdnasDW8nelztc5R7rQ.UAAd.CkFp4huOiUSDNKlt3x0JOLvuR2"]]
D, [2020-04-22T18:35:15.116185 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.117407 #10541]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.118438 #10541]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-22T18:35:15.118849 #10541]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:35:15.120103 #10541] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:35:15.121946 #10541]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-22T18:35:15.130050 #10541]  INFO -- :   Rendered employees/_form.html.erb (6.9ms)
I, [2020-04-22T18:35:15.130660 #10541]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (8.4ms)
I, [2020-04-22T18:35:15.131861 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:35:15.133266 #10541]  INFO -- : Completed 200 OK in 14ms (Views: 11.1ms | ActiveRecord: 0.2ms)
D, [2020-04-22T18:35:15.136490 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.137679 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.137983 #10541]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-22T18:35:15.138057 #10541]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-22T18:35:15.138115 #10541]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-22T18:35:15.140746 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.142364 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "238141039"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.143577 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user3"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.145174 #10541] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "238141039"], ["date_of_birth", "2001-04-22"], ["phone", "4404634999"], ["role", "employee"], ["active", 1], ["username", "user3"], ["password_digest", "$2a$04$AgXGqt0WIpY0haYAsY5/2OW/l9JMzm3aaxJXjXJeKeBPy.2dOY6rG"]]
D, [2020-04-22T18:35:15.146625 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.148117 #10541]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.149197 #10541]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-22T18:35:15.149490 #10541]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-22", "role"=>"employee", "active"=>"true"}}
D, [2020-04-22T18:35:15.150701 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.153577 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.154939 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:35:15.156341 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.157683 #10541]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-22T18:35:15.162911 #10541]  INFO -- :   Rendered employees/_form.html.erb (4.4ms)
I, [2020-04-22T18:35:15.163379 #10541]  INFO -- :   Rendered employees/new.html.erb within layouts/application (5.4ms)
I, [2020-04-22T18:35:15.164499 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:35:15.165988 #10541]  INFO -- : Completed 200 OK in 16ms (Views: 8.3ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:35:15.169800 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.170953 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.171257 #10541]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-22T18:35:15.171335 #10541]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-22T18:35:15.171395 #10541]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-22T18:35:15.173944 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.175511 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "316340160"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.176921 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user4"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.178473 #10541] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "316340160"], ["date_of_birth", "2001-04-22"], ["phone", "3698798330"], ["role", "employee"], ["active", 1], ["username", "user4"], ["password_digest", "$2a$04$hfrnmzbyb27GjBwUDBn4G.jR14ZAQQ3zCCIs5fFNGlXFJ5Jr3CTWO"]]
D, [2020-04-22T18:35:15.179983 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.181322 #10541]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.182527 #10541]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-22T18:35:15.182869 #10541]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-22", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:35:15.183708 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.184984 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.187666 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.189242 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? AND "employees"."id" != ? LIMIT ?[0m  [["username", "user4"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.191010 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.192016 #10541]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-22T18:35:15.196388 #10541]  INFO -- :   Rendered employees/_form.html.erb (3.9ms)
I, [2020-04-22T18:35:15.196940 #10541]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (4.6ms)
I, [2020-04-22T18:35:15.198054 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:35:15.199539 #10541]  INFO -- : Completed 200 OK in 16ms (Views: 7.1ms | ActiveRecord: 0.4ms)
D, [2020-04-22T18:35:15.203926 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.205032 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.205351 #10541]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:35:15.205426 #10541]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-22T18:35:15.205485 #10541]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:35:15.208036 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.209531 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "385747546"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.210708 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user5"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.212301 #10541] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "385747546"], ["date_of_birth", "2001-04-22"], ["phone", "3482830286"], ["role", "employee"], ["active", 1], ["username", "user5"], ["password_digest", "$2a$04$QR7Yp9v/NywjDMkVNIM4d.5GUlWOUzx6n/5mMbap0a3VuT90v0W5K"]]
D, [2020-04-22T18:35:15.213759 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.215080 #10541]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.216232 #10541]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-22T18:35:15.216525 #10541]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-22", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:35:15.217385 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.218651 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.220556 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.222067 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? AND "employees"."id" != ? LIMIT ?[0m  [["username", "user5"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.223943 #10541] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-22"], ["id", 1]]
D, [2020-04-22T18:35:15.225243 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.226235 #10541]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-22T18:35:15.227342 #10541]  INFO -- : Completed 302 Found in 10ms (ActiveRecord: 0.5ms)
D, [2020-04-22T18:35:15.232411 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.233547 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.233899 #10541]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-22T18:35:15.233975 #10541]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-22T18:35:15.234036 #10541]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-22T18:35:15.236568 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.238047 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "022536613"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.239197 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user6"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.240769 #10541] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "022536613"], ["date_of_birth", "2001-04-22"], ["phone", "6864777464"], ["role", "employee"], ["active", 1], ["username", "user6"], ["password_digest", "$2a$04$euvW07ANjQkwCDYt4kyUxOtNY8ozXFj8C7uUEFa4its37R8g3QFh2"]]
D, [2020-04-22T18:35:15.242227 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.243333 #10541]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
F, [2020-04-22T18:35:15.269466 #10541] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-22T18:35:15.275689 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.276456 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.276833 #10541]  INFO -- : --------------------------------------------------
I, [2020-04-22T18:35:15.276919 #10541]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-22T18:35:15.276986 #10541]  INFO -- : --------------------------------------------------
D, [2020-04-22T18:35:15.279953 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.281817 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "030138973"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.283138 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user7"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.284927 #10541] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "030138973"], ["date_of_birth", "2001-04-22"], ["phone", "1017811345"], ["role", "employee"], ["active", 1], ["username", "user7"], ["password_digest", "$2a$04$IuWHLSLQwSBEF53t8aBOneMf5.JmWsrE5AmVweofqImklmH90AUoi"]]
D, [2020-04-22T18:35:15.286607 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.287732 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.289062 #10541] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.290500 #10541] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5159835276"], ["active", 1]]
D, [2020-04-22T18:35:15.291972 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.311456 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.313164 #10541] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:35:15.311967"], ["updated_at", "2020-04-22 18:35:15.311967"]]
D, [2020-04-22T18:35:15.314586 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.316401 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.318317 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.319704 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.321144 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.323915 #10541] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.325320 #10541] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:35:15.326536 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.327951 #10541]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.329176 #10541]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-22T18:35:15.329480 #10541]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:35:15.330442 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.332278 #10541] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.333709 #10541] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.335669 #10541] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
I, [2020-04-22T18:35:15.337819 #10541]  INFO -- :   Rendering employees/show.html.erb within layouts/application
I, [2020-04-22T18:35:15.339361 #10541]  INFO -- :   Rendered employees/show.html.erb within layouts/application (1.1ms)
I, [2020-04-22T18:35:15.340725 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-22T18:35:15.342241 #10541]  INFO -- : Completed 200 OK in 12ms (Views: 4.3ms | ActiveRecord: 0.5ms)
D, [2020-04-22T18:35:15.346828 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.347618 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.347962 #10541]  INFO -- : --------------------------------------------
I, [2020-04-22T18:35:15.348078 #10541]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-22T18:35:15.348147 #10541]  INFO -- : --------------------------------------------
D, [2020-04-22T18:35:15.351051 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.352813 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "348886822"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.354154 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user8"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.355961 #10541] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "348886822"], ["date_of_birth", "2001-04-22"], ["phone", "9473798551"], ["role", "employee"], ["active", 1], ["username", "user8"], ["password_digest", "$2a$04$eZfTM.bvAMQjFA38s.qqqO7p4hNO3d1IqqEKE1aQjH5fUu0T/rSXS"]]
D, [2020-04-22T18:35:15.357612 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.358980 #10541]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.360124 #10541]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-22T18:35:15.361328 #10541]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-22T18:35:15.366549 #10541]  INFO -- :   Rendered employees/_form.html.erb (4.6ms)
I, [2020-04-22T18:35:15.367136 #10541]  INFO -- :   Rendered employees/new.html.erb within layouts/application (5.4ms)
I, [2020-04-22T18:35:15.368409 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:35:15.369893 #10541]  INFO -- : Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms)
D, [2020-04-22T18:35:15.372969 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.373727 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.374062 #10541]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:35:15.374147 #10541]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-22T18:35:15.374215 #10541]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:35:15.377070 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.378757 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "198916910"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.380098 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user9"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.381920 #10541] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "198916910"], ["date_of_birth", "2001-04-22"], ["phone", "4089004913"], ["role", "employee"], ["active", 1], ["username", "user9"], ["password_digest", "$2a$04$mrzDv0hiUnxw.2/njwZQmOFD.tOSuAj84TVvTP2XBWw9BQ7/0cKQa"]]
D, [2020-04-22T18:35:15.383573 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.384671 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-22T18:35:15.386223 #10541]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.387216 #10541]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-22T18:35:15.387617 #10541]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-22", "role"=>"employee", "active"=>"true"}}
D, [2020-04-22T18:35:15.388966 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.391614 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.393109 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:35:15.394521 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.395592 #10541]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-22T18:35:15.400680 #10541]  INFO -- :   Rendered employees/_form.html.erb (4.6ms)
I, [2020-04-22T18:35:15.401269 #10541]  INFO -- :   Rendered employees/new.html.erb within layouts/application (5.3ms)
I, [2020-04-22T18:35:15.402500 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:35:15.404233 #10541]  INFO -- : Completed 200 OK in 16ms (Views: 8.1ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:35:15.408808 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-22T18:35:15.409736 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.411259 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.411581 #10541]  INFO -- : -------------------------------------------
I, [2020-04-22T18:35:15.411661 #10541]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-04-22T18:35:15.411729 #10541]  INFO -- : -------------------------------------------
D, [2020-04-22T18:35:15.412237 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.465306 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.465736 #10541]  INFO -- : -----------------------------------------
I, [2020-04-22T18:35:15.465835 #10541]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-04-22T18:35:15.465910 #10541]  INFO -- : -----------------------------------------
D, [2020-04-22T18:35:15.466444 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.528889 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.529318 #10541]  INFO -- : -----------------------------------------
I, [2020-04-22T18:35:15.529403 #10541]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-04-22T18:35:15.529471 #10541]  INFO -- : -----------------------------------------
I, [2020-04-22T18:35:15.530542 #10541]  INFO -- : Started GET "/" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.531652 #10541]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-22T18:35:15.533978 #10541]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-22T18:35:15.535222 #10541] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'manager') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:35:15.537050 #10541] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'employee') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-22T18:35:15.538497 #10541]  INFO -- :   Rendered employees/index.html.erb within layouts/application (4.0ms)
I, [2020-04-22T18:35:15.540294 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:35:15.542364 #10541]  INFO -- : Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.4ms)
D, [2020-04-22T18:35:15.546507 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.547331 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.547652 #10541]  INFO -- : -------------------------------------------
I, [2020-04-22T18:35:15.547812 #10541]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-04-22T18:35:15.547892 #10541]  INFO -- : -------------------------------------------
D, [2020-04-22T18:35:15.548340 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.597230 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.597610 #10541]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-22T18:35:15.597753 #10541]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-22T18:35:15.597835 #10541]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-22T18:35:15.598876 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.600487 #10541] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.602108 #10541] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0089097477"], ["active", 1]]
D, [2020-04-22T18:35:15.603528 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.606335 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.607898 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "112920007"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.609226 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user10"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.610727 #10541] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "112920007"], ["date_of_birth", "2001-04-22"], ["phone", "6469824333"], ["role", "employee"], ["active", 1], ["username", "user10"], ["password_digest", "$2a$04$sn6T0uYlhaEIPzgnVO2hLehNpUd5Do2dapeUf4Aap3JljCCz77JgG"]]
D, [2020-04-22T18:35:15.612349 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.613808 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.615136 #10541] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:35:15.614271"], ["updated_at", "2020-04-22 18:35:15.614271"]]
D, [2020-04-22T18:35:15.616476 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.617483 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.618860 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.620229 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.621516 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.623060 #10541] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.624462 #10541] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:35:15.625751 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.626824 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:35:15.629585 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.630998 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "378523289"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.632317 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user11"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.633730 #10541] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "378523289"], ["date_of_birth", "2001-04-22"], ["phone", "4110679327"], ["role", "employee"], ["active", 1], ["username", "user11"], ["password_digest", "$2a$04$w7IeX1dfTvWd80Y6xjIxi.y6yph1RIBiPoC5BiWRptRYJQO81t5ai"]]
D, [2020-04-22T18:35:15.635358 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.636820 #10541]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.639570 #10541]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:35:15.639896 #10541]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:35:15.640743 #10541] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:35:15.641464 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.643252 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.645210 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.647713 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.649116 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.650516 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.652676 #10541]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:35:15.655579 #10541] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:35:15.662245 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:35:15.667282 #10541]  INFO -- :   Rendered assignments/_form.html.erb (13.3ms)
I, [2020-04-22T18:35:15.667735 #10541]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (14.6ms)
I, [2020-04-22T18:35:15.669067 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:35:15.670911 #10541]  INFO -- : Completed 200 OK in 31ms (Views: 18.3ms | ActiveRecord: 0.8ms)
D, [2020-04-22T18:35:15.677078 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:35:15.678036 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.679061 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.679416 #10541]  INFO -- : -----------------------------------------------------------
I, [2020-04-22T18:35:15.679494 #10541]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-22T18:35:15.679556 #10541]  INFO -- : -----------------------------------------------------------
D, [2020-04-22T18:35:15.680433 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.681868 #10541] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.683488 #10541] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9570709887"], ["active", 1]]
D, [2020-04-22T18:35:15.684987 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.687917 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.689751 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "068272928"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.691356 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user12"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.693190 #10541] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "068272928"], ["date_of_birth", "2001-04-22"], ["phone", "6401177439"], ["role", "employee"], ["active", 1], ["username", "user12"], ["password_digest", "$2a$04$L2atCj3K1BbazS34dQwmv.xIlRrho7nFSNiwsOEIuogm1i5NSkPCG"]]
D, [2020-04-22T18:35:15.694763 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.696174 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.697467 #10541] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:35:15.696612"], ["updated_at", "2020-04-22 18:35:15.696612"]]
D, [2020-04-22T18:35:15.698752 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.699765 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.701125 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.702308 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.703598 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.705194 #10541] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.706468 #10541] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:35:15.707636 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.708590 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.744632 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.744977 #10541]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-22T18:35:15.745056 #10541]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-22T18:35:15.745294 #10541]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-22T18:35:15.746307 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.747890 #10541] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.750073 #10541] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7535642551"], ["active", 1]]
D, [2020-04-22T18:35:15.752221 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.755889 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.758382 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "131082876"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.760768 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user13"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.763358 #10541] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "131082876"], ["date_of_birth", "2001-04-22"], ["phone", "5342291047"], ["role", "employee"], ["active", 1], ["username", "user13"], ["password_digest", "$2a$04$P8/eMv4ZA9Unf9p8mWz/F.NyXkMf2scigt/F.9.e80lBzlu1cgLYq"]]
D, [2020-04-22T18:35:15.766426 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.769145 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.770911 #10541] DEBUG -- :   [1m[36mPayGrade Create (0.6ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:35:15.769579"], ["updated_at", "2020-04-22 18:35:15.769579"]]
D, [2020-04-22T18:35:15.773665 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.775201 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.777138 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.779287 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.781580 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.784215 #10541] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.786428 #10541] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:35:15.788525 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.790843 #10541]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.792298 #10541]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:35:15.792950 #10541]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:35:15.794124 #10541] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:35:15.794795 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.796992 #10541] DEBUG -- :   [1m[36mStore Load (0.5ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.801610 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.803667 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.806471 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.808037 #10541]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:35:15.810264 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:35:15.814292 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:35:15.820661 #10541]  INFO -- :   Rendered assignments/_form.html.erb (12.0ms)
I, [2020-04-22T18:35:15.821112 #10541]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (12.7ms)
I, [2020-04-22T18:35:15.822685 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:35:15.825129 #10541]  INFO -- : Completed 200 OK in 32ms (Views: 16.4ms | ActiveRecord: 1.0ms)
D, [2020-04-22T18:35:15.835277 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.836147 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.836444 #10541]  INFO -- : ----------------------------------------------
I, [2020-04-22T18:35:15.836519 #10541]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-22T18:35:15.836582 #10541]  INFO -- : ----------------------------------------------
D, [2020-04-22T18:35:15.837579 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.839109 #10541] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.840723 #10541] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4878444867"], ["active", 1]]
D, [2020-04-22T18:35:15.842267 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.845135 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.846717 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "375848383"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.848070 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user14"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.849824 #10541] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "375848383"], ["date_of_birth", "2001-04-22"], ["phone", "6464272020"], ["role", "employee"], ["active", 1], ["username", "user14"], ["password_digest", "$2a$04$pPW/XerTxy/DUXgq8zGpVuYlufw11qUM9vmw9.NrWMADYTYX/fwFS"]]
D, [2020-04-22T18:35:15.851557 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.853140 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.854496 #10541] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:35:15.853558"], ["updated_at", "2020-04-22 18:35:15.853558"]]
D, [2020-04-22T18:35:15.855852 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.856887 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.858274 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.859544 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.860948 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.862665 #10541] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.864031 #10541] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:35:15.865347 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.866499 #10541]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.867841 #10541]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-22T18:35:15.869068 #10541]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:35:15.870535 #10541] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:35:15.873506 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:35:15.877743 #10541]  INFO -- :   Rendered assignments/_form.html.erb (8.2ms)
I, [2020-04-22T18:35:15.878299 #10541]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.9ms)
I, [2020-04-22T18:35:15.879661 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:35:15.881184 #10541]  INFO -- : Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:35:15.885290 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.886114 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.886420 #10541]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:35:15.886500 #10541]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-22T18:35:15.886567 #10541]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-22T18:35:15.887566 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.889098 #10541] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.890730 #10541] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7388634282"], ["active", 1]]
D, [2020-04-22T18:35:15.892419 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.895384 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.897073 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "234183093"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.898438 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user15"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.900029 #10541] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "234183093"], ["date_of_birth", "2001-04-22"], ["phone", "0320312643"], ["role", "employee"], ["active", 1], ["username", "user15"], ["password_digest", "$2a$04$JFpCPkJ8rCXvuqWVgU8sluXdUHBI5ekErKhbYo7SEKeZhSpUkyXt6"]]
D, [2020-04-22T18:35:15.901808 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.903318 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.904915 #10541] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:35:15.903978"], ["updated_at", "2020-04-22 18:35:15.903978"]]
D, [2020-04-22T18:35:15.906999 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.908434 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.910177 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.911775 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.913315 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.915127 #10541] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.916477 #10541] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:35:15.917706 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.918631 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-22T18:35:15.919856 #10541]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.921063 #10541]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-22T18:35:15.921339 #10541]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:35:15.922536 #10541] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.923666 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.924757 #10541] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-22T18:35:15.925731 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.926580 #10541]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-22T18:35:15.927571 #10541]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
D, [2020-04-22T18:35:15.931947 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:35:15.933012 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.933824 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.934127 #10541]  INFO -- : ------------------------------------------------
I, [2020-04-22T18:35:15.934205 #10541]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-22T18:35:15.934270 #10541]  INFO -- : ------------------------------------------------
D, [2020-04-22T18:35:15.935152 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.936703 #10541] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.938453 #10541] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5994557356"], ["active", 1]]
D, [2020-04-22T18:35:15.940423 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.943347 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.944898 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "174806758"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.946116 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user16"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.947759 #10541] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "174806758"], ["date_of_birth", "2001-04-22"], ["phone", "7027740283"], ["role", "employee"], ["active", 1], ["username", "user16"], ["password_digest", "$2a$04$05d.ts3r7ezSOWOZmtfzRuFTDpVVqafhIZyHKfTpt3WQ4KVLcdtO6"]]
D, [2020-04-22T18:35:15.949639 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.951282 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.952646 #10541] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:35:15.951704"], ["updated_at", "2020-04-22 18:35:15.951704"]]
D, [2020-04-22T18:35:15.954010 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.954952 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.956385 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.957599 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:15.958972 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.960597 #10541] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.961953 #10541] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:35:15.963114 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:15.964407 #10541]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-22 18:35:15 +0000
I, [2020-04-22T18:35:15.965534 #10541]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-22T18:35:15.967566 #10541]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-22T18:35:15.969181 #10541] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:35:15.970611 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.972340 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:35:15.973856 #10541]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (5.9ms)
I, [2020-04-22T18:35:15.975211 #10541]  INFO -- :   Rendered partials/_footer.html.erb (0.2ms)
I, [2020-04-22T18:35:15.976755 #10541]  INFO -- : Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:35:15.980849 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:35:15.981614 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:35:15.981926 #10541]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-22T18:35:15.982001 #10541]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-22T18:35:15.982065 #10541]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-22T18:35:15.982932 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.984472 #10541] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.985994 #10541] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7795827623"], ["active", 1]]
D, [2020-04-22T18:35:15.987377 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.990183 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.991746 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "341849616"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.993069 #10541] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user17"], ["LIMIT", 1]]
D, [2020-04-22T18:35:15.994600 #10541] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "341849616"], ["date_of_birth", "2001-04-22"], ["phone", "2866789861"], ["role", "employee"], ["active", 1], ["username", "user17"], ["password_digest", "$2a$04$paPXjIgDaoM60j3Zp8xnfOLlffF6Mi6kalZHmVqHPzrf1jxEcGWRS"]]
D, [2020-04-22T18:35:15.996372 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.997758 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:15.999118 #10541] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:35:15.998270"], ["updated_at", "2020-04-22 18:35:15.998270"]]
D, [2020-04-22T18:35:16.000500 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:16.001600 #10541] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:35:16.002986 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:16.004367 #10541] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:35:16.005607 #10541] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:16.007411 #10541] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:35:16.008932 #10541] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:35:16.011091 #10541] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:35:16.012682 #10541]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-22 18:35:16 +0000
F, [2020-04-22T18:35:16.030722 #10541] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-22T18:35:16.037764 #10541]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-22 18:35:16 +0000
F, [2020-04-22T18:35:16.059094 #10541] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T18:35:16.067455 #10541] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:30.417646 #10858] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:37:30.500902 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:30.501313 #10858]  INFO -- : ------------------------------------------------
I, [2020-04-22T18:37:30.501445 #10858]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-22T18:37:30.501479 #10858]  INFO -- : ------------------------------------------------
D, [2020-04-22T18:37:30.592410 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:30.594165 #10858] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:30.595676 #10858] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5466543994"], ["active", 1]]
D, [2020-04-22T18:37:30.596840 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:30.616123 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:30.618673 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084192812"], ["LIMIT", 1]]
D, [2020-04-22T18:37:30.619673 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
D, [2020-04-22T18:37:30.621027 #10858] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "084192812"], ["date_of_birth", "2001-04-22"], ["phone", "2505537183"], ["role", "employee"], ["active", 1], ["username", "user1"], ["password_digest", "$2a$04$c28qWBfU.enTk1tZ9PynKObeEsrGXo2hVPh4CJDqdg51e/27JwEN6"]]
D, [2020-04-22T18:37:30.622323 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:30.647920 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:30.660376 #10858] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:37:30.659534"], ["updated_at", "2020-04-22 18:37:30.659534"]]
D, [2020-04-22T18:37:30.661481 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:30.662967 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:30.664654 #10858] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:30.666584 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:30.668097 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:30.675935 #10858] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:30.677011 #10858] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:37:30.677937 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:30.680613 #10858]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-22 18:37:30 +0000
I, [2020-04-22T18:37:30.688140 #10858]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-22T18:37:30.696115 #10858]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-22T18:37:30.698474 #10858] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:37:30.700620 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:30.702741 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:37:30.704607 #10858]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (8.2ms)
I, [2020-04-22T18:37:30.874905 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-22T18:37:30.876538 #10858]  INFO -- : Completed 200 OK in 188ms (Views: 181.7ms | ActiveRecord: 0.4ms)
D, [2020-04-22T18:37:30.883126 #10858] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:30.884047 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:30.884359 #10858]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-22T18:37:30.884437 #10858]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-22T18:37:30.884498 #10858]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-22T18:37:30.885431 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:30.887031 #10858] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:30.888699 #10858] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5938326577"], ["active", 1]]
D, [2020-04-22T18:37:30.890033 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:30.892984 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:30.894586 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "057867911"], ["LIMIT", 1]]
D, [2020-04-22T18:37:30.895808 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
D, [2020-04-22T18:37:30.897323 #10858] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "057867911"], ["date_of_birth", "2001-04-22"], ["phone", "0286280324"], ["role", "employee"], ["active", 1], ["username", "user2"], ["password_digest", "$2a$04$x8TPsxgstMo9BndfpTmE0OET/LkxXppzSn.maMzV7XqHZm0cQHmS2"]]
D, [2020-04-22T18:37:30.898818 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:30.900216 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:30.901513 #10858] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:37:30.900637"], ["updated_at", "2020-04-22 18:37:30.900637"]]
D, [2020-04-22T18:37:30.902788 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:30.903778 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:30.905161 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:30.906498 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:30.907753 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:30.909395 #10858] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:30.910698 #10858] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:37:30.911936 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:30.918298 #10858]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:37:30 +0000
I, [2020-04-22T18:37:30.919545 #10858]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:37:30.919872 #10858]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:37:30.920672 #10858] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:37:30.945798 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:30.947566 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.175807 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.177163 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.178565 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.180050 #10858]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:37:31.201546 #10858] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:37:31.208627 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:37:31.214673 #10858]  INFO -- :   Rendered assignments/_form.html.erb (33.4ms)
I, [2020-04-22T18:37:31.215096 #10858]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (34.7ms)
I, [2020-04-22T18:37:31.216355 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:31.217859 #10858]  INFO -- : Completed 200 OK in 298ms (Views: 37.6ms | ActiveRecord: 0.8ms)
D, [2020-04-22T18:37:31.222697 #10858] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.223543 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.223886 #10858]  INFO -- : ----------------------------------------------
I, [2020-04-22T18:37:31.223964 #10858]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-22T18:37:31.224023 #10858]  INFO -- : ----------------------------------------------
D, [2020-04-22T18:37:31.224928 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.226396 #10858] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.228002 #10858] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7459626840"], ["active", 1]]
D, [2020-04-22T18:37:31.229339 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.232172 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.233673 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "346563767"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.234862 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user3"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.236382 #10858] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "346563767"], ["date_of_birth", "2001-04-22"], ["phone", "4185336824"], ["role", "employee"], ["active", 1], ["username", "user3"], ["password_digest", "$2a$04$arApQuGKuFlV7R/JH9GZX.PUOfA1fJ9wT1pfIZaJ6hnnzmmJIP5TK"]]
D, [2020-04-22T18:37:31.237889 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.239191 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.240506 #10858] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:37:31.239645"], ["updated_at", "2020-04-22 18:37:31.239645"]]
D, [2020-04-22T18:37:31.241741 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.242670 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.244148 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.245319 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.246503 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.248133 #10858] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.249473 #10858] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:37:31.250560 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.251870 #10858]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-22 18:37:31 +0000
I, [2020-04-22T18:37:31.252967 #10858]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-22T18:37:31.254069 #10858]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:37:31.255405 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:37:31.258061 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:37:31.261895 #10858]  INFO -- :   Rendered assignments/_form.html.erb (7.3ms)
I, [2020-04-22T18:37:31.262324 #10858]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (7.9ms)
I, [2020-04-22T18:37:31.263469 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:31.264743 #10858]  INFO -- : Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:37:31.268147 #10858] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.268932 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.269291 #10858]  INFO -- : -----------------------------------------------------------
I, [2020-04-22T18:37:31.269388 #10858]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-22T18:37:31.269448 #10858]  INFO -- : -----------------------------------------------------------
D, [2020-04-22T18:37:31.270245 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.271605 #10858] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.273094 #10858] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7931009487"], ["active", 1]]
D, [2020-04-22T18:37:31.274384 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.277191 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.278658 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "273091270"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.279887 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user4"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.281358 #10858] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "273091270"], ["date_of_birth", "2001-04-22"], ["phone", "8423284754"], ["role", "employee"], ["active", 1], ["username", "user4"], ["password_digest", "$2a$04$fve75WLG4SpfBS.KAPJvXelpcA3BE6kRtwU8Y/RNikXWQ5hkPaeZe"]]
D, [2020-04-22T18:37:31.282835 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.284200 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.285467 #10858] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:37:31.284624"], ["updated_at", "2020-04-22 18:37:31.284624"]]
D, [2020-04-22T18:37:31.286704 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.287702 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.289004 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.290198 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.291414 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.292948 #10858] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.294186 #10858] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:37:31.295284 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.296194 #10858] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.324023 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.324377 #10858]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-22T18:37:31.324455 #10858]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-22T18:37:31.324514 #10858]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-22T18:37:31.325391 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.326822 #10858] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.328385 #10858] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8538933446"], ["active", 1]]
D, [2020-04-22T18:37:31.329676 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.332517 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.334041 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "309236084"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.335208 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user5"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.336753 #10858] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "309236084"], ["date_of_birth", "2001-04-22"], ["phone", "8732685031"], ["role", "employee"], ["active", 1], ["username", "user5"], ["password_digest", "$2a$04$HgyYwnk05rT/qfNcqBFu9uwBmaQZTYutHm0DVtYDvvHlyfVE0InLG"]]
D, [2020-04-22T18:37:31.338205 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.339549 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.340820 #10858] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:37:31.339969"], ["updated_at", "2020-04-22 18:37:31.339969"]]
D, [2020-04-22T18:37:31.342109 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.343062 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.344386 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.345530 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.346689 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.348270 #10858] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.349581 #10858] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:37:31.350666 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.351665 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:37:31.354326 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.355734 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "354435092"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.356900 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user6"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.358267 #10858] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "354435092"], ["date_of_birth", "2001-04-22"], ["phone", "6434916945"], ["role", "employee"], ["active", 1], ["username", "user6"], ["password_digest", "$2a$04$gVNPMcwUqAPy7275CxFTTefobjXsXPszBTQbmA861jCp/CzSiuIaG"]]
D, [2020-04-22T18:37:31.359704 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.361076 #10858]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:37:31 +0000
I, [2020-04-22T18:37:31.362047 #10858]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:37:31.362323 #10858]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:37:31.363113 #10858] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:37:31.363780 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.364954 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.366395 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.368461 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.369739 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.371032 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.372054 #10858]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:37:31.373493 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:37:31.376078 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:37:31.380005 #10858]  INFO -- :   Rendered assignments/_form.html.erb (7.5ms)
I, [2020-04-22T18:37:31.380401 #10858]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.0ms)
I, [2020-04-22T18:37:31.381502 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:31.382908 #10858]  INFO -- : Completed 200 OK in 20ms (Views: 10.3ms | ActiveRecord: 0.6ms)
D, [2020-04-22T18:37:31.388117 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:37:31.388997 #10858] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.390055 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.390367 #10858]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-22T18:37:31.390445 #10858]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-22T18:37:31.390503 #10858]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-22T18:37:31.391337 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.392779 #10858] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.394250 #10858] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9530848662"], ["active", 1]]
D, [2020-04-22T18:37:31.395546 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.398250 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.399717 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "012554962"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.400971 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user7"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.402418 #10858] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "012554962"], ["date_of_birth", "2001-04-22"], ["phone", "6473550393"], ["role", "employee"], ["active", 1], ["username", "user7"], ["password_digest", "$2a$04$eIGavUNSxPq2GTFpX8.hdulzTnH0EPda2R4ebTCmw3Ra45x5h6WFW"]]
D, [2020-04-22T18:37:31.403881 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.405189 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.406465 #10858] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:37:31.405603"], ["updated_at", "2020-04-22 18:37:31.405603"]]
D, [2020-04-22T18:37:31.407748 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.408720 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.410053 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.411264 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.412462 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.413983 #10858] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.415220 #10858] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:37:31.416403 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.417619 #10858]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-22 18:37:31 +0000
F, [2020-04-22T18:37:31.432741 #10858] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-22T18:37:31.436617 #10858]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-22 18:37:31 +0000
F, [2020-04-22T18:37:31.457673 #10858] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T18:37:31.461196 #10858] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.461991 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.462276 #10858]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:37:31.462347 #10858]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-22T18:37:31.462403 #10858]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-22T18:37:31.463348 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.464867 #10858] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.466351 #10858] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5889868912"], ["active", 1]]
D, [2020-04-22T18:37:31.467726 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.470488 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.472011 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "116750906"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.473186 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user8"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.474656 #10858] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "116750906"], ["date_of_birth", "2001-04-22"], ["phone", "8817196513"], ["role", "employee"], ["active", 1], ["username", "user8"], ["password_digest", "$2a$04$o4yP3qpxtiolQbyGq3620.eaL7EmLelTpGQvttFFUe64d4sBw6Tkm"]]
D, [2020-04-22T18:37:31.476199 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.477467 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.478715 #10858] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:37:31.477883"], ["updated_at", "2020-04-22 18:37:31.477883"]]
D, [2020-04-22T18:37:31.479971 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.480904 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.482184 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.483353 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.484517 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.486129 #10858] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.487424 #10858] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:37:31.488560 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.489472 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-22T18:37:31.490533 #10858]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-22 18:37:31 +0000
I, [2020-04-22T18:37:31.491546 #10858]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-22T18:37:31.491826 #10858]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:37:31.492974 #10858] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.493985 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.495020 #10858] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-22T18:37:31.495954 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.496809 #10858]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-22T18:37:31.497615 #10858]  INFO -- : Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
D, [2020-04-22T18:37:31.501381 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:37:31.502299 #10858] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.503415 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.503737 #10858]  INFO -- : -----------------------------------------
I, [2020-04-22T18:37:31.503825 #10858]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-04-22T18:37:31.503887 #10858]  INFO -- : -----------------------------------------
D, [2020-04-22T18:37:31.504316 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.550426 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.550760 #10858]  INFO -- : -------------------------------------------
I, [2020-04-22T18:37:31.550852 #10858]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-04-22T18:37:31.550913 #10858]  INFO -- : -------------------------------------------
D, [2020-04-22T18:37:31.551384 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.606179 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.606547 #10858]  INFO -- : -------------------------------------------
I, [2020-04-22T18:37:31.606624 #10858]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-04-22T18:37:31.606683 #10858]  INFO -- : -------------------------------------------
D, [2020-04-22T18:37:31.607157 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.655127 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.655532 #10858]  INFO -- : -----------------------------------------
I, [2020-04-22T18:37:31.655659 #10858]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-04-22T18:37:31.655723 #10858]  INFO -- : -----------------------------------------
I, [2020-04-22T18:37:31.656678 #10858]  INFO -- : Started GET "/" for 127.0.0.1 at 2020-04-22 18:37:31 +0000
I, [2020-04-22T18:37:31.659293 #10858]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-22T18:37:31.662641 #10858]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-22T18:37:31.664687 #10858] DEBUG -- :   [1m[36mEmployee Load (0.3ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'manager') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:37:31.666292 #10858] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'employee') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-22T18:37:31.667574 #10858]  INFO -- :   Rendered employees/index.html.erb within layouts/application (4.6ms)
I, [2020-04-22T18:37:31.669027 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:31.670402 #10858]  INFO -- : Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 0.5ms)
D, [2020-04-22T18:37:31.674229 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.675440 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.675828 #10858]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:37:31.675906 #10858]  INFO -- : ApplicationControllerTest: test_should_redirect_to_home_path_on_404_errors
I, [2020-04-22T18:37:31.675972 #10858]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:37:31.676955 #10858]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-22 18:37:31 +0000
I, [2020-04-22T18:37:31.679599 #10858]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-22T18:37:31.679946 #10858]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:37:31.681366 #10858] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:37:31.683141 #10858]  INFO -- : Redirected to http://www.example.com/
I, [2020-04-22T18:37:31.684186 #10858]  INFO -- : Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
D, [2020-04-22T18:37:31.687850 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.689060 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.689438 #10858]  INFO -- : --------------------------------------------
I, [2020-04-22T18:37:31.689513 #10858]  INFO -- : EmployeesControllerTest: test_should_get_new
I, [2020-04-22T18:37:31.689572 #10858]  INFO -- : --------------------------------------------
D, [2020-04-22T18:37:31.692367 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.694166 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "126853311"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.695527 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user9"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.697302 #10858] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "126853311"], ["date_of_birth", "2001-04-22"], ["phone", "8070921106"], ["role", "employee"], ["active", 1], ["username", "user9"], ["password_digest", "$2a$04$5c7Hs55PEoDwPy6i31kdY.mgVFLFV4EeR8LiR/HI5pbUGM/joqbwy"]]
D, [2020-04-22T18:37:31.699020 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.700168 #10858]  INFO -- : Started GET "/employees/new" for 127.0.0.1 at 2020-04-22 18:37:31 +0000
I, [2020-04-22T18:37:31.701163 #10858]  INFO -- : Processing by EmployeesController#new as HTML
I, [2020-04-22T18:37:31.702657 #10858]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-22T18:37:31.711942 #10858]  INFO -- :   Rendered employees/_form.html.erb (8.0ms)
I, [2020-04-22T18:37:31.712423 #10858]  INFO -- :   Rendered employees/new.html.erb within layouts/application (9.4ms)
I, [2020-04-22T18:37:31.713574 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:31.714935 #10858]  INFO -- : Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.0ms)
D, [2020-04-22T18:37:31.717624 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.718406 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.718715 #10858]  INFO -- : ------------------------------------------------------------------------------
I, [2020-04-22T18:37:31.718808 #10858]  INFO -- : EmployeesControllerTest: test_should_not_have_the_ability_to_destroy_employees
I, [2020-04-22T18:37:31.718876 #10858]  INFO -- : ------------------------------------------------------------------------------
D, [2020-04-22T18:37:31.721459 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.723129 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "045154898"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.724324 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user10"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.725908 #10858] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "045154898"], ["date_of_birth", "2001-04-22"], ["phone", "2770199884"], ["role", "employee"], ["active", 1], ["username", "user10"], ["password_digest", "$2a$04$KjjlbrCKZJBQbnV7BagYZeWsI0p41GdAchKCyDahzG7/MB.9XIdVu"]]
D, [2020-04-22T18:37:31.727359 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.728467 #10858]  INFO -- : Started DELETE "/employees/1" for 127.0.0.1 at 2020-04-22 18:37:31 +0000
F, [2020-04-22T18:37:31.744028 #10858] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for EmployeesController:
  test/controllers/employees_controller_test.rb:64:in `block in <class:EmployeesControllerTest>'

D, [2020-04-22T18:37:31.747286 #10858] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.748052 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.748348 #10858]  INFO -- : ---------------------------------------------
I, [2020-04-22T18:37:31.748423 #10858]  INFO -- : EmployeesControllerTest: test_should_get_edit
I, [2020-04-22T18:37:31.748491 #10858]  INFO -- : ---------------------------------------------
D, [2020-04-22T18:37:31.751123 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.752737 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "374483495"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.753909 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user11"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.755458 #10858] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "374483495"], ["date_of_birth", "2001-04-22"], ["phone", "0529117287"], ["role", "employee"], ["active", 1], ["username", "user11"], ["password_digest", "$2a$04$5N7TKbDvXlk1WzqR/ngVOOCPVFq/uHImn8pUan756VdmV7Zc6eXsu"]]
D, [2020-04-22T18:37:31.756900 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.758002 #10858]  INFO -- : Started GET "/employees/1/edit" for 127.0.0.1 at 2020-04-22 18:37:31 +0000
I, [2020-04-22T18:37:31.758956 #10858]  INFO -- : Processing by EmployeesController#edit as HTML
I, [2020-04-22T18:37:31.759229 #10858]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:37:31.760105 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:37:31.761829 #10858]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-22T18:37:31.766507 #10858]  INFO -- :   Rendered employees/_form.html.erb (3.9ms)
I, [2020-04-22T18:37:31.767078 #10858]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (4.9ms)
I, [2020-04-22T18:37:31.768270 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:31.769519 #10858]  INFO -- : Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.1ms)
D, [2020-04-22T18:37:31.772471 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.773198 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.773495 #10858]  INFO -- : --------------------------------------------------
I, [2020-04-22T18:37:31.773569 #10858]  INFO -- : EmployeesControllerTest: test_should_show_employee
I, [2020-04-22T18:37:31.773627 #10858]  INFO -- : --------------------------------------------------
D, [2020-04-22T18:37:31.776067 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.777501 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "091555608"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.778643 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user12"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.780192 #10858] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "091555608"], ["date_of_birth", "2001-04-22"], ["phone", "7667018602"], ["role", "employee"], ["active", 1], ["username", "user12"], ["password_digest", "$2a$04$i26gKSmSdJ23MLJJ8obqLO0PKMCugr0uJJkR2czx6VSGsvo3GjIJS"]]
D, [2020-04-22T18:37:31.781590 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.782633 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.784003 #10858] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.785429 #10858] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4062988340"], ["active", 1]]
D, [2020-04-22T18:37:31.786916 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.788360 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.789796 #10858] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:37:31.788841"], ["updated_at", "2020-04-22 18:37:31.788841"]]
D, [2020-04-22T18:37:31.791153 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.792244 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.793639 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.794755 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:37:31.796081 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.797820 #10858] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.799293 #10858] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:37:31.800597 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.801879 #10858]  INFO -- : Started GET "/employees/1" for 127.0.0.1 at 2020-04-22 18:37:31 +0000
I, [2020-04-22T18:37:31.803031 #10858]  INFO -- : Processing by EmployeesController#show as HTML
I, [2020-04-22T18:37:31.803503 #10858]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:37:31.804617 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.808515 #10858] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.810898 #10858] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) ORDER BY "assignments"."id" ASC LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.813914 #10858] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE "assignments"."employee_id" = ?[0m  [["employee_id", 1]]
I, [2020-04-22T18:37:31.816820 #10858]  INFO -- :   Rendering employees/show.html.erb within layouts/application
I, [2020-04-22T18:37:31.820644 #10858]  INFO -- :   Rendered employees/show.html.erb within layouts/application (3.5ms)
I, [2020-04-22T18:37:31.822502 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:31.824469 #10858]  INFO -- : Completed 200 OK in 21ms (Views: 7.7ms | ActiveRecord: 0.4ms)
D, [2020-04-22T18:37:31.833448 #10858] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.834867 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.835174 #10858]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-22T18:37:31.835274 #10858]  INFO -- : EmployeesControllerTest: test_should_not_create_employee_when_inappropriate
I, [2020-04-22T18:37:31.835346 #10858]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-22T18:37:31.838735 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.841265 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "188101394"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.843131 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user13"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.846207 #10858] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "188101394"], ["date_of_birth", "2001-04-22"], ["phone", "8660717309"], ["role", "employee"], ["active", 1], ["username", "user13"], ["password_digest", "$2a$04$9jNtJJR6.typHO7MS4KVTexGSdxAkkgkz4tkATlzJIlmIlgOLjYW."]]
D, [2020-04-22T18:37:31.849196 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.851504 #10858]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-22 18:37:31 +0000
I, [2020-04-22T18:37:31.853073 #10858]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-22T18:37:31.853378 #10858]  INFO -- :   Parameters: {"employee"=>{"first_name"=>nil, "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-22", "role"=>"employee", "active"=>"true"}}
D, [2020-04-22T18:37:31.855166 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.859676 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.864993 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:37:31.866594 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.867781 #10858]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-22T18:37:31.873732 #10858]  INFO -- :   Rendered employees/_form.html.erb (5.2ms)
I, [2020-04-22T18:37:31.874225 #10858]  INFO -- :   Rendered employees/new.html.erb within layouts/application (6.1ms)
I, [2020-04-22T18:37:31.875698 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:31.877701 #10858]  INFO -- : Completed 200 OK in 24ms (Views: 9.1ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:37:31.882838 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.883903 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.884204 #10858]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:37:31.884278 #10858]  INFO -- : EmployeesControllerTest: test_should_update_employee_when_appropriate
I, [2020-04-22T18:37:31.884339 #10858]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:37:31.887130 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.888867 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084490436"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.890218 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user14"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.892191 #10858] DEBUG -- :   [1m[36mEmployee Create (0.3ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "084490436"], ["date_of_birth", "2001-04-22"], ["phone", "5477047346"], ["role", "employee"], ["active", 1], ["username", "user14"], ["password_digest", "$2a$04$ArgISJ9YU1/ElPEzi/uTPOeNvUBSlz4LlUYSntU.9eHvhzh2vBSmG"]]
D, [2020-04-22T18:37:31.894386 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.896510 #10858]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-22 18:37:31 +0000
I, [2020-04-22T18:37:31.897664 #10858]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-22T18:37:31.898290 #10858]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>"Heimann", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-22", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:37:31.899114 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.901063 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.903537 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.905500 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? AND "employees"."id" != ? LIMIT ?[0m  [["username", "user14"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.907814 #10858] DEBUG -- :   [1m[36mEmployee Update (0.1ms)[0m  [1m[33mUPDATE "employees" SET "first_name" = ?, "last_name" = ?, "ssn" = ?, "phone" = ?, "date_of_birth" = ? WHERE "employees"."id" = ?[0m  [["first_name", "Mark"], ["last_name", "Heimann"], ["ssn", "037201234"], ["phone", "4122683259"], ["date_of_birth", "1994-04-22"], ["id", 1]]
D, [2020-04-22T18:37:31.909558 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.910887 #10858]  INFO -- : Redirected to http://www.example.com/employees/1
I, [2020-04-22T18:37:31.912391 #10858]  INFO -- : Completed 302 Found in 14ms (ActiveRecord: 0.7ms)
D, [2020-04-22T18:37:31.923753 #10858] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.924503 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.924812 #10858]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:37:31.924887 #10858]  INFO -- : EmployeesControllerTest: test_should_create_employee_when_appropriate
I, [2020-04-22T18:37:31.924948 #10858]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:37:31.928734 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.931161 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "112775413"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.932927 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user15"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.934920 #10858] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "112775413"], ["date_of_birth", "2001-04-22"], ["phone", "8856020281"], ["role", "employee"], ["active", 1], ["username", "user15"], ["password_digest", "$2a$04$fU73tHUc7dGX1aFxYEogvOeCnJJG5O9Tx1k2I8dZLtdMpmzlOoI6a"]]
D, [2020-04-22T18:37:31.937471 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.939415 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
I, [2020-04-22T18:37:31.941434 #10858]  INFO -- : Started POST "/employees" for 127.0.0.1 at 2020-04-22 18:37:31 +0000
I, [2020-04-22T18:37:31.942349 #10858]  INFO -- : Processing by EmployeesController#create as HTML
I, [2020-04-22T18:37:31.943294 #10858]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Ezra", "last_name"=>"Bridger", "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"2001-04-22", "role"=>"employee", "active"=>"true"}}
D, [2020-04-22T18:37:31.944896 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.947625 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "037201234"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.949093 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:37:31.950709 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.951912 #10858]  INFO -- :   Rendering employees/new.html.erb within layouts/application
I, [2020-04-22T18:37:31.957042 #10858]  INFO -- :   Rendered employees/_form.html.erb (4.5ms)
I, [2020-04-22T18:37:31.957538 #10858]  INFO -- :   Rendered employees/new.html.erb within layouts/application (5.3ms)
I, [2020-04-22T18:37:31.958735 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:31.960615 #10858]  INFO -- : Completed 200 OK in 17ms (Views: 8.0ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:37:31.965614 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "employees"[0m
D, [2020-04-22T18:37:31.966554 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.967845 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.968142 #10858]  INFO -- : ----------------------------------------------
I, [2020-04-22T18:37:31.968216 #10858]  INFO -- : EmployeesControllerTest: test_should_get_index
I, [2020-04-22T18:37:31.968278 #10858]  INFO -- : ----------------------------------------------
D, [2020-04-22T18:37:31.970838 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.972565 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "009439734"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.973899 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user16"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.975551 #10858] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "009439734"], ["date_of_birth", "2001-04-22"], ["phone", "8766183948"], ["role", "employee"], ["active", 1], ["username", "user16"], ["password_digest", "$2a$04$zClBsHTXOVzA2InZafBeJuKd8VawKxNKideNqRg4vCu/tA4FprJ.S"]]
D, [2020-04-22T18:37:31.977224 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:31.978483 #10858]  INFO -- : Started GET "/employees" for 127.0.0.1 at 2020-04-22 18:37:31 +0000
I, [2020-04-22T18:37:31.979439 #10858]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-22T18:37:31.981544 #10858]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-22T18:37:31.982422 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'manager') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:37:31.984061 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'employee') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-22T18:37:31.985693 #10858]  INFO -- :   Rendered employees/index.html.erb within layouts/application (3.8ms)
I, [2020-04-22T18:37:31.986882 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:31.988332 #10858]  INFO -- : Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:37:31.992328 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:31.993062 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:31.993351 #10858]  INFO -- : ---------------------------------------------------------------------------
I, [2020-04-22T18:37:31.993425 #10858]  INFO -- : EmployeesControllerTest: test_should_not_update_employee_when_inappropriate
I, [2020-04-22T18:37:31.993486 #10858]  INFO -- : ---------------------------------------------------------------------------
D, [2020-04-22T18:37:31.996187 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:31.997727 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "169748578"], ["LIMIT", 1]]
D, [2020-04-22T18:37:31.999114 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user17"], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.000864 #10858] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "169748578"], ["date_of_birth", "2001-04-22"], ["phone", "6610618102"], ["role", "employee"], ["active", 1], ["username", "user17"], ["password_digest", "$2a$04$A1xU7FdkmFRaRZN8BYjvIOPTTvSX4S8F1jFz6dMskHN9kiVq0Ys/O"]]
D, [2020-04-22T18:37:32.002537 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:32.004062 #10858]  INFO -- : Started PATCH "/employees/1" for 127.0.0.1 at 2020-04-22 18:37:32 +0000
I, [2020-04-22T18:37:32.005062 #10858]  INFO -- : Processing by EmployeesController#update as HTML
I, [2020-04-22T18:37:32.005462 #10858]  INFO -- :   Parameters: {"employee"=>{"first_name"=>"Mark", "last_name"=>nil, "ssn"=>"037201234", "phone"=>"4122683259", "date_of_birth"=>"1994-04-22", "role"=>"employee", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:37:32.006222 #10858] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.007863 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:32.011101 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? AND "employees"."id" != ? LIMIT ?[0m  [["ssn", "037201234"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.014538 #10858] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? AND "employees"."id" != ? LIMIT ?[0m  [["username", "user17"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.020844 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:32.022404 #10858]  INFO -- :   Rendering employees/edit.html.erb within layouts/application
I, [2020-04-22T18:37:32.028591 #10858]  INFO -- :   Rendered employees/_form.html.erb (4.8ms)
I, [2020-04-22T18:37:32.029606 #10858]  INFO -- :   Rendered employees/edit.html.erb within layouts/application (6.4ms)
I, [2020-04-22T18:37:32.031682 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:32.035676 #10858]  INFO -- : Completed 200 OK in 30ms (Views: 11.0ms | ActiveRecord: 0.4ms)
D, [2020-04-22T18:37:32.049283 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:32.051147 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:32.051466 #10858]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:37:32.051542 #10858]  INFO -- : StoresControllerTest: test_should_not_create_store_when_inappropriate
I, [2020-04-22T18:37:32.052129 #10858]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:37:32.053120 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:32.054923 #10858] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.057777 #10858] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8876930752"], ["active", 1]]
D, [2020-04-22T18:37:32.062105 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:32.064785 #10858]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-22 18:37:32 +0000
I, [2020-04-22T18:37:32.066466 #10858]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-22T18:37:32.067276 #10858]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-22T18:37:32.069022 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:32.071423 #10858] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:37:32.073455 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:32.075857 #10858]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-22T18:37:32.097509 #10858]  INFO -- :   Rendered stores/_form.html.erb (20.1ms)
I, [2020-04-22T18:37:32.098084 #10858]  INFO -- :   Rendered stores/new.html.erb within layouts/application (21.8ms)
I, [2020-04-22T18:37:32.099422 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:32.101275 #10858]  INFO -- : Completed 200 OK in 34ms (Views: 26.0ms | ActiveRecord: 0.2ms)
D, [2020-04-22T18:37:32.107476 #10858] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:32.108276 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:32.108572 #10858]  INFO -- : ------------------------------------------------------------------------
I, [2020-04-22T18:37:32.108646 #10858]  INFO -- : StoresControllerTest: test_should_not_have_the_ability_to_destroy_stores
I, [2020-04-22T18:37:32.108707 #10858]  INFO -- : ------------------------------------------------------------------------
D, [2020-04-22T18:37:32.109503 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:32.110891 #10858] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.112347 #10858] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8953641304"], ["active", 1]]
D, [2020-04-22T18:37:32.113599 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:32.114659 #10858]  INFO -- : Started DELETE "/stores/1" for 127.0.0.1 at 2020-04-22 18:37:32 +0000
F, [2020-04-22T18:37:32.126279 #10858] FATAL -- : 
AbstractController::ActionNotFound - The action 'destroy' could not be found for StoresController:
  test/controllers/stores_controller_test.rb:60:in `block in <class:StoresControllerTest>'

D, [2020-04-22T18:37:32.129777 #10858] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:32.130496 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:32.130849 #10858]  INFO -- : ---------------------------------------------------------------------
I, [2020-04-22T18:37:32.130926 #10858]  INFO -- : StoresControllerTest: test_should_not_update_store_when_inappropriate
I, [2020-04-22T18:37:32.130984 #10858]  INFO -- : ---------------------------------------------------------------------
D, [2020-04-22T18:37:32.131756 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:32.133036 #10858] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.134411 #10858] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6034845973"], ["active", 1]]
D, [2020-04-22T18:37:32.135670 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:32.136778 #10858]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-22 18:37:32 +0000
I, [2020-04-22T18:37:32.137932 #10858]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-22T18:37:32.138216 #10858]  INFO -- :   Parameters: {"store"=>{"name"=>nil, "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:37:32.139067 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.140379 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:32.142439 #10858] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE "stores"."name" IS NULL AND "stores"."id" != ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.144126 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:32.145497 #10858]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-22T18:37:32.153981 #10858]  INFO -- :   Rendered stores/_form.html.erb (7.7ms)
I, [2020-04-22T18:37:32.154352 #10858]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (8.6ms)
I, [2020-04-22T18:37:32.155501 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:32.157012 #10858]  INFO -- : Completed 200 OK in 18ms (Views: 11.5ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:37:32.160923 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:32.161686 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:32.161980 #10858]  INFO -- : --------------------------------------------
I, [2020-04-22T18:37:32.162052 #10858]  INFO -- : StoresControllerTest: test_should_show_store
I, [2020-04-22T18:37:32.162110 #10858]  INFO -- : --------------------------------------------
D, [2020-04-22T18:37:32.162877 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:32.164179 #10858] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.165576 #10858] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3159115165"], ["active", 1]]
D, [2020-04-22T18:37:32.166859 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:32.167980 #10858]  INFO -- : Started GET "/stores/1" for 127.0.0.1 at 2020-04-22 18:37:32 +0000
I, [2020-04-22T18:37:32.168862 #10858]  INFO -- : Processing by StoresController#show as HTML
I, [2020-04-22T18:37:32.169149 #10858]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:37:32.169929 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.172615 #10858] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL)[0m  [["store_id", 1]]
D, [2020-04-22T18:37:32.173728 #10858] DEBUG -- :   [1m[36mCACHE Assignment Load (0.0ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" WHERE "assignments"."store_id" = ? AND (end_date IS NULL)[0m  [["store_id", 1]]
I, [2020-04-22T18:37:32.175510 #10858]  INFO -- :   Rendering stores/show.html.erb within layouts/application
D, [2020-04-22T18:37:32.182281 #10858] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (store_id = 1) AND (role = 'manager')[0m
D, [2020-04-22T18:37:32.183681 #10858] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" INNER JOIN "employees" ON "employees"."id" = "assignments"."employee_id" WHERE (end_date IS NULL) AND (store_id = 1) AND (role = 'employee') LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-22T18:37:32.184601 #10858]  INFO -- :   Rendered stores/show.html.erb within layouts/application (8.7ms)
I, [2020-04-22T18:37:32.185800 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:32.187178 #10858]  INFO -- : Completed 200 OK in 18ms (Views: 11.1ms | ActiveRecord: 0.5ms)
D, [2020-04-22T18:37:32.191264 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:32.192095 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:32.192400 #10858]  INFO -- : ------------------------------------------
I, [2020-04-22T18:37:32.192471 #10858]  INFO -- : StoresControllerTest: test_should_get_edit
I, [2020-04-22T18:37:32.192530 #10858]  INFO -- : ------------------------------------------
D, [2020-04-22T18:37:32.193338 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:32.194646 #10858] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.196154 #10858] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3668379254"], ["active", 1]]
D, [2020-04-22T18:37:32.197361 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:32.198497 #10858]  INFO -- : Started GET "/stores/1/edit" for 127.0.0.1 at 2020-04-22 18:37:32 +0000
I, [2020-04-22T18:37:32.199500 #10858]  INFO -- : Processing by StoresController#edit as HTML
I, [2020-04-22T18:37:32.199780 #10858]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:37:32.200662 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:37:32.202024 #10858]  INFO -- :   Rendering stores/edit.html.erb within layouts/application
I, [2020-04-22T18:37:32.209902 #10858]  INFO -- :   Rendered stores/_form.html.erb (7.4ms)
I, [2020-04-22T18:37:32.210293 #10858]  INFO -- :   Rendered stores/edit.html.erb within layouts/application (8.0ms)
I, [2020-04-22T18:37:32.211369 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:32.212607 #10858]  INFO -- : Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 0.1ms)
D, [2020-04-22T18:37:32.215588 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:32.216300 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:32.216587 #10858]  INFO -- : -------------------------------------------
I, [2020-04-22T18:37:32.216660 #10858]  INFO -- : StoresControllerTest: test_should_get_index
I, [2020-04-22T18:37:32.216763 #10858]  INFO -- : -------------------------------------------
D, [2020-04-22T18:37:32.217478 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:32.218726 #10858] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.220161 #10858] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3174361024"], ["active", 1]]
D, [2020-04-22T18:37:32.221434 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:32.222400 #10858]  INFO -- : Started GET "/stores" for 127.0.0.1 at 2020-04-22 18:37:32 +0000
I, [2020-04-22T18:37:32.223230 #10858]  INFO -- : Processing by StoresController#index as HTML
I, [2020-04-22T18:37:32.225227 #10858]  INFO -- :   Rendering stores/index.html.erb within layouts/application
D, [2020-04-22T18:37:32.226696 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 5], ["OFFSET", 0]]
I, [2020-04-22T18:37:32.228186 #10858]  INFO -- :   Rendered stores/index.html.erb within layouts/application (2.6ms)
I, [2020-04-22T18:37:32.229272 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:32.230524 #10858]  INFO -- : Completed 200 OK in 7ms (Views: 4.9ms | ActiveRecord: 0.1ms)
D, [2020-04-22T18:37:32.233485 #10858] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:32.234221 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:32.234505 #10858]  INFO -- : -----------------------------------------
I, [2020-04-22T18:37:32.234579 #10858]  INFO -- : StoresControllerTest: test_should_get_new
I, [2020-04-22T18:37:32.234639 #10858]  INFO -- : -----------------------------------------
D, [2020-04-22T18:37:32.235410 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:32.236641 #10858] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.238108 #10858] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8316649823"], ["active", 1]]
D, [2020-04-22T18:37:32.239451 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:32.240462 #10858]  INFO -- : Started GET "/stores/new" for 127.0.0.1 at 2020-04-22 18:37:32 +0000
I, [2020-04-22T18:37:32.241268 #10858]  INFO -- : Processing by StoresController#new as HTML
I, [2020-04-22T18:37:32.242227 #10858]  INFO -- :   Rendering stores/new.html.erb within layouts/application
I, [2020-04-22T18:37:32.250035 #10858]  INFO -- :   Rendered stores/_form.html.erb (7.3ms)
I, [2020-04-22T18:37:32.250553 #10858]  INFO -- :   Rendered stores/new.html.erb within layouts/application (7.9ms)
I, [2020-04-22T18:37:32.251615 #10858]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:37:32.252869 #10858]  INFO -- : Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms)
D, [2020-04-22T18:37:32.255535 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:32.256278 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:32.256602 #10858]  INFO -- : ---------------------------------------------------------------
I, [2020-04-22T18:37:32.256676 #10858]  INFO -- : StoresControllerTest: test_should_create_store_when_appropriate
I, [2020-04-22T18:37:32.256737 #10858]  INFO -- : ---------------------------------------------------------------
D, [2020-04-22T18:37:32.257442 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:32.258661 #10858] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.260102 #10858] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9787171177"], ["active", 1]]
D, [2020-04-22T18:37:32.261386 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:32.262349 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
I, [2020-04-22T18:37:32.263544 #10858]  INFO -- : Started POST "/stores" for 127.0.0.1 at 2020-04-22 18:37:32 +0000
I, [2020-04-22T18:37:32.264405 #10858]  INFO -- : Processing by StoresController#create as HTML
I, [2020-04-22T18:37:32.264732 #10858]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}}
D, [2020-04-22T18:37:32.265886 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:32.267180 #10858] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "North Hills"], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.268654 #10858] DEBUG -- :   [1m[36mStore Create (0.1ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["state", "PA"], ["zip", "15090"], ["phone", "7242682323"], ["active", 1]]
D, [2020-04-22T18:37:32.270093 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:32.271035 #10858]  INFO -- : Redirected to http://www.example.com/stores/2
I, [2020-04-22T18:37:32.272100 #10858]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
D, [2020-04-22T18:37:32.276715 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "stores"[0m
D, [2020-04-22T18:37:32.277711 #10858] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" ORDER BY "stores"."id" DESC LIMIT ?[0m  [["LIMIT", 1]]
D, [2020-04-22T18:37:32.278744 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:37:32.279461 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:37:32.279788 #10858]  INFO -- : ---------------------------------------------------------------
I, [2020-04-22T18:37:32.279868 #10858]  INFO -- : StoresControllerTest: test_should_update_store_when_appropriate
I, [2020-04-22T18:37:32.279931 #10858]  INFO -- : ---------------------------------------------------------------
D, [2020-04-22T18:37:32.280627 #10858] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:32.281860 #10858] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.283326 #10858] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7976740552"], ["active", 1]]
D, [2020-04-22T18:37:32.284602 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:32.285651 #10858]  INFO -- : Started PATCH "/stores/1" for 127.0.0.1 at 2020-04-22 18:37:32 +0000
I, [2020-04-22T18:37:32.286608 #10858]  INFO -- : Processing by StoresController#update as HTML
I, [2020-04-22T18:37:32.286907 #10858]  INFO -- :   Parameters: {"store"=>{"name"=>"North Hills", "street"=>"Sudberry Dr", "city"=>"Wexford", "state"=>"PA", "zip"=>"15090", "phone"=>"7242682323", "active"=>"true"}, "id"=>"1"}
D, [2020-04-22T18:37:32.287696 #10858] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.288982 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:37:32.290613 #10858] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) AND "stores"."id" != ? LIMIT ?[0m  [["name", "North Hills"], ["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:37:32.292347 #10858] DEBUG -- :   [1m[36mStore Update (0.1ms)[0m  [1m[33mUPDATE "stores" SET "name" = ?, "street" = ?, "city" = ?, "phone" = ?, "zip" = ? WHERE "stores"."id" = ?[0m  [["name", "North Hills"], ["street", "Sudberry Dr"], ["city", "Wexford"], ["phone", "7242682323"], ["zip", "15090"], ["id", 1]]
D, [2020-04-22T18:37:32.293671 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:37:32.294507 #10858]  INFO -- : Redirected to http://www.example.com/stores/1
I, [2020-04-22T18:37:32.295599 #10858]  INFO -- : Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
D, [2020-04-22T18:37:32.300028 #10858] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:43:13.634113 #11340] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:43:13.714843 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:43:13.715327 #11340]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-22T18:43:13.715372 #11340]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-22T18:43:13.715399 #11340]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-22T18:43:13.809429 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:13.811344 #11340] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:43:13.812889 #11340] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9222485800"], ["active", 1]]
D, [2020-04-22T18:43:13.814129 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:13.834997 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:13.837793 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "224488963"], ["LIMIT", 1]]
D, [2020-04-22T18:43:13.838814 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
D, [2020-04-22T18:43:13.840329 #11340] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "224488963"], ["date_of_birth", "2001-04-22"], ["phone", "8442722913"], ["role", "employee"], ["active", 1], ["username", "user1"], ["password_digest", "$2a$04$z7sbySGWxr1aHngUSI26tucQExtkPsiWM.xHn58XnUdr89MLVyLyK"]]
D, [2020-04-22T18:43:13.841665 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:13.868163 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:13.869362 #11340] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:43:13.868657"], ["updated_at", "2020-04-22 18:43:13.868657"]]
D, [2020-04-22T18:43:13.870530 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:13.872002 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:13.873528 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:13.875433 #11340] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:13.876924 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:13.884798 #11340] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:13.885907 #11340] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:43:13.886876 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:13.887726 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:43:13.890358 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:13.891621 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "269546207"], ["LIMIT", 1]]
D, [2020-04-22T18:43:13.892576 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
D, [2020-04-22T18:43:13.893804 #11340] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "269546207"], ["date_of_birth", "2001-04-22"], ["phone", "6884040346"], ["role", "employee"], ["active", 1], ["username", "user2"], ["password_digest", "$2a$04$fFB8RNzQdiwtgHwVbzfVLeov3uR6slq1fv/RKstjJLHf3ckhW/xsi"]]
D, [2020-04-22T18:43:13.895132 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:43:13.902526 #11340]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:43:13 +0000
I, [2020-04-22T18:43:13.910017 #11340]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:43:13.910342 #11340]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:43:13.914980 #11340] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:43:13.915775 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:13.917688 #11340] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:13.919842 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.068493 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.069934 #11340] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.071553 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:43:14.075220 #11340]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:43:14.097997 #11340] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:43:14.105094 #11340] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:43:14.111182 #11340]  INFO -- :   Rendered assignments/_form.html.erb (34.0ms)
I, [2020-04-22T18:43:14.111665 #11340]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (36.1ms)
I, [2020-04-22T18:43:14.354655 #11340]  INFO -- :   Rendered partials/_footer.html.erb (0.9ms)
I, [2020-04-22T18:43:14.357370 #11340]  INFO -- : Completed 200 OK in 447ms (Views: 283.4ms | ActiveRecord: 0.8ms)
D, [2020-04-22T18:43:14.393132 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:43:14.394122 #11340] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:43:14.395229 #11340] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:43:14.395567 #11340]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:43:14.395647 #11340]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-22T18:43:14.395714 #11340]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-22T18:43:14.396651 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.398156 #11340] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.399800 #11340] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8134270606"], ["active", 1]]
D, [2020-04-22T18:43:14.401129 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.404030 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.405598 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "320288960"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.406831 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user3"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.408375 #11340] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "320288960"], ["date_of_birth", "2001-04-22"], ["phone", "6435175018"], ["role", "employee"], ["active", 1], ["username", "user3"], ["password_digest", "$2a$04$23QYlS8yzRVH7qWd2BRohO.nPNJDZYw2DamtVtVfQoDhiXvWTx34u"]]
D, [2020-04-22T18:43:14.410117 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.411530 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.412887 #11340] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:43:14.411983"], ["updated_at", "2020-04-22 18:43:14.411983"]]
D, [2020-04-22T18:43:14.414174 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.415326 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.416704 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.417970 #11340] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.419213 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.420871 #11340] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.422183 #11340] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:43:14.423369 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.424329 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-22T18:43:14.425537 #11340]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-22 18:43:14 +0000
I, [2020-04-22T18:43:14.426713 #11340]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-22T18:43:14.427038 #11340]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:43:14.428272 #11340] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.429397 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.430466 #11340] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-22T18:43:14.431444 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:43:14.432339 #11340]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-22T18:43:14.433231 #11340]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-22T18:43:14.437379 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:43:14.439063 #11340] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:43:14.439847 #11340] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:43:14.440169 #11340]  INFO -- : ----------------------------------------------
I, [2020-04-22T18:43:14.440252 #11340]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-22T18:43:14.440315 #11340]  INFO -- : ----------------------------------------------
D, [2020-04-22T18:43:14.441136 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.442482 #11340] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.444037 #11340] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2681415061"], ["active", 1]]
D, [2020-04-22T18:43:14.445356 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.448149 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.449654 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "318683407"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.450899 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user4"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.452462 #11340] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "318683407"], ["date_of_birth", "2001-04-22"], ["phone", "0650054978"], ["role", "employee"], ["active", 1], ["username", "user4"], ["password_digest", "$2a$04$ctYIz4jsLGsNg/tXYMZ0ZOXxq.yESL9Za6gNLovhGt9aiqgiO4bKa"]]
D, [2020-04-22T18:43:14.453982 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.455401 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.456736 #11340] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:43:14.455870"], ["updated_at", "2020-04-22 18:43:14.455870"]]
D, [2020-04-22T18:43:14.458026 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.459010 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.460386 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.461572 #11340] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.462834 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.464428 #11340] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.465713 #11340] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:43:14.466988 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:43:14.468173 #11340]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-22 18:43:14 +0000
I, [2020-04-22T18:43:14.469221 #11340]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-22T18:43:14.470369 #11340]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:43:14.471794 #11340] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:43:14.474547 #11340] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:43:14.478552 #11340]  INFO -- :   Rendered assignments/_form.html.erb (7.7ms)
I, [2020-04-22T18:43:14.479018 #11340]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.3ms)
I, [2020-04-22T18:43:14.480249 #11340]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:43:14.481634 #11340]  INFO -- : Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:43:14.484964 #11340] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:43:14.485675 #11340] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:43:14.485987 #11340]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-22T18:43:14.486068 #11340]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-22T18:43:14.486132 #11340]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-22T18:43:14.486920 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.488255 #11340] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.489768 #11340] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6799753269"], ["active", 1]]
D, [2020-04-22T18:43:14.491087 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.493856 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.495359 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "176658269"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.496601 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user5"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.498144 #11340] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "176658269"], ["date_of_birth", "2001-04-22"], ["phone", "1836619100"], ["role", "employee"], ["active", 1], ["username", "user5"], ["password_digest", "$2a$04$NiA/h.Vv4fC4MmYpZWzCzO/fgZdQPwzhSvolky9zsReylxH79lgzq"]]
D, [2020-04-22T18:43:14.499698 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.501029 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.502319 #11340] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:43:14.501457"], ["updated_at", "2020-04-22 18:43:14.501457"]]
D, [2020-04-22T18:43:14.503636 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.504617 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.505940 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.507111 #11340] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.508383 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.509931 #11340] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.511260 #11340] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:43:14.512538 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:43:14.513667 #11340]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-22 18:43:14 +0000
F, [2020-04-22T18:43:14.529436 #11340] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-22T18:43:14.533381 #11340]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-22 18:43:14 +0000
F, [2020-04-22T18:43:14.548510 #11340] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T18:43:14.555032 #11340] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:43:14.555795 #11340] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:43:14.556103 #11340]  INFO -- : ------------------------------------------------
I, [2020-04-22T18:43:14.556182 #11340]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-22T18:43:14.556248 #11340]  INFO -- : ------------------------------------------------
D, [2020-04-22T18:43:14.557118 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.558558 #11340] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.560140 #11340] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5679829848"], ["active", 1]]
D, [2020-04-22T18:43:14.561419 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.564199 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.565671 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "175277038"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.566851 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user6"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.568343 #11340] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "175277038"], ["date_of_birth", "2001-04-22"], ["phone", "6604878525"], ["role", "employee"], ["active", 1], ["username", "user6"], ["password_digest", "$2a$04$MPqWiZj2smCf.9Uad/f/L.LSPv6TKdi/gayIYo5e0qWyRGwioAEle"]]
D, [2020-04-22T18:43:14.569773 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.571077 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.572374 #11340] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:43:14.571527"], ["updated_at", "2020-04-22 18:43:14.571527"]]
D, [2020-04-22T18:43:14.573594 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.574537 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.575884 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.577050 #11340] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.578243 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.579795 #11340] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.581044 #11340] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:43:14.582138 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:43:14.583263 #11340]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-22 18:43:14 +0000
I, [2020-04-22T18:43:14.584209 #11340]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-22T18:43:14.586197 #11340]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-22T18:43:14.587684 #11340] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:43:14.589129 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.590713 #11340] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:43:14.592232 #11340]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (5.7ms)
I, [2020-04-22T18:43:14.593440 #11340]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:43:14.594772 #11340]  INFO -- : Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:43:14.598263 #11340] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:43:14.598954 #11340] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:43:14.599278 #11340]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-22T18:43:14.599364 #11340]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-22T18:43:14.599430 #11340]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-22T18:43:14.600190 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.601467 #11340] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.602942 #11340] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4755542925"], ["active", 1]]
D, [2020-04-22T18:43:14.604247 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.606969 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.608487 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "358540911"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.613471 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user7"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.615006 #11340] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "358540911"], ["date_of_birth", "2001-04-22"], ["phone", "2498141656"], ["role", "employee"], ["active", 1], ["username", "user7"], ["password_digest", "$2a$04$nGfVJFfte1M2dXcdO9MNJuFJck6dGtdXweDC0Hb3LrlyPRE8oEuIa"]]
D, [2020-04-22T18:43:14.616551 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.617881 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.619200 #11340] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:43:14.618313"], ["updated_at", "2020-04-22 18:43:14.618313"]]
D, [2020-04-22T18:43:14.620481 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.621462 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.622794 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.624037 #11340] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.625305 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.626906 #11340] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.628237 #11340] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:43:14.629464 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:43:14.630802 #11340]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:43:14 +0000
I, [2020-04-22T18:43:14.631703 #11340]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:43:14.632074 #11340]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:43:14.632807 #11340] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:43:14.633454 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.634681 #11340] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.637686 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.639160 #11340] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.640494 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:43:14.641492 #11340]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:43:14.642967 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:43:14.645655 #11340] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:43:14.649682 #11340]  INFO -- :   Rendered assignments/_form.html.erb (7.7ms)
I, [2020-04-22T18:43:14.650152 #11340]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.4ms)
I, [2020-04-22T18:43:14.651346 #11340]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:43:14.652878 #11340]  INFO -- : Completed 200 OK in 20ms (Views: 10.7ms | ActiveRecord: 0.6ms)
D, [2020-04-22T18:43:14.657711 #11340] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:43:14.658470 #11340] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:43:14.658819 #11340]  INFO -- : -----------------------------------------------------------
I, [2020-04-22T18:43:14.658901 #11340]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-22T18:43:14.658964 #11340]  INFO -- : -----------------------------------------------------------
D, [2020-04-22T18:43:14.659742 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.661031 #11340] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.662515 #11340] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7459101423"], ["active", 1]]
D, [2020-04-22T18:43:14.663886 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.666606 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.668108 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "298870167"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.669310 #11340] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user8"], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.670893 #11340] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "298870167"], ["date_of_birth", "2001-04-22"], ["phone", "0745718347"], ["role", "employee"], ["active", 1], ["username", "user8"], ["password_digest", "$2a$04$mq.tjY6jp4Nl5KO9CqnAKO5ogsblXx9pRtyva62wz4DP05Eva0XFW"]]
D, [2020-04-22T18:43:14.672435 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.673711 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.675083 #11340] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:43:14.674229"], ["updated_at", "2020-04-22 18:43:14.674229"]]
D, [2020-04-22T18:43:14.676374 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.677354 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.678654 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.679874 #11340] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:43:14.681088 #11340] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.682589 #11340] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:43:14.683963 #11340] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:43:14.685094 #11340] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:43:14.685974 #11340] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:46:08.807952 #11566] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:46:08.888055 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:46:08.888455 #11566]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-22T18:46:08.888495 #11566]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-22T18:46:08.888530 #11566]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-22T18:46:08.979637 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:08.981407 #11566] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:46:08.982924 #11566] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4875997839"], ["active", 1]]
D, [2020-04-22T18:46:08.984233 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.003850 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.006538 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "211192549"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.007571 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.008989 #11566] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "211192549"], ["date_of_birth", "2001-04-22"], ["phone", "9220281405"], ["role", "employee"], ["active", 1], ["username", "user1"], ["password_digest", "$2a$04$.P530QiGsPGO27RED3DVzeWVXBl.T/lRX71HP0vqmE3mBVZiAX7Ka"]]
D, [2020-04-22T18:46:09.010305 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.047488 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.048857 #11566] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:46:09.048026"], ["updated_at", "2020-04-22 18:46:09.048026"]]
D, [2020-04-22T18:46:09.050011 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.051689 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.053286 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.055203 #11566] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.056716 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.064780 #11566] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.065935 #11566] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:46:09.066857 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.067703 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:46:09.070341 #11566] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.071600 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "042942577"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.072528 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.073759 #11566] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "042942577"], ["date_of_birth", "2001-04-22"], ["phone", "6802879592"], ["role", "employee"], ["active", 1], ["username", "user2"], ["password_digest", "$2a$04$nqIRGh5U0eOdkN6OkQBUqOp8/XwCWWFlmGGK5xPU9og6W/aaOAzPu"]]
D, [2020-04-22T18:46:09.074966 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:46:09.082407 #11566]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:46:09 +0000
I, [2020-04-22T18:46:09.089883 #11566]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:46:09.090190 #11566]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:46:09.094830 #11566] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:46:09.095634 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.097571 #11566] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.099540 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.242637 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.244111 #11566] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.246521 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:46:09.250528 #11566]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:46:09.276167 #11566] DEBUG -- :   [1m[36mEmployee Load (1.7ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:46:09.286874 #11566] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:46:09.295797 #11566]  INFO -- :   Rendered assignments/_form.html.erb (43.2ms)
I, [2020-04-22T18:46:09.296365 #11566]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (45.4ms)
I, [2020-04-22T18:46:09.602619 #11566]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-22T18:46:09.604602 #11566]  INFO -- : Completed 200 OK in 514ms (Views: 354.3ms | ActiveRecord: 2.5ms)
D, [2020-04-22T18:46:09.613181 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:46:09.614260 #11566] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:46:09.616334 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:46:09.616706 #11566]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:46:09.616798 #11566]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-22T18:46:09.616875 #11566]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-22T18:46:09.617895 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.619613 #11566] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.621397 #11566] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5642854607"], ["active", 1]]
D, [2020-04-22T18:46:09.622913 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.626108 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.627883 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "362123086"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.629248 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user3"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.630942 #11566] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "362123086"], ["date_of_birth", "2001-04-22"], ["phone", "0578785061"], ["role", "employee"], ["active", 1], ["username", "user3"], ["password_digest", "$2a$04$jQ37chQe0/kBwuptQFw5Zu03vvQz3NEzoBTQH4xzKGImlWpWmWwYy"]]
D, [2020-04-22T18:46:09.632643 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.634231 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.635814 #11566] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:46:09.634737"], ["updated_at", "2020-04-22 18:46:09.634737"]]
D, [2020-04-22T18:46:09.637280 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.638371 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.639967 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.641342 #11566] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.642759 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.644624 #11566] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.646135 #11566] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:46:09.647456 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.648577 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-22T18:46:09.649952 #11566]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-22 18:46:09 +0000
I, [2020-04-22T18:46:09.651257 #11566]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-22T18:46:09.651574 #11566]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:46:09.652975 #11566] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.654211 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.655470 #11566] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-22T18:46:09.656528 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:46:09.657513 #11566]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-22T18:46:09.658494 #11566]  INFO -- : Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
D, [2020-04-22T18:46:09.663113 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:46:09.665072 #11566] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:46:09.666335 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:46:09.666693 #11566]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-22T18:46:09.666811 #11566]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-22T18:46:09.666886 #11566]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-22T18:46:09.667897 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.669471 #11566] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.671214 #11566] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8418921940"], ["active", 1]]
D, [2020-04-22T18:46:09.672722 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.675898 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.677619 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "241635805"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.678985 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user4"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.680863 #11566] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "241635805"], ["date_of_birth", "2001-04-22"], ["phone", "6127057304"], ["role", "employee"], ["active", 1], ["username", "user4"], ["password_digest", "$2a$04$oFQ13w/83Inr8qV8OaQobOP3vjm2F8fYkTVVOihopc7UnlK1kuZr2"]]
D, [2020-04-22T18:46:09.682593 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.684111 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.685459 #11566] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:46:09.684562"], ["updated_at", "2020-04-22 18:46:09.684562"]]
D, [2020-04-22T18:46:09.686742 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.687747 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.689127 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.690350 #11566] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.691605 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.693232 #11566] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.694542 #11566] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:46:09.695752 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:46:09.697047 #11566]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-22 18:46:09 +0000
F, [2020-04-22T18:46:09.720457 #11566] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-22T18:46:09.724558 #11566]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-22 18:46:09 +0000
F, [2020-04-22T18:46:09.740731 #11566] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T18:46:09.744448 #11566] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:46:09.745237 #11566] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:46:09.745549 #11566]  INFO -- : -----------------------------------------------------------
I, [2020-04-22T18:46:09.745624 #11566]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-22T18:46:09.745701 #11566]  INFO -- : -----------------------------------------------------------
D, [2020-04-22T18:46:09.746617 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.748158 #11566] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.749836 #11566] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5868790178"], ["active", 1]]
D, [2020-04-22T18:46:09.751122 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.753958 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.755527 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "127564378"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.756731 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user5"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.758227 #11566] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "127564378"], ["date_of_birth", "2001-04-22"], ["phone", "6414926157"], ["role", "employee"], ["active", 1], ["username", "user5"], ["password_digest", "$2a$04$nBCpfXCgODh0QOJPqlf4DuRu7IvXwAM6MwWfVRyI0wsi8a52CUlI2"]]
D, [2020-04-22T18:46:09.759725 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.761887 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.780918 #11566] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:46:09.762346"], ["updated_at", "2020-04-22 18:46:09.762346"]]
D, [2020-04-22T18:46:09.782431 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.783541 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.785128 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.786339 #11566] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.787570 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.789155 #11566] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.790475 #11566] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:46:09.791689 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.792677 #11566] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:46:09.823945 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:46:09.824296 #11566]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-22T18:46:09.824370 #11566]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-22T18:46:09.824429 #11566]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-22T18:46:09.825409 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.826916 #11566] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.828548 #11566] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9990125812"], ["active", 1]]
D, [2020-04-22T18:46:09.829917 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.832717 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.834206 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "196619207"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.835432 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user6"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.836928 #11566] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "196619207"], ["date_of_birth", "2001-04-22"], ["phone", "3097714698"], ["role", "employee"], ["active", 1], ["username", "user6"], ["password_digest", "$2a$04$NTgZbOsRCnFgxpawDj3Nd..TObkoRjbbnJik/vkLHFf9Xiu28fy6q"]]
D, [2020-04-22T18:46:09.838391 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.839740 #11566] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.841007 #11566] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:46:09.840176"], ["updated_at", "2020-04-22 18:46:09.840176"]]
D, [2020-04-22T18:46:09.842250 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.843175 #11566] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.844685 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.845894 #11566] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.847092 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.848656 #11566] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.849969 #11566] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:46:09.851093 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:46:09.852550 #11566]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:46:09 +0000
I, [2020-04-22T18:46:09.853542 #11566]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:46:09.853929 #11566]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:46:09.854686 #11566] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:46:09.855474 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.856778 #11566] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.859908 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.861220 #11566] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.862693 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:46:09.863777 #11566]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:46:09.865405 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:46:09.868100 #11566] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:46:09.871984 #11566]  INFO -- :   Rendered assignments/_form.html.erb (7.8ms)
I, [2020-04-22T18:46:09.872406 #11566]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.3ms)
I, [2020-04-22T18:46:09.873579 #11566]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:46:09.875048 #11566]  INFO -- : Completed 200 OK in 21ms (Views: 10.7ms | ActiveRecord: 0.6ms)
D, [2020-04-22T18:46:09.880032 #11566] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:46:09.880782 #11566] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:46:09.881066 #11566]  INFO -- : ------------------------------------------------
I, [2020-04-22T18:46:09.881136 #11566]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-22T18:46:09.881199 #11566]  INFO -- : ------------------------------------------------
D, [2020-04-22T18:46:09.882058 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.883414 #11566] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.884985 #11566] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3360200760"], ["active", 1]]
D, [2020-04-22T18:46:09.886334 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.889070 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.890537 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "078012739"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.891799 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user7"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.893296 #11566] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "078012739"], ["date_of_birth", "2001-04-22"], ["phone", "6704522702"], ["role", "employee"], ["active", 1], ["username", "user7"], ["password_digest", "$2a$04$mDphMdDdswv9HvRt1IY2eupm2J0hIzH4/cAi.uliC2kGMlrPyH2wm"]]
D, [2020-04-22T18:46:09.894829 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.896182 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.897478 #11566] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:46:09.896590"], ["updated_at", "2020-04-22 18:46:09.896590"]]
D, [2020-04-22T18:46:09.898711 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.899702 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.901018 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.902181 #11566] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.903519 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.905071 #11566] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.906416 #11566] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:46:09.907569 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:46:09.908781 #11566]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-22 18:46:09 +0000
I, [2020-04-22T18:46:09.909742 #11566]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-22T18:46:09.911804 #11566]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-22T18:46:09.913320 #11566] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:46:09.914813 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.916473 #11566] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:46:09.917916 #11566]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (5.8ms)
I, [2020-04-22T18:46:09.919079 #11566]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:46:09.920397 #11566]  INFO -- : Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.4ms)
D, [2020-04-22T18:46:09.924151 #11566] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:46:09.924948 #11566] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:46:09.925247 #11566]  INFO -- : ----------------------------------------------
I, [2020-04-22T18:46:09.925369 #11566]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-22T18:46:09.925439 #11566]  INFO -- : ----------------------------------------------
D, [2020-04-22T18:46:09.926345 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.927757 #11566] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.929298 #11566] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2807788483"], ["active", 1]]
D, [2020-04-22T18:46:09.930635 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.933408 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.935007 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "014597744"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.936266 #11566] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user8"], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.937806 #11566] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "014597744"], ["date_of_birth", "2001-04-22"], ["phone", "8189494853"], ["role", "employee"], ["active", 1], ["username", "user8"], ["password_digest", "$2a$04$LTV2f0i3Nt0ytzLNs7EbLunDfHCUqD3EUGXwMYC5s18qftrnEzvXa"]]
D, [2020-04-22T18:46:09.939457 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.940786 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.942124 #11566] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:46:09.941193"], ["updated_at", "2020-04-22 18:46:09.941193"]]
D, [2020-04-22T18:46:09.943378 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.944336 #11566] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:46:09.945731 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.946938 #11566] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:46:09.948159 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.949708 #11566] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:46:09.951009 #11566] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:46:09.952238 #11566] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:46:09.953403 #11566]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-22 18:46:09 +0000
I, [2020-04-22T18:46:09.954454 #11566]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-22T18:46:09.955630 #11566]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:46:09.957034 #11566] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:46:09.959758 #11566] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:46:09.963605 #11566]  INFO -- :   Rendered assignments/_form.html.erb (7.5ms)
I, [2020-04-22T18:46:09.964036 #11566]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.0ms)
I, [2020-04-22T18:46:09.965288 #11566]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:46:09.966587 #11566]  INFO -- : Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:46:09.970096 #11566] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:51:18.154815 #11933] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:51:18.232767 #11933] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:51:18.233167 #11933]  INFO -- : -------------------------------------------
I, [2020-04-22T18:51:18.233206 #11933]  INFO -- : HomeControllerTest: test_should_get_contact
I, [2020-04-22T18:51:18.233228 #11933]  INFO -- : -------------------------------------------
D, [2020-04-22T18:51:18.308687 #11933] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:51:18.361686 #11933] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:51:18.362021 #11933]  INFO -- : -----------------------------------------
I, [2020-04-22T18:51:18.362058 #11933]  INFO -- : HomeControllerTest: test_should_get_about
I, [2020-04-22T18:51:18.362080 #11933]  INFO -- : -----------------------------------------
D, [2020-04-22T18:51:18.362497 #11933] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:51:18.402612 #11933] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:51:18.402920 #11933]  INFO -- : -------------------------------------------
I, [2020-04-22T18:51:18.402958 #11933]  INFO -- : HomeControllerTest: test_should_get_privacy
I, [2020-04-22T18:51:18.402979 #11933]  INFO -- : -------------------------------------------
D, [2020-04-22T18:51:18.403364 #11933] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:51:18.445824 #11933] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:51:18.446115 #11933]  INFO -- : -----------------------------------------
I, [2020-04-22T18:51:18.446151 #11933]  INFO -- : HomeControllerTest: test_should_get_index
I, [2020-04-22T18:51:18.446171 #11933]  INFO -- : -----------------------------------------
I, [2020-04-22T18:51:18.448656 #11933]  INFO -- : Started GET "/" for 127.0.0.1 at 2020-04-22 18:51:18 +0000
I, [2020-04-22T18:51:18.456087 #11933]  INFO -- : Processing by EmployeesController#index as HTML
I, [2020-04-22T18:51:18.475163 #11933]  INFO -- :   Rendering employees/index.html.erb within layouts/application
D, [2020-04-22T18:51:18.478616 #11933] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'manager') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:51:18.480142 #11933] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE (role = 'employee') AND "employees"."active" = ? ORDER BY last_name, first_name LIMIT ? OFFSET ?[0m  [["active", 1], ["LIMIT", 10], ["OFFSET", 0]]
I, [2020-04-22T18:51:18.481312 #11933]  INFO -- :   Rendered employees/index.html.erb within layouts/application (5.8ms)
I, [2020-04-22T18:51:18.719682 #11933]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-22T18:51:18.721251 #11933]  INFO -- : Completed 200 OK in 265ms (Views: 247.3ms | ActiveRecord: 0.6ms)
D, [2020-04-22T18:51:18.727553 #11933] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:54:22.663012 #12313] DEBUG -- :   [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:54:22.757937 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:54:22.758333 #12313]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-22T18:54:22.758376 #12313]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-22T18:54:22.758404 #12313]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-22T18:54:22.851809 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:22.853600 #12313] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:54:22.855159 #12313] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0828397742"], ["active", 1]]
D, [2020-04-22T18:54:22.856340 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:22.877837 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:22.880473 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "367184889"], ["LIMIT", 1]]
D, [2020-04-22T18:54:22.881471 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
D, [2020-04-22T18:54:22.882899 #12313] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "367184889"], ["date_of_birth", "2001-04-22"], ["phone", "1751889684"], ["role", "employee"], ["active", 1], ["username", "user1"], ["password_digest", "$2a$04$ks0mdxF7nWeP5xi4OdX9wu8R8.9Cs.z44mJzkVvVOLgCotY3ttn7W"]]
D, [2020-04-22T18:54:22.884272 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:22.910621 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:22.911827 #12313] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:54:22.911117"], ["updated_at", "2020-04-22 18:54:22.911117"]]
D, [2020-04-22T18:54:22.912929 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:22.914392 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:22.915962 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:22.917853 #12313] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:22.919454 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:22.927451 #12313] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:22.928597 #12313] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:54:22.929502 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:22.930343 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:54:22.932962 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:22.934201 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "212344641"], ["LIMIT", 1]]
D, [2020-04-22T18:54:22.935154 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
D, [2020-04-22T18:54:22.936377 #12313] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "212344641"], ["date_of_birth", "2001-04-22"], ["phone", "7707557174"], ["role", "employee"], ["active", 1], ["username", "user2"], ["password_digest", "$2a$04$bf1NQgPCL/uMZHYjPY/GweLMRs2caq45iCBaOEk0XW3JRKwFFD34W"]]
D, [2020-04-22T18:54:22.937690 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:54:22.945202 #12313]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:54:22 +0000
I, [2020-04-22T18:54:22.952836 #12313]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:54:22.953163 #12313]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:54:22.957827 #12313] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:54:22.958645 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:22.960578 #12313] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:22.962498 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.111041 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.112549 #12313] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.114085 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:54:23.117820 #12313]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:54:23.141095 #12313] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:54:23.148172 #12313] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:54:23.154445 #12313]  INFO -- :   Rendered assignments/_form.html.erb (34.7ms)
I, [2020-04-22T18:54:23.154921 #12313]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (36.8ms)
I, [2020-04-22T18:54:23.372108 #12313]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-22T18:54:23.375221 #12313]  INFO -- : Completed 200 OK in 421ms (Views: 258.5ms | ActiveRecord: 0.9ms)
D, [2020-04-22T18:54:23.385938 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:54:23.387264 #12313] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:54:23.388969 #12313] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:54:23.389302 #12313]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-22T18:54:23.389384 #12313]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-22T18:54:23.389459 #12313]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-22T18:54:23.390647 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.392700 #12313] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.394497 #12313] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1354898992"], ["active", 1]]
D, [2020-04-22T18:54:23.401822 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.406908 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.410403 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "061567373"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.412286 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user3"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.414700 #12313] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "061567373"], ["date_of_birth", "2001-04-22"], ["phone", "4929886779"], ["role", "employee"], ["active", 1], ["username", "user3"], ["password_digest", "$2a$04$BjjBcvj26zr3MQRxEloVUOEFi3j/HOrxyilNihK13sPd8OfDlOdC6"]]
D, [2020-04-22T18:54:23.419731 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.425726 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.427800 #12313] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:54:23.426481"], ["updated_at", "2020-04-22 18:54:23.426481"]]
D, [2020-04-22T18:54:23.429877 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.431755 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.433923 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.435786 #12313] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.437336 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.439609 #12313] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.441532 #12313] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:54:23.443418 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:54:23.446185 #12313]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:54:23 +0000
I, [2020-04-22T18:54:23.447998 #12313]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:54:23.448312 #12313]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:54:23.449447 #12313] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:54:23.450530 #12313] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.452606 #12313] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.457015 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.461039 #12313] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.486691 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:54:23.487941 #12313]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:54:23.489860 #12313] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:54:23.492891 #12313] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:54:23.497631 #12313]  INFO -- :   Rendered assignments/_form.html.erb (9.0ms)
I, [2020-04-22T18:54:23.498275 #12313]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (9.8ms)
I, [2020-04-22T18:54:23.499729 #12313]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:54:23.501267 #12313]  INFO -- : Completed 200 OK in 53ms (Views: 12.8ms | ActiveRecord: 1.0ms)
D, [2020-04-22T18:54:23.506458 #12313] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:54:23.507199 #12313] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:54:23.507553 #12313]  INFO -- : ----------------------------------------------
I, [2020-04-22T18:54:23.507644 #12313]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-22T18:54:23.507713 #12313]  INFO -- : ----------------------------------------------
D, [2020-04-22T18:54:23.508631 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.510096 #12313] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.511750 #12313] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8006499337"], ["active", 1]]
D, [2020-04-22T18:54:23.513150 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.515998 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.517520 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "298412008"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.518794 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user4"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.520364 #12313] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "298412008"], ["date_of_birth", "2001-04-22"], ["phone", "6033011493"], ["role", "employee"], ["active", 1], ["username", "user4"], ["password_digest", "$2a$04$pE.nLjjDRVhFfl6k7ZEr7ehgsDecDqwi7SlA3zCZ8nb0.gJwhj0Vy"]]
D, [2020-04-22T18:54:23.521894 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.523432 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.524789 #12313] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:54:23.523897"], ["updated_at", "2020-04-22 18:54:23.523897"]]
D, [2020-04-22T18:54:23.526077 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.527134 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.528560 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.529779 #12313] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.531076 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.532749 #12313] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.534138 #12313] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:54:23.535569 #12313] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:54:23.536851 #12313]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-22 18:54:23 +0000
I, [2020-04-22T18:54:23.538013 #12313]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-22T18:54:23.539224 #12313]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:54:23.540650 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:54:23.543511 #12313] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:54:23.547531 #12313]  INFO -- :   Rendered assignments/_form.html.erb (7.8ms)
I, [2020-04-22T18:54:23.547971 #12313]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.4ms)
I, [2020-04-22T18:54:23.549145 #12313]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:54:23.550604 #12313]  INFO -- : Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:54:23.554905 #12313] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:54:23.555744 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:54:23.556049 #12313]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-22T18:54:23.556129 #12313]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-22T18:54:23.556218 #12313]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-22T18:54:23.557220 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.558606 #12313] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.560185 #12313] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3033045642"], ["active", 1]]
D, [2020-04-22T18:54:23.561530 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.564355 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.565894 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "098468376"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.567118 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user5"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.568666 #12313] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "098468376"], ["date_of_birth", "2001-04-22"], ["phone", "0910795603"], ["role", "employee"], ["active", 1], ["username", "user5"], ["password_digest", "$2a$04$eofBm2/bJw10XLrooI/MZ.HD/4TBndKvBAnRyi7UVqjrynNLythqS"]]
D, [2020-04-22T18:54:23.570207 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.571576 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.572893 #12313] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:54:23.572032"], ["updated_at", "2020-04-22 18:54:23.572032"]]
D, [2020-04-22T18:54:23.574245 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.575212 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.576560 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.577786 #12313] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.579001 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.580609 #12313] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.581896 #12313] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:54:23.583025 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:54:23.584320 #12313]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-22 18:54:23 +0000
F, [2020-04-22T18:54:23.601307 #12313] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-22T18:54:23.605252 #12313]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-22 18:54:23 +0000
F, [2020-04-22T18:54:23.623016 #12313] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T18:54:23.626543 #12313] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:54:23.627375 #12313] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:54:23.627809 #12313]  INFO -- : -----------------------------------------------------------
I, [2020-04-22T18:54:23.627894 #12313]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-22T18:54:23.627961 #12313]  INFO -- : -----------------------------------------------------------
D, [2020-04-22T18:54:23.628799 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.630153 #12313] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.631716 #12313] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6057868061"], ["active", 1]]
D, [2020-04-22T18:54:23.633045 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.635933 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.637439 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "034550982"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.638685 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user6"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.640243 #12313] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "034550982"], ["date_of_birth", "2001-04-22"], ["phone", "4418373473"], ["role", "employee"], ["active", 1], ["username", "user6"], ["password_digest", "$2a$04$J1YAFxvQTZujFC6L3lUttOUzLeLqT6LZ6cvg2MNVvRpMQ9OjaFDau"]]
D, [2020-04-22T18:54:23.641791 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.643159 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.644594 #12313] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:54:23.643649"], ["updated_at", "2020-04-22 18:54:23.643649"]]
D, [2020-04-22T18:54:23.645924 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.646901 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.648246 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.649458 #12313] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.650768 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.652368 #12313] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.653664 #12313] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:54:23.654836 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:54:23.656244 #12313]  INFO -- : Started PATCH "/assignments/terminate.1" for 127.0.0.1 at 2020-04-22 18:54:23 +0000
F, [2020-04-22T18:54:23.665912 #12313] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:40:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T18:54:23.669717 #12313] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.670978 #12313] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:54:23.671981 #12313] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:54:23.672294 #12313]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:54:23.672377 #12313]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-22T18:54:23.672444 #12313]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-22T18:54:23.673256 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.674607 #12313] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.676123 #12313] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1859905635"], ["active", 1]]
D, [2020-04-22T18:54:23.677430 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.680188 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.681689 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "098876788"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.682907 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user7"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.684496 #12313] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "098876788"], ["date_of_birth", "2001-04-22"], ["phone", "1281556814"], ["role", "employee"], ["active", 1], ["username", "user7"], ["password_digest", "$2a$04$RJIb1ODu8RqtPAAlXRTCXevEcyynFo4p7LqOR0CVLgk2FqPuiqq/W"]]
D, [2020-04-22T18:54:23.686058 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.687413 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.688785 #12313] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:54:23.687866"], ["updated_at", "2020-04-22 18:54:23.687866"]]
D, [2020-04-22T18:54:23.690055 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.691075 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.692428 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.693616 #12313] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.694900 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.696457 #12313] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.697765 #12313] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:54:23.698893 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.700292 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-22T18:54:23.701379 #12313]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-22 18:54:23 +0000
I, [2020-04-22T18:54:23.702439 #12313]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-22T18:54:23.702735 #12313]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:54:23.703901 #12313] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.705010 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.706083 #12313] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-22T18:54:23.707059 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:54:23.707994 #12313]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-22T18:54:23.708886 #12313]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-22T18:54:23.712866 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:54:23.713812 #12313] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:54:23.714655 #12313] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:54:23.714976 #12313]  INFO -- : ------------------------------------------------
I, [2020-04-22T18:54:23.715056 #12313]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-22T18:54:23.715120 #12313]  INFO -- : ------------------------------------------------
D, [2020-04-22T18:54:23.715931 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.717274 #12313] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.718770 #12313] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3152996714"], ["active", 1]]
D, [2020-04-22T18:54:23.720116 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.722890 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.724446 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "372988648"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.725695 #12313] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user8"], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.727198 #12313] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "372988648"], ["date_of_birth", "2001-04-22"], ["phone", "1730652665"], ["role", "employee"], ["active", 1], ["username", "user8"], ["password_digest", "$2a$04$OAq7.IjMM8A/i8waJoNUDe31qeF81lDApYEKJnZXghKgu3CVN/Syu"]]
D, [2020-04-22T18:54:23.728745 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.730079 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.731391 #12313] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:54:23.730503"], ["updated_at", "2020-04-22 18:54:23.730503"]]
D, [2020-04-22T18:54:23.732718 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.733680 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:54:23.735050 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.736273 #12313] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:54:23.737479 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.739041 #12313] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.740368 #12313] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:54:23.741520 #12313] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:54:23.742627 #12313]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-22 18:54:23 +0000
I, [2020-04-22T18:54:23.743555 #12313]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-22T18:54:23.745593 #12313]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-22T18:54:23.747125 #12313] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:54:23.748603 #12313] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:54:23.750238 #12313] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:54:23.751896 #12313]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (5.9ms)
I, [2020-04-22T18:54:23.753147 #12313]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:54:23.754470 #12313]  INFO -- : Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:54:23.758337 #12313] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:55:21.049530 #12411] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:55:21.148794 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:55:21.149187 #12411]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-22T18:55:21.149228 #12411]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-22T18:55:21.149254 #12411]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-22T18:55:21.245388 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.247188 #12411] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.248776 #12411] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9924188443"], ["active", 1]]
D, [2020-04-22T18:55:21.250018 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.270610 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.273279 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "205168962"], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.274295 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.275733 #12411] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "205168962"], ["date_of_birth", "2001-04-22"], ["phone", "7738766135"], ["role", "employee"], ["active", 1], ["username", "user1"], ["password_digest", "$2a$04$D10EBzOls8XZ.rEM4YwDeuWTBd5FPMzisZ0.GxcNaz7l/EI9o0VDe"]]
D, [2020-04-22T18:55:21.277108 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.303349 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.304560 #12411] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:55:21.303828"], ["updated_at", "2020-04-22 18:55:21.303828"]]
D, [2020-04-22T18:55:21.305715 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.307146 #12411] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.308799 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:21.310722 #12411] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:21.312253 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.320698 #12411] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.321836 #12411] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:55:21.322780 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.324183 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:55:21.326918 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.328192 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "300434386"], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.329162 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.330429 #12411] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "300434386"], ["date_of_birth", "2001-04-22"], ["phone", "9514042852"], ["role", "employee"], ["active", 1], ["username", "user2"], ["password_digest", "$2a$04$Kyr03aPHYN2T.h6Ydj/H0euyS8uiGjc26W2AOaN1pQ0Tak.dS6Moe"]]
D, [2020-04-22T18:55:21.331923 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:55:21.340017 #12411]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:55:21 +0000
I, [2020-04-22T18:55:21.347795 #12411]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:55:21.348123 #12411]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:55:21.352873 #12411] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:55:21.353650 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.355524 #12411] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.357477 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.508532 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:21.509974 #12411] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:21.511531 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:55:21.515220 #12411]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:55:21.538574 #12411] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:55:21.545703 #12411] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:55:21.551969 #12411]  INFO -- :   Rendered assignments/_form.html.erb (34.8ms)
I, [2020-04-22T18:55:21.552401 #12411]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (36.8ms)
I, [2020-04-22T18:55:21.772490 #12411]  INFO -- :   Rendered partials/_footer.html.erb (0.7ms)
I, [2020-04-22T18:55:21.775420 #12411]  INFO -- : Completed 200 OK in 427ms (Views: 261.1ms | ActiveRecord: 0.8ms)
D, [2020-04-22T18:55:21.786659 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:55:21.787889 #12411] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:55:21.790190 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:55:21.790772 #12411]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-22T18:55:21.790853 #12411]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-22T18:55:21.790919 #12411]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-22T18:55:21.792159 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.793918 #12411] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.796148 #12411] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6678792526"], ["active", 1]]
D, [2020-04-22T18:55:21.800081 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.805597 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.809267 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "017449584"], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.811019 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user3"], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.813042 #12411] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "017449584"], ["date_of_birth", "2001-04-22"], ["phone", "0512707324"], ["role", "employee"], ["active", 1], ["username", "user3"], ["password_digest", "$2a$04$gLg3H02RzI9wVbioXV8MhuWrMeqKOkmEOKfcz1C8iVWKnaI18Bl3e"]]
D, [2020-04-22T18:55:21.816657 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.824159 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.826168 #12411] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:55:21.824925"], ["updated_at", "2020-04-22 18:55:21.824925"]]
D, [2020-04-22T18:55:21.828101 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.829449 #12411] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.831552 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:21.833075 #12411] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:21.834960 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.837217 #12411] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.839216 #12411] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:55:21.841081 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:55:21.843305 #12411]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:55:21 +0000
I, [2020-04-22T18:55:21.844729 #12411]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:55:21.845071 #12411]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:55:21.846203 #12411] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:55:21.847208 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.848853 #12411] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.853654 #12411] DEBUG -- :   [1m[36mEmployee Load (0.4ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:21.856977 #12411] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:21.882888 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:55:21.884156 #12411]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:55:21.886044 #12411] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:55:21.889326 #12411] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:55:21.894235 #12411]  INFO -- :   Rendered assignments/_form.html.erb (9.5ms)
I, [2020-04-22T18:55:21.894799 #12411]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (10.2ms)
I, [2020-04-22T18:55:21.896239 #12411]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:55:21.898227 #12411]  INFO -- : Completed 200 OK in 53ms (Views: 13.2ms | ActiveRecord: 1.0ms)
D, [2020-04-22T18:55:21.904877 #12411] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:55:21.906189 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:55:21.906537 #12411]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-22T18:55:21.906631 #12411]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-22T18:55:21.906710 #12411]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-22T18:55:21.907720 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.909248 #12411] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.910923 #12411] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4510310313"], ["active", 1]]
D, [2020-04-22T18:55:21.912471 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.915428 #12411] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.917102 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "382836880"], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.918506 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user4"], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.920192 #12411] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "382836880"], ["date_of_birth", "2001-04-22"], ["phone", "4250336158"], ["role", "employee"], ["active", 1], ["username", "user4"], ["password_digest", "$2a$04$EPm19T2Dl6kcze62.Fg9MeHsMbq7lzkBiOWG7Rx35XJxWrG5EKPDS"]]
D, [2020-04-22T18:55:21.921891 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.923499 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.925052 #12411] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:55:21.924038"], ["updated_at", "2020-04-22 18:55:21.924038"]]
D, [2020-04-22T18:55:21.926852 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.929605 #12411] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:21.933391 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:21.936534 #12411] DEBUG -- :   [1m[36mStore Load (0.7ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:21.939512 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.943450 #12411] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:21.946359 #12411] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:55:21.950448 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:55:21.953117 #12411]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-22 18:55:21 +0000
F, [2020-04-22T18:55:22.003900 #12411] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-22T18:55:22.020367 #12411]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-22 18:55:22 +0000
F, [2020-04-22T18:55:22.040178 #12411] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T18:55:22.045727 #12411] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:55:22.046529 #12411] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:55:22.047124 #12411]  INFO -- : ------------------------------------------------
I, [2020-04-22T18:55:22.047207 #12411]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-22T18:55:22.047296 #12411]  INFO -- : ------------------------------------------------
D, [2020-04-22T18:55:22.048455 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.050425 #12411] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.052622 #12411] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0272898933"], ["active", 1]]
D, [2020-04-22T18:55:22.054805 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.057895 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.060424 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "222952795"], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.062407 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user5"], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.064702 #12411] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "222952795"], ["date_of_birth", "2001-04-22"], ["phone", "2569461156"], ["role", "employee"], ["active", 1], ["username", "user5"], ["password_digest", "$2a$04$Dg7C5obe7pOqqXPAEpvFqurTUKDTUmyKl/5kyiYVGsDijGpyfBfXW"]]
D, [2020-04-22T18:55:22.067630 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.069685 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.071355 #12411] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:55:22.070109"], ["updated_at", "2020-04-22 18:55:22.070109"]]
D, [2020-04-22T18:55:22.073915 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.075260 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.077048 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:22.078958 #12411] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:22.080924 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.084825 #12411] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.089305 #12411] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:55:22.093372 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:55:22.095177 #12411]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-22 18:55:22 +0000
I, [2020-04-22T18:55:22.096448 #12411]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-22T18:55:22.099078 #12411]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-22T18:55:22.102415 #12411] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:55:22.106262 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.110603 #12411] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:55:22.115774 #12411]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (14.9ms)
I, [2020-04-22T18:55:22.119435 #12411]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:55:22.123725 #12411]  INFO -- : Completed 200 OK in 27ms (Views: 21.4ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:55:22.136744 #12411] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:55:22.137940 #12411] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:55:22.138255 #12411]  INFO -- : ----------------------------------------------
I, [2020-04-22T18:55:22.138411 #12411]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-22T18:55:22.138483 #12411]  INFO -- : ----------------------------------------------
D, [2020-04-22T18:55:22.139500 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.141312 #12411] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.143203 #12411] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0056386798"], ["active", 1]]
D, [2020-04-22T18:55:22.144959 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.149964 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.151535 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "081703969"], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.152755 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user6"], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.154271 #12411] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "081703969"], ["date_of_birth", "2001-04-22"], ["phone", "8613036809"], ["role", "employee"], ["active", 1], ["username", "user6"], ["password_digest", "$2a$04$YO7cIiwC/wheK8FujVcSFuig4bzBby9X5gtXW3mCNRyNCREq1AJFy"]]
D, [2020-04-22T18:55:22.155861 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.157171 #12411] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.158466 #12411] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:55:22.157600"], ["updated_at", "2020-04-22 18:55:22.157600"]]
D, [2020-04-22T18:55:22.159838 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.160773 #12411] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.162118 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:22.163352 #12411] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:22.164583 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.166217 #12411] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.167530 #12411] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:55:22.168685 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:55:22.169870 #12411]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-22 18:55:22 +0000
I, [2020-04-22T18:55:22.170978 #12411]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-22T18:55:22.172121 #12411]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:55:22.173743 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:55:22.176775 #12411] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:55:22.180860 #12411]  INFO -- :   Rendered assignments/_form.html.erb (8.2ms)
I, [2020-04-22T18:55:22.181330 #12411]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.8ms)
I, [2020-04-22T18:55:22.182482 #12411]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:55:22.183891 #12411]  INFO -- : Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:55:22.187348 #12411] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:55:22.188158 #12411] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:55:22.188450 #12411]  INFO -- : -----------------------------------------------------------
I, [2020-04-22T18:55:22.188526 #12411]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-22T18:55:22.188603 #12411]  INFO -- : -----------------------------------------------------------
D, [2020-04-22T18:55:22.189389 #12411] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.190738 #12411] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.192303 #12411] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5073778858"], ["active", 1]]
D, [2020-04-22T18:55:22.193663 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.196444 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.198007 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "186553132"], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.199306 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user7"], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.200851 #12411] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "186553132"], ["date_of_birth", "2001-04-22"], ["phone", "7449878129"], ["role", "employee"], ["active", 1], ["username", "user7"], ["password_digest", "$2a$04$.NPHBvuCVTwcrX4d1iMy3OTqoprGuN1Bd8yQ1iOgVhlvGT1vyFU9q"]]
D, [2020-04-22T18:55:22.202428 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.203816 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.205154 #12411] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:55:22.204251"], ["updated_at", "2020-04-22 18:55:22.204251"]]
D, [2020-04-22T18:55:22.206487 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.207582 #12411] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.208923 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:22.210127 #12411] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:22.211408 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.213008 #12411] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.214288 #12411] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:55:22.215469 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:55:22.216849 #12411]  INFO -- : Started PATCH "/assignments/terminate.1" for 127.0.0.1 at 2020-04-22 18:55:22 +0000
F, [2020-04-22T18:55:22.227396 #12411] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:40:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T18:55:22.231495 #12411] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.232870 #12411] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:55:22.233946 #12411] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:55:22.234240 #12411]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:55:22.234315 #12411]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-22T18:55:22.234443 #12411]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-22T18:55:22.235330 #12411] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.236788 #12411] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.238369 #12411] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7055768674"], ["active", 1]]
D, [2020-04-22T18:55:22.239820 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.242694 #12411] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.244350 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "040724619"], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.245624 #12411] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user8"], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.247286 #12411] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "040724619"], ["date_of_birth", "2001-04-22"], ["phone", "8425989357"], ["role", "employee"], ["active", 1], ["username", "user8"], ["password_digest", "$2a$04$yPkiRkVku6wwpf/joIwXjOwhLX5g.tTbWBzE3IK8AFhH6GH9WPT.y"]]
D, [2020-04-22T18:55:22.248840 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.250336 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.251799 #12411] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:55:22.250820"], ["updated_at", "2020-04-22 18:55:22.250820"]]
D, [2020-04-22T18:55:22.253130 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.254151 #12411] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.255702 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:22.256947 #12411] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:55:22.258183 #12411] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.259915 #12411] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.261327 #12411] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:55:22.262542 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.263603 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-22T18:55:22.264846 #12411]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-22 18:55:22 +0000
I, [2020-04-22T18:55:22.266023 #12411]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-22T18:55:22.266292 #12411]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:55:22.267496 #12411] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:55:22.268663 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:55:22.269778 #12411] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-22T18:55:22.270790 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:55:22.271708 #12411]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-22T18:55:22.272572 #12411]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-22T18:55:22.277160 #12411] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:55:22.278187 #12411] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:57:28.414908 #12588] DEBUG -- :   [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:57:28.506851 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:57:28.507294 #12588]  INFO -- : ------------------------------------------------
I, [2020-04-22T18:57:28.507338 #12588]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-22T18:57:28.507362 #12588]  INFO -- : ------------------------------------------------
D, [2020-04-22T18:57:28.599999 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:28.601803 #12588] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:57:28.603360 #12588] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8225470000"], ["active", 1]]
D, [2020-04-22T18:57:28.604557 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:28.624469 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:28.627045 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "137830325"], ["LIMIT", 1]]
D, [2020-04-22T18:57:28.628076 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
D, [2020-04-22T18:57:28.629458 #12588] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "137830325"], ["date_of_birth", "2001-04-22"], ["phone", "3530350638"], ["role", "employee"], ["active", 1], ["username", "user1"], ["password_digest", "$2a$04$U5r0U3XGB4CLUh9ZyGKkw.HyVbB/khLMB3iaducoi9YaUMZ6/WZFS"]]
D, [2020-04-22T18:57:28.630829 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:28.656288 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:28.657658 #12588] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:57:28.656845"], ["updated_at", "2020-04-22 18:57:28.656845"]]
D, [2020-04-22T18:57:28.658813 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:28.660354 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:28.662074 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:28.664094 #12588] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:28.665641 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:28.673863 #12588] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:28.675043 #12588] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:57:28.676027 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:57:28.678844 #12588]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-22 18:57:28 +0000
I, [2020-04-22T18:57:28.686491 #12588]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-22T18:57:28.694635 #12588]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-22T18:57:28.697107 #12588] DEBUG -- :   [1m[36mAssignment Load (0.3ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:57:28.699170 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:28.701424 #12588] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:57:28.703215 #12588]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (8.2ms)
I, [2020-04-22T18:57:28.891150 #12588]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-22T18:57:28.892816 #12588]  INFO -- : Completed 200 OK in 206ms (Views: 199.5ms | ActiveRecord: 0.5ms)
D, [2020-04-22T18:57:28.899383 #12588] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:57:28.900201 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:57:28.900520 #12588]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-22T18:57:28.900609 #12588]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-22T18:57:28.900676 #12588]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-22T18:57:28.901616 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:28.903178 #12588] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:57:28.904825 #12588] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7684143744"], ["active", 1]]
D, [2020-04-22T18:57:28.906247 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:28.909181 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:28.910772 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "135517572"], ["LIMIT", 1]]
D, [2020-04-22T18:57:28.912011 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
D, [2020-04-22T18:57:28.913532 #12588] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "135517572"], ["date_of_birth", "2001-04-22"], ["phone", "7665160808"], ["role", "employee"], ["active", 1], ["username", "user2"], ["password_digest", "$2a$04$MtEpM2ZOWI1HTM9B/b3zZeXRzOCrcHUOtBPw6/BP67S1uEgZdu42G"]]
D, [2020-04-22T18:57:28.915060 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:28.916433 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:28.917737 #12588] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:57:28.916868"], ["updated_at", "2020-04-22 18:57:28.916868"]]
D, [2020-04-22T18:57:28.918994 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:28.919979 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:28.921321 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:28.922507 #12588] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:28.923778 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:28.925367 #12588] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:28.926667 #12588] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:57:28.927818 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:57:28.933807 #12588]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:57:28 +0000
I, [2020-04-22T18:57:28.934907 #12588]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:57:28.935208 #12588]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:57:28.936007 #12588] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:57:28.936710 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:28.937977 #12588] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.179997 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:29.181388 #12588] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:29.182825 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:57:29.184369 #12588]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:57:29.206125 #12588] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:57:29.213243 #12588] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:57:29.219373 #12588]  INFO -- :   Rendered assignments/_form.html.erb (33.7ms)
I, [2020-04-22T18:57:29.219816 #12588]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (35.1ms)
I, [2020-04-22T18:57:29.221135 #12588]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:57:29.222812 #12588]  INFO -- : Completed 200 OK in 287ms (Views: 38.2ms | ActiveRecord: 0.7ms)
D, [2020-04-22T18:57:29.227783 #12588] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:57:29.228536 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:57:29.228878 #12588]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-22T18:57:29.228950 #12588]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-22T18:57:29.229014 #12588]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-22T18:57:29.229954 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.231453 #12588] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.232990 #12588] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8976773530"], ["active", 1]]
D, [2020-04-22T18:57:29.234298 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.237131 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.238644 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "285455088"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.239856 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user3"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.241335 #12588] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "285455088"], ["date_of_birth", "2001-04-22"], ["phone", "4923664143"], ["role", "employee"], ["active", 1], ["username", "user3"], ["password_digest", "$2a$04$p/ZWR0CmC4cCyAttsf/a.O4srWjq9ldD4oaggaYR3CTEUqOOWios2"]]
D, [2020-04-22T18:57:29.242814 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.244180 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.245451 #12588] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:57:29.244611"], ["updated_at", "2020-04-22 18:57:29.244611"]]
D, [2020-04-22T18:57:29.246707 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.247670 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.249005 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:29.250169 #12588] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:29.251399 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.252949 #12588] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.254205 #12588] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:57:29.255347 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:57:29.256707 #12588]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-22 18:57:29 +0000
F, [2020-04-22T18:57:29.275365 #12588] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-22T18:57:29.279360 #12588]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-22 18:57:29 +0000
F, [2020-04-22T18:57:29.293210 #12588] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T18:57:29.296617 #12588] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:57:29.297334 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:57:29.297637 #12588]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-22T18:57:29.297716 #12588]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-22T18:57:29.297800 #12588]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-22T18:57:29.298700 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.300269 #12588] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.301799 #12588] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5117738854"], ["active", 1]]
D, [2020-04-22T18:57:29.303110 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.305909 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.307441 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "169896813"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.308653 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user4"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.310108 #12588] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "169896813"], ["date_of_birth", "2001-04-22"], ["phone", "9929029448"], ["role", "employee"], ["active", 1], ["username", "user4"], ["password_digest", "$2a$04$RG4.pUbIuWubiTVknsoVV.MRp3lzEyRZ9RA1suv0D3bdggO9TZsfW"]]
D, [2020-04-22T18:57:29.311614 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.312934 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.314221 #12588] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:57:29.313366"], ["updated_at", "2020-04-22 18:57:29.313366"]]
D, [2020-04-22T18:57:29.315510 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.316472 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.317797 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:29.318959 #12588] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:29.320186 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.321709 #12588] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.322960 #12588] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:57:29.324098 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.325057 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:57:29.327730 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.329113 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "363948837"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.330263 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user5"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.331698 #12588] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "363948837"], ["date_of_birth", "2001-04-22"], ["phone", "7511587827"], ["role", "employee"], ["active", 1], ["username", "user5"], ["password_digest", "$2a$04$AjlLpviHVSp8AAkObP5IAe.NebC79tXXbqvTOGHPjh1p2smrJgCui"]]
D, [2020-04-22T18:57:29.333114 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:57:29.334427 #12588]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:57:29 +0000
I, [2020-04-22T18:57:29.335409 #12588]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:57:29.335712 #12588]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:57:29.336488 #12588] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:57:29.337118 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.338332 #12588] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.339851 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.341890 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:29.343154 #12588] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:29.344476 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:57:29.345466 #12588]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:57:29.346919 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:57:29.349533 #12588] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:57:29.353391 #12588]  INFO -- :   Rendered assignments/_form.html.erb (7.4ms)
I, [2020-04-22T18:57:29.353799 #12588]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.0ms)
I, [2020-04-22T18:57:29.354913 #12588]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:57:29.356343 #12588]  INFO -- : Completed 200 OK in 20ms (Views: 10.3ms | ActiveRecord: 0.6ms)
D, [2020-04-22T18:57:29.361482 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:57:29.362337 #12588] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:57:29.363514 #12588] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:57:29.363844 #12588]  INFO -- : ----------------------------------------------
I, [2020-04-22T18:57:29.363921 #12588]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-22T18:57:29.363984 #12588]  INFO -- : ----------------------------------------------
D, [2020-04-22T18:57:29.364743 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.366016 #12588] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.367479 #12588] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5537339463"], ["active", 1]]
D, [2020-04-22T18:57:29.368772 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.371408 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.372824 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "100961429"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.373994 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user6"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.375443 #12588] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "100961429"], ["date_of_birth", "2001-04-22"], ["phone", "9740296616"], ["role", "employee"], ["active", 1], ["username", "user6"], ["password_digest", "$2a$04$cCZdranTRZ0plX26cz5qg.qF5bboyjnJ9rTpHYmVDeHmotnjUvil2"]]
D, [2020-04-22T18:57:29.376905 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.378183 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.379451 #12588] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:57:29.378599"], ["updated_at", "2020-04-22 18:57:29.378599"]]
D, [2020-04-22T18:57:29.380717 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.381671 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.382904 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:29.384060 #12588] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:29.385248 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.386750 #12588] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.388022 #12588] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:57:29.389196 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:57:29.390269 #12588]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-22 18:57:29 +0000
I, [2020-04-22T18:57:29.391281 #12588]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-22T18:57:29.392301 #12588]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:57:29.393569 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:57:29.396039 #12588] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:57:29.400076 #12588]  INFO -- :   Rendered assignments/_form.html.erb (7.3ms)
I, [2020-04-22T18:57:29.400512 #12588]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (7.9ms)
I, [2020-04-22T18:57:29.401581 #12588]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:57:29.402863 #12588]  INFO -- : Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:57:29.406087 #12588] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:57:29.406805 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:57:29.407092 #12588]  INFO -- : -----------------------------------------------------------
I, [2020-04-22T18:57:29.407165 #12588]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-22T18:57:29.407229 #12588]  INFO -- : -----------------------------------------------------------
D, [2020-04-22T18:57:29.408054 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.409294 #12588] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.410778 #12588] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0236283523"], ["active", 1]]
D, [2020-04-22T18:57:29.412053 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.414719 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.416156 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "114335366"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.417342 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user7"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.418813 #12588] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "114335366"], ["date_of_birth", "2001-04-22"], ["phone", "8889842308"], ["role", "employee"], ["active", 1], ["username", "user7"], ["password_digest", "$2a$04$Tdhi5VSve9hjbvVSMhbIlOWU4q.XZmlMg0R/aw1GA7Qjme5P4XFDi"]]
D, [2020-04-22T18:57:29.420307 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.421583 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.422839 #12588] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:57:29.422010"], ["updated_at", "2020-04-22 18:57:29.422010"]]
D, [2020-04-22T18:57:29.424108 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.425029 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.426272 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:29.427431 #12588] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:29.428624 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.430110 #12588] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.431383 #12588] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:57:29.432493 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:57:29.433642 #12588]  INFO -- : Started PATCH "/assignments/terminate.1" for 127.0.0.1 at 2020-04-22 18:57:29 +0000
F, [2020-04-22T18:57:29.440842 #12588] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:40:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T18:57:29.444447 #12588] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.445667 #12588] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:57:29.446564 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:57:29.446847 #12588]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:57:29.446935 #12588]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-22T18:57:29.446995 #12588]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-22T18:57:29.447770 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.449021 #12588] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.450455 #12588] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8776131609"], ["active", 1]]
D, [2020-04-22T18:57:29.451764 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.454403 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.455861 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "181338512"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.457028 #12588] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user8"], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.458490 #12588] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "181338512"], ["date_of_birth", "2001-04-22"], ["phone", "4393948213"], ["role", "employee"], ["active", 1], ["username", "user8"], ["password_digest", "$2a$04$Y1hrkV/XqxnX2g3vcO0kyuPEMVTh5Fj6Vt5kg.VXNB3oDYYKmCGwe"]]
D, [2020-04-22T18:57:29.460010 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.461289 #12588] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.462530 #12588] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:57:29.461711"], ["updated_at", "2020-04-22 18:57:29.461711"]]
D, [2020-04-22T18:57:29.463900 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.464841 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.466105 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:29.467260 #12588] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:57:29.468445 #12588] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.469939 #12588] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.471274 #12588] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:57:29.472381 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.473289 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-22T18:57:29.474300 #12588]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-22 18:57:29 +0000
I, [2020-04-22T18:57:29.475302 #12588]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-22T18:57:29.475611 #12588]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:57:29.476675 #12588] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:57:29.477712 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:57:29.478751 #12588] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-22T18:57:29.479692 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:57:29.480516 #12588]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-22T18:57:29.481358 #12588]  INFO -- : Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
D, [2020-04-22T18:57:29.485122 #12588] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:57:29.486033 #12588] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:58:36.109303 #12705] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T18:58:36.188967 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:58:36.189364 #12705]  INFO -- : ------------------------------------------------
I, [2020-04-22T18:58:36.189404 #12705]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-22T18:58:36.189427 #12705]  INFO -- : ------------------------------------------------
D, [2020-04-22T18:58:36.280998 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.282866 #12705] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.284434 #12705] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "2749754758"], ["active", 1]]
D, [2020-04-22T18:58:36.285615 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.305704 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.308625 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "312492923"], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.309637 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.311046 #12705] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "312492923"], ["date_of_birth", "2001-04-22"], ["phone", "6836924324"], ["role", "employee"], ["active", 1], ["username", "user1"], ["password_digest", "$2a$04$H5.jfD11tvExYhtSmsgtyecTfuKimlsGlj7tXQDEgzr0dFGxfK/zq"]]
D, [2020-04-22T18:58:36.312462 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.337445 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.338720 #12705] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:58:36.337964"], ["updated_at", "2020-04-22 18:58:36.337964"]]
D, [2020-04-22T18:58:36.339811 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.341231 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.342865 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:36.344712 #12705] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:36.346159 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.353939 #12705] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.355005 #12705] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:58:36.355962 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:58:36.358661 #12705]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-22 18:58:36 +0000
I, [2020-04-22T18:58:36.366106 #12705]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-22T18:58:36.374134 #12705]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-22T18:58:36.376345 #12705] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T18:58:36.378318 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.380423 #12705] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T18:58:36.382131 #12705]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (7.6ms)
I, [2020-04-22T18:58:36.561003 #12705]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-22T18:58:36.562554 #12705]  INFO -- : Completed 200 OK in 196ms (Views: 189.7ms | ActiveRecord: 0.4ms)
D, [2020-04-22T18:58:36.569169 #12705] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:58:36.570056 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:58:36.570374 #12705]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-22T18:58:36.570449 #12705]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-22T18:58:36.570512 #12705]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-22T18:58:36.571472 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.573054 #12705] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.574654 #12705] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1496006421"], ["active", 1]]
D, [2020-04-22T18:58:36.575979 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.578805 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.580366 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "307562015"], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.581564 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.583060 #12705] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "307562015"], ["date_of_birth", "2001-04-22"], ["phone", "5337678936"], ["role", "employee"], ["active", 1], ["username", "user2"], ["password_digest", "$2a$04$MbKvHitMFHv8LRF6imy7j.K6GumJXPrGkMx.ffqwXFNYQFNcZFKoi"]]
D, [2020-04-22T18:58:36.585180 #12705] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.586600 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.587964 #12705] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:58:36.587075"], ["updated_at", "2020-04-22 18:58:36.587075"]]
D, [2020-04-22T18:58:36.589229 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.590168 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.591572 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:36.592756 #12705] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:36.593996 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.595628 #12705] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.596942 #12705] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:58:36.598104 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:58:36.599384 #12705]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-22 18:58:36 +0000
F, [2020-04-22T18:58:36.615211 #12705] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-22T18:58:36.619125 #12705]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-22 18:58:36 +0000
F, [2020-04-22T18:58:36.633553 #12705] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T18:58:36.637294 #12705] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:58:36.638047 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:58:36.638338 #12705]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-22T18:58:36.638416 #12705]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-22T18:58:36.638502 #12705]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-22T18:58:36.639479 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.640990 #12705] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.642533 #12705] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7779672314"], ["active", 1]]
D, [2020-04-22T18:58:36.643908 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.646803 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.648432 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "121892315"], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.649641 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user3"], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.651178 #12705] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "121892315"], ["date_of_birth", "2001-04-22"], ["phone", "4570399523"], ["role", "employee"], ["active", 1], ["username", "user3"], ["password_digest", "$2a$04$8yTweluCQApzKII4xIFcoupt3ccWTG6gn8m/PK6y3uRYztf21qTFG"]]
D, [2020-04-22T18:58:36.652772 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.654247 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.655589 #12705] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:58:36.654705"], ["updated_at", "2020-04-22 18:58:36.654705"]]
D, [2020-04-22T18:58:36.656861 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.657838 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.659208 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:36.660414 #12705] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:36.661636 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.663194 #12705] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.664583 #12705] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:58:36.665757 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.666788 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:58:36.669688 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.671201 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "239380838"], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.672454 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user4"], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.673986 #12705] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "239380838"], ["date_of_birth", "2001-04-22"], ["phone", "3650807867"], ["role", "employee"], ["active", 1], ["username", "user4"], ["password_digest", "$2a$04$qHp6y4lyzJMVpne/fFU95OHU.U/wgF1l4s9hsi2PsgbVoZEa9K2ru"]]
D, [2020-04-22T18:58:36.700468 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:58:36.707047 #12705]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:58:36 +0000
I, [2020-04-22T18:58:36.708302 #12705]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:58:36.708613 #12705]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:58:36.709381 #12705] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:58:36.710194 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.711807 #12705] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.713321 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-22T18:58:36.947115 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:36.948495 #12705] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:36.949885 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:58:36.951355 #12705]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:58:36.973192 #12705] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:58:36.980226 #12705] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:58:36.986159 #12705]  INFO -- :   Rendered assignments/_form.html.erb (33.6ms)
I, [2020-04-22T18:58:36.986579 #12705]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (34.9ms)
I, [2020-04-22T18:58:36.987829 #12705]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:58:36.989277 #12705]  INFO -- : Completed 200 OK in 280ms (Views: 37.8ms | ActiveRecord: 0.9ms)
D, [2020-04-22T18:58:36.994530 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:58:36.995491 #12705] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:58:36.996475 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:58:36.996839 #12705]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T18:58:36.996921 #12705]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-22T18:58:36.996983 #12705]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-22T18:58:36.997865 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:36.999230 #12705] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.000773 #12705] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1005839039"], ["active", 1]]
D, [2020-04-22T18:58:37.002074 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.004849 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.006300 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "263739532"], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.007528 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user5"], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.009046 #12705] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "263739532"], ["date_of_birth", "2001-04-22"], ["phone", "5951381238"], ["role", "employee"], ["active", 1], ["username", "user5"], ["password_digest", "$2a$04$gXdeeFra0tnzc8gZ5Ek9POowSfUtcLlfMAsOkxxiBqYFr73zjpseW"]]
D, [2020-04-22T18:58:37.010560 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.011886 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.013166 #12705] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:58:37.012318"], ["updated_at", "2020-04-22 18:58:37.012318"]]
D, [2020-04-22T18:58:37.014412 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.015365 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.016681 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:37.017874 #12705] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:37.019050 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.020600 #12705] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.021851 #12705] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:58:37.022959 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.023896 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-22T18:58:37.024997 #12705]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-22 18:58:37 +0000
I, [2020-04-22T18:58:37.026067 #12705]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-22T18:58:37.026357 #12705]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T18:58:37.027559 #12705] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.028594 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.029648 #12705] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-22T18:58:37.030574 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:58:37.031404 #12705]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-22T18:58:37.032265 #12705]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
D, [2020-04-22T18:58:37.036050 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T18:58:37.036942 #12705] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:58:37.037712 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:58:37.038016 #12705]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-22T18:58:37.038089 #12705]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-22T18:58:37.038154 #12705]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-22T18:58:37.038907 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.040164 #12705] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.041617 #12705] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3061123011"], ["active", 1]]
D, [2020-04-22T18:58:37.042952 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.045645 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.047069 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "306863312"], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.048291 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user6"], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.049930 #12705] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "306863312"], ["date_of_birth", "2001-04-22"], ["phone", "5857234876"], ["role", "employee"], ["active", 1], ["username", "user6"], ["password_digest", "$2a$04$Ln0a/oO/aKXg9h.d1r7skeUW7GmSP8rUYWavczWXFSPuk5fNpPbDG"]]
D, [2020-04-22T18:58:37.051401 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.052744 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.054002 #12705] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:58:37.053152"], ["updated_at", "2020-04-22 18:58:37.053152"]]
D, [2020-04-22T18:58:37.055256 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.056176 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.057461 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:37.058612 #12705] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:37.059846 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.061302 #12705] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.062617 #12705] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:58:37.063731 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:58:37.064939 #12705]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 18:58:37 +0000
I, [2020-04-22T18:58:37.065782 #12705]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T18:58:37.066086 #12705]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T18:58:37.066830 #12705] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T18:58:37.067512 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.068710 #12705] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.071660 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:37.072925 #12705] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:37.074174 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T18:58:37.075152 #12705]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:58:37.076576 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:58:37.079143 #12705] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:58:37.082996 #12705]  INFO -- :   Rendered assignments/_form.html.erb (7.4ms)
I, [2020-04-22T18:58:37.083415 #12705]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (7.9ms)
I, [2020-04-22T18:58:37.084484 #12705]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:58:37.085932 #12705]  INFO -- : Completed 200 OK in 19ms (Views: 10.2ms | ActiveRecord: 0.6ms)
D, [2020-04-22T18:58:37.090481 #12705] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:58:37.091142 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:58:37.091518 #12705]  INFO -- : -----------------------------------------------------------
I, [2020-04-22T18:58:37.091611 #12705]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-22T18:58:37.091677 #12705]  INFO -- : -----------------------------------------------------------
D, [2020-04-22T18:58:37.092417 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.093684 #12705] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.095109 #12705] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4833294138"], ["active", 1]]
D, [2020-04-22T18:58:37.096394 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.099096 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.100533 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "345636873"], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.101724 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user7"], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.103183 #12705] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "345636873"], ["date_of_birth", "2001-04-22"], ["phone", "1926467515"], ["role", "employee"], ["active", 1], ["username", "user7"], ["password_digest", "$2a$04$NiAT06bzdolFvZ3vRr93YOF6c4QcnZ53ovvwFeHWlUKux5japswU6"]]
D, [2020-04-22T18:58:37.104718 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.106056 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.107331 #12705] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:58:37.106469"], ["updated_at", "2020-04-22 18:58:37.106469"]]
D, [2020-04-22T18:58:37.108619 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.109641 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.110896 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:37.112046 #12705] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:37.113196 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.114688 #12705] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.115949 #12705] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:58:37.117047 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:58:37.118216 #12705]  INFO -- : Started PATCH "/assignments/terminate.1" for 127.0.0.1 at 2020-04-22 18:58:37 +0000
F, [2020-04-22T18:58:37.125587 #12705] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:40:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T18:58:37.129228 #12705] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.130368 #12705] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T18:58:37.131275 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T18:58:37.131582 #12705]  INFO -- : ----------------------------------------------
I, [2020-04-22T18:58:37.131659 #12705]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-22T18:58:37.131746 #12705]  INFO -- : ----------------------------------------------
D, [2020-04-22T18:58:37.132478 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.133747 #12705] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.135168 #12705] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9375413236"], ["active", 1]]
D, [2020-04-22T18:58:37.136460 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.139311 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.140745 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "061695169"], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.141938 #12705] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user8"], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.143467 #12705] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "061695169"], ["date_of_birth", "2001-04-22"], ["phone", "3711523593"], ["role", "employee"], ["active", 1], ["username", "user8"], ["password_digest", "$2a$04$Axe/tlti54h9VVYJv0Bj9.7qhAnwdKkQV5CbamOEM8DlCchIKzJo."]]
D, [2020-04-22T18:58:37.144920 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.146179 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.147452 #12705] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 18:58:37.146616"], ["updated_at", "2020-04-22 18:58:37.146616"]]
D, [2020-04-22T18:58:37.148740 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.149661 #12705] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T18:58:37.150907 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:37.152060 #12705] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T18:58:37.153218 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.154704 #12705] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T18:58:37.155968 #12705] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T18:58:37.157045 #12705] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T18:58:37.158145 #12705]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-22 18:58:37 +0000
I, [2020-04-22T18:58:37.159131 #12705]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-22T18:58:37.160203 #12705]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T18:58:37.161466 #12705] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T18:58:37.164024 #12705] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T18:58:37.167795 #12705]  INFO -- :   Rendered assignments/_form.html.erb (7.1ms)
I, [2020-04-22T18:58:37.168259 #12705]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (7.7ms)
I, [2020-04-22T18:58:37.169320 #12705]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T18:58:37.170600 #12705]  INFO -- : Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.3ms)
D, [2020-04-22T18:58:37.173744 #12705] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:01:18.720176 #12905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T19:01:18.800567 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:01:18.800974 #12905]  INFO -- : ------------------------------------------------
I, [2020-04-22T19:01:18.801015 #12905]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-22T19:01:18.801037 #12905]  INFO -- : ------------------------------------------------
D, [2020-04-22T19:01:18.890845 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:18.892632 #12905] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:01:18.894153 #12905] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5887092512"], ["active", 1]]
D, [2020-04-22T19:01:18.895378 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:18.914936 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:18.917494 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "226312015"], ["LIMIT", 1]]
D, [2020-04-22T19:01:18.918525 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
D, [2020-04-22T19:01:18.919916 #12905] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "226312015"], ["date_of_birth", "2001-04-22"], ["phone", "8226272005"], ["role", "employee"], ["active", 1], ["username", "user1"], ["password_digest", "$2a$04$SUP46pVo6x3YnVz8e49hg./U19RMUypfjyTX9r0Tbh30Yd0tArVkq"]]
D, [2020-04-22T19:01:18.921259 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:18.946183 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:18.947481 #12905] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:01:18.946685"], ["updated_at", "2020-04-22 19:01:18.946685"]]
D, [2020-04-22T19:01:18.948584 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:18.950000 #12905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:18.951611 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:18.953434 #12905] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:18.954911 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:18.962724 #12905] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:18.963835 #12905] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:01:18.964753 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:01:18.967426 #12905]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-22 19:01:18 +0000
I, [2020-04-22T19:01:18.974838 #12905]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-22T19:01:18.982672 #12905]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-22T19:01:18.984852 #12905] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T19:01:18.986697 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:18.988801 #12905] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T19:01:18.990509 #12905]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (7.4ms)
I, [2020-04-22T19:01:19.167869 #12905]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-22T19:01:19.169421 #12905]  INFO -- : Completed 200 OK in 194ms (Views: 187.9ms | ActiveRecord: 0.4ms)
D, [2020-04-22T19:01:19.176007 #12905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:01:19.177095 #12905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:01:19.177416 #12905]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T19:01:19.177488 #12905]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-22T19:01:19.177546 #12905]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-22T19:01:19.178488 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.180142 #12905] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.181723 #12905] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0753180979"], ["active", 1]]
D, [2020-04-22T19:01:19.183031 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.185899 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.187486 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "077154246"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.188714 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.190213 #12905] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "077154246"], ["date_of_birth", "2001-04-22"], ["phone", "0207371094"], ["role", "employee"], ["active", 1], ["username", "user2"], ["password_digest", "$2a$04$2QzThA5rZe/eGdnWeDiW2eMkfxyUmppyBhX0cPsWkYhcKtOP.UqH6"]]
D, [2020-04-22T19:01:19.191754 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.193139 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.194452 #12905] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:01:19.193600"], ["updated_at", "2020-04-22 19:01:19.193600"]]
D, [2020-04-22T19:01:19.195755 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.196738 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.198101 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.199324 #12905] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.200538 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.202143 #12905] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.203447 #12905] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:01:19.204593 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.205589 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-22T19:01:19.206772 #12905]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-22 19:01:19 +0000
I, [2020-04-22T19:01:19.211901 #12905]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-22T19:01:19.212200 #12905]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T19:01:19.213391 #12905] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.214475 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.215543 #12905] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-22T19:01:19.216493 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:01:19.217370 #12905]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-22T19:01:19.218237 #12905]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-22T19:01:19.222158 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T19:01:19.223815 #12905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:01:19.224850 #12905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:01:19.225161 #12905]  INFO -- : -----------------------------------------------------------
I, [2020-04-22T19:01:19.225240 #12905]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-22T19:01:19.225302 #12905]  INFO -- : -----------------------------------------------------------
D, [2020-04-22T19:01:19.226121 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.227446 #12905] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.228955 #12905] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0204826618"], ["active", 1]]
D, [2020-04-22T19:01:19.230288 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.233061 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.234567 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "122577190"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.235808 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user3"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.237327 #12905] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "122577190"], ["date_of_birth", "2001-04-22"], ["phone", "0117550909"], ["role", "employee"], ["active", 1], ["username", "user3"], ["password_digest", "$2a$04$8qVJTiof23kA3Rdvy01AoO7k9MMXYnwWCIRr7h4nD79AsDSLvux.y"]]
D, [2020-04-22T19:01:19.238793 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.240153 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.241470 #12905] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:01:19.240586"], ["updated_at", "2020-04-22 19:01:19.240586"]]
D, [2020-04-22T19:01:19.242766 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.243748 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.245080 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.246243 #12905] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.247474 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.249026 #12905] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.250321 #12905] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:01:19.251502 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:01:19.252725 #12905]  INFO -- : Started PATCH "/assignments/terminate.1" for 127.0.0.1 at 2020-04-22 19:01:19 +0000
F, [2020-04-22T19:01:19.278728 #12905] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:40:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T19:01:19.282462 #12905] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.283776 #12905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:01:19.285385 #12905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:01:19.285736 #12905]  INFO -- : ----------------------------------------------
I, [2020-04-22T19:01:19.285823 #12905]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-22T19:01:19.285892 #12905]  INFO -- : ----------------------------------------------
D, [2020-04-22T19:01:19.286744 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.288134 #12905] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.313401 #12905] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8952512463"], ["active", 1]]
D, [2020-04-22T19:01:19.314860 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.317838 #12905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.319644 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "056638710"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.320997 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user4"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.322698 #12905] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "056638710"], ["date_of_birth", "2001-04-22"], ["phone", "2055107007"], ["role", "employee"], ["active", 1], ["username", "user4"], ["password_digest", "$2a$04$NnLnbpjDVGE.5TXIz7s4KefKbtu0tHFcqPrpjBuColGoW92YI/EWe"]]
D, [2020-04-22T19:01:19.324244 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.325627 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.326900 #12905] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:01:19.326052"], ["updated_at", "2020-04-22 19:01:19.326052"]]
D, [2020-04-22T19:01:19.328172 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.329107 #12905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.330417 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.331629 #12905] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.332840 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.334354 #12905] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.335703 #12905] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:01:19.336822 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:01:19.337984 #12905]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-22 19:01:19 +0000
I, [2020-04-22T19:01:19.339074 #12905]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-22T19:01:19.340707 #12905]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T19:01:19.366929 #12905] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T19:01:19.595892 #12905] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T19:01:19.602433 #12905]  INFO -- :   Rendered assignments/_form.html.erb (260.5ms)
I, [2020-04-22T19:01:19.602891 #12905]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (261.8ms)
I, [2020-04-22T19:01:19.604552 #12905]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T19:01:19.605946 #12905]  INFO -- : Completed 200 OK in 267ms (Views: 264.7ms | ActiveRecord: 0.4ms)
D, [2020-04-22T19:01:19.609505 #12905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:01:19.610597 #12905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:01:19.610921 #12905]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-22T19:01:19.610996 #12905]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-22T19:01:19.611057 #12905]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-22T19:01:19.612000 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.613517 #12905] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.615052 #12905] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8564737120"], ["active", 1]]
D, [2020-04-22T19:01:19.616381 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.619170 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.620689 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "151995894"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.621869 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user5"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.623352 #12905] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "151995894"], ["date_of_birth", "2001-04-22"], ["phone", "2642636216"], ["role", "employee"], ["active", 1], ["username", "user5"], ["password_digest", "$2a$04$IoaErIZtMPkYHEM5NJ0RtONQNsT0Y4VmfmnsBdEV8VOGL3VTn7CX6"]]
D, [2020-04-22T19:01:19.624826 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.626148 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.627473 #12905] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:01:19.626600"], ["updated_at", "2020-04-22 19:01:19.626600"]]
D, [2020-04-22T19:01:19.628727 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.629678 #12905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.631011 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.632229 #12905] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.633408 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.634989 #12905] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.636275 #12905] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:01:19.637405 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:01:19.638840 #12905]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 19:01:19 +0000
I, [2020-04-22T19:01:19.639975 #12905]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T19:01:19.640279 #12905]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T19:01:19.641051 #12905] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T19:01:19.641728 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.642923 #12905] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.645958 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.647220 #12905] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.648624 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T19:01:19.649642 #12905]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T19:01:19.651096 #12905] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T19:01:19.653701 #12905] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T19:01:19.657614 #12905]  INFO -- :   Rendered assignments/_form.html.erb (7.5ms)
I, [2020-04-22T19:01:19.658002 #12905]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.1ms)
I, [2020-04-22T19:01:19.659131 #12905]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T19:01:19.660545 #12905]  INFO -- : Completed 200 OK in 20ms (Views: 10.4ms | ActiveRecord: 0.6ms)
D, [2020-04-22T19:01:19.665283 #12905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:01:19.666282 #12905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:01:19.666597 #12905]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-22T19:01:19.666678 #12905]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-22T19:01:19.666767 #12905]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-22T19:01:19.667590 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.668880 #12905] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.670348 #12905] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8171997327"], ["active", 1]]
D, [2020-04-22T19:01:19.671678 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.674391 #12905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.675894 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "000290927"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.677105 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user6"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.678568 #12905] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "000290927"], ["date_of_birth", "2001-04-22"], ["phone", "1933366579"], ["role", "employee"], ["active", 1], ["username", "user6"], ["password_digest", "$2a$04$y6CB0P.7R9T0EHLgpCCmC.XUgUm.w2YJdJxnHp5kniDSBvuR2qisq"]]
D, [2020-04-22T19:01:19.680080 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.681400 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.682706 #12905] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:01:19.681858"], ["updated_at", "2020-04-22 19:01:19.681858"]]
D, [2020-04-22T19:01:19.683983 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.684934 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.686205 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.687383 #12905] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.688608 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.690110 #12905] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.691422 #12905] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:01:19.692530 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.693498 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T19:01:19.696203 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.697648 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "196353734"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.698811 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user7"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.700233 #12905] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "196353734"], ["date_of_birth", "2001-04-22"], ["phone", "9750428254"], ["role", "employee"], ["active", 1], ["username", "user7"], ["password_digest", "$2a$04$YOWzGDbyzMVlRLYKYG01Tu7j6HFAEq5pw0XCT27Om8Fe04I0jC2pq"]]
D, [2020-04-22T19:01:19.701683 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:01:19.702968 #12905]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 19:01:19 +0000
I, [2020-04-22T19:01:19.703945 #12905]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T19:01:19.704238 #12905]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T19:01:19.704950 #12905] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T19:01:19.705592 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.706808 #12905] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.708318 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.710320 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.711626 #12905] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.712955 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T19:01:19.713984 #12905]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T19:01:19.715390 #12905] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T19:01:19.717927 #12905] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T19:01:19.721776 #12905]  INFO -- :   Rendered assignments/_form.html.erb (7.3ms)
I, [2020-04-22T19:01:19.722181 #12905]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (7.9ms)
I, [2020-04-22T19:01:19.723353 #12905]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T19:01:19.724791 #12905]  INFO -- : Completed 200 OK in 20ms (Views: 10.3ms | ActiveRecord: 0.7ms)
D, [2020-04-22T19:01:19.729858 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T19:01:19.730726 #12905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:01:19.732270 #12905] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:01:19.732608 #12905]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-22T19:01:19.732685 #12905]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-22T19:01:19.732745 #12905]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-22T19:01:19.733525 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.734804 #12905] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.736281 #12905] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3813581357"], ["active", 1]]
D, [2020-04-22T19:01:19.737566 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.740276 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.741739 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "154516728"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.742927 #12905] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user8"], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.744411 #12905] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "154516728"], ["date_of_birth", "2001-04-22"], ["phone", "4369844180"], ["role", "employee"], ["active", 1], ["username", "user8"], ["password_digest", "$2a$04$yam7Y.A76VN9IjiIuOjbW.LVRZXSZ8U8ekP3DYAFlsbyoMx6WsqUG"]]
D, [2020-04-22T19:01:19.745858 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.747169 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.748467 #12905] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:01:19.747625"], ["updated_at", "2020-04-22 19:01:19.747625"]]
D, [2020-04-22T19:01:19.749716 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.750675 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:01:19.751985 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.753156 #12905] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:01:19.754383 #12905] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.756564 #12905] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:01:19.757864 #12905] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:01:19.758973 #12905] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:01:19.760212 #12905]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-22 19:01:19 +0000
F, [2020-04-22T19:01:19.782874 #12905] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-22T19:01:19.786562 #12905]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-22 19:01:19 +0000
F, [2020-04-22T19:01:19.804983 #12905] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T19:01:19.808395 #12905] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:02:46.264117 #13046] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T19:02:46.353935 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:02:46.354421 #13046]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-22T19:02:46.354465 #13046]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-22T19:02:46.354489 #13046]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-22T19:02:46.451564 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:46.453416 #13046] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:02:46.455016 #13046] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8556916159"], ["active", 1]]
D, [2020-04-22T19:02:46.456299 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:46.476715 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:46.479435 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "125019019"], ["LIMIT", 1]]
D, [2020-04-22T19:02:46.480455 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
D, [2020-04-22T19:02:46.481888 #13046] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "125019019"], ["date_of_birth", "2001-04-22"], ["phone", "9962044505"], ["role", "employee"], ["active", 1], ["username", "user1"], ["password_digest", "$2a$04$ylBnrNrNql4o3OnlYoUaDOrI9WvcERpU0CxAClF6zdJLGBpM6PXq2"]]
D, [2020-04-22T19:02:46.483409 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:46.510275 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:46.511725 #13046] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:02:46.510854"], ["updated_at", "2020-04-22 19:02:46.510854"]]
D, [2020-04-22T19:02:46.523982 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:46.525618 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:46.527330 #13046] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:46.529326 #13046] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:46.530872 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:46.539110 #13046] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:46.540300 #13046] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:02:46.541299 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:46.542101 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T19:02:46.544782 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:46.546000 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "162379229"], ["LIMIT", 1]]
D, [2020-04-22T19:02:46.546976 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
D, [2020-04-22T19:02:46.548148 #13046] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "162379229"], ["date_of_birth", "2001-04-22"], ["phone", "5407467384"], ["role", "employee"], ["active", 1], ["username", "user2"], ["password_digest", "$2a$04$bHLW95/faiM3al7JgMyJGOGVbiOGHkOMLDt6fvY55PWzDamCKNyBG"]]
D, [2020-04-22T19:02:46.549468 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:02:46.556778 #13046]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 19:02:46 +0000
I, [2020-04-22T19:02:46.564118 #13046]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T19:02:46.564427 #13046]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T19:02:46.568970 #13046] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T19:02:46.569681 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:46.571472 #13046] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:46.573400 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-22T19:02:46.714272 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:46.715738 #13046] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:46.717196 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T19:02:46.720846 #13046]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T19:02:46.743357 #13046] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T19:02:46.750472 #13046] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T19:02:46.756727 #13046]  INFO -- :   Rendered assignments/_form.html.erb (34.0ms)
I, [2020-04-22T19:02:46.757148 #13046]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (36.0ms)
I, [2020-04-22T19:02:47.018736 #13046]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-22T19:02:47.021177 #13046]  INFO -- : Completed 200 OK in 456ms (Views: 302.1ms | ActiveRecord: 0.8ms)
D, [2020-04-22T19:02:47.029426 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T19:02:47.030409 #13046] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:02:47.032008 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:02:47.032316 #13046]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-22T19:02:47.032401 #13046]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-22T19:02:47.032467 #13046]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-22T19:02:47.033412 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.035030 #13046] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.036724 #13046] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5328758736"], ["active", 1]]
D, [2020-04-22T19:02:47.038048 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.040940 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.042563 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "008637475"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.043787 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user3"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.045302 #13046] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "008637475"], ["date_of_birth", "2001-04-22"], ["phone", "8903334533"], ["role", "employee"], ["active", 1], ["username", "user3"], ["password_digest", "$2a$04$GzE0FgwM5YCnDdyT5aW95ecAtKbSfmjBEuaTEC9uzwXW9Hyl9MYOO"]]
D, [2020-04-22T19:02:47.046811 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.048367 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.049747 #13046] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:02:47.048828"], ["updated_at", "2020-04-22 19:02:47.048828"]]
D, [2020-04-22T19:02:47.051081 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.052082 #13046] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.053484 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:47.054712 #13046] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:47.055967 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.057605 #13046] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.058923 #13046] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:02:47.060091 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:02:47.061460 #13046]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-22 19:02:47 +0000
F, [2020-04-22T19:02:47.085708 #13046] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-22T19:02:47.090457 #13046]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-22 19:02:47 +0000
F, [2020-04-22T19:02:47.116762 #13046] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T19:02:47.122770 #13046] DEBUG -- :   [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:02:47.123985 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:02:47.124568 #13046]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-22T19:02:47.124692 #13046]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-22T19:02:47.124802 #13046]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-22T19:02:47.126274 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.128537 #13046] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.130333 #13046] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "9781085316"], ["active", 1]]
D, [2020-04-22T19:02:47.131949 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.135161 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.136910 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "120003062"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.138272 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user4"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.140037 #13046] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "120003062"], ["date_of_birth", "2001-04-22"], ["phone", "4131816589"], ["role", "employee"], ["active", 1], ["username", "user4"], ["password_digest", "$2a$04$kiokbhqxT8x5JetaDIeeX.YDTeG4Y9NSSq/24Ibul.GByTBbouq6q"]]
D, [2020-04-22T19:02:47.141775 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.143379 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.144865 #13046] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:02:47.143874"], ["updated_at", "2020-04-22 19:02:47.143874"]]
D, [2020-04-22T19:02:47.146320 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.147461 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.148967 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:47.150313 #13046] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:47.151777 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.153568 #13046] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.155039 #13046] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:02:47.156340 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:02:47.158012 #13046]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 19:02:47 +0000
I, [2020-04-22T19:02:47.159131 #13046]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T19:02:47.159468 #13046]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T19:02:47.160338 #13046] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T19:02:47.161107 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.162509 #13046] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.166020 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:47.167555 #13046] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:47.169040 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T19:02:47.170205 #13046]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T19:02:47.171982 #13046] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T19:02:47.175062 #13046] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T19:02:47.179667 #13046]  INFO -- :   Rendered assignments/_form.html.erb (8.9ms)
I, [2020-04-22T19:02:47.180091 #13046]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (9.5ms)
I, [2020-04-22T19:02:47.181443 #13046]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T19:02:47.183124 #13046]  INFO -- : Completed 200 OK in 23ms (Views: 12.2ms | ActiveRecord: 0.7ms)
D, [2020-04-22T19:02:47.188634 #13046] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:02:47.189488 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:02:47.189832 #13046]  INFO -- : -----------------------------------------------------------
I, [2020-04-22T19:02:47.189939 #13046]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-22T19:02:47.190049 #13046]  INFO -- : -----------------------------------------------------------
D, [2020-04-22T19:02:47.190938 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.193590 #13046] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.214736 #13046] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7049033012"], ["active", 1]]
D, [2020-04-22T19:02:47.216364 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.219720 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.221576 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "249534995"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.222911 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user5"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.224719 #13046] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "249534995"], ["date_of_birth", "2001-04-22"], ["phone", "7869269306"], ["role", "employee"], ["active", 1], ["username", "user5"], ["password_digest", "$2a$04$09qxb6DdgHVi6YIXzBG1verXxNdmwnZCvoabG7ZwlEJEoT5ch0JsW"]]
D, [2020-04-22T19:02:47.226492 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.228033 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.229545 #13046] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:02:47.228547"], ["updated_at", "2020-04-22 19:02:47.228547"]]
D, [2020-04-22T19:02:47.230934 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.232062 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.233564 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:47.234912 #13046] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:47.236316 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.238170 #13046] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.239652 #13046] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:02:47.240986 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:02:47.242409 #13046]  INFO -- : Started PATCH "/assignments/terminate.1" for 127.0.0.1 at 2020-04-22 19:02:47 +0000
F, [2020-04-22T19:02:47.250923 #13046] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:40:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T19:02:47.255318 #13046] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.256737 #13046] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:02:47.257763 #13046] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:02:47.258104 #13046]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T19:02:47.258191 #13046]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-22T19:02:47.258309 #13046]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-22T19:02:47.259183 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.260704 #13046] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.262381 #13046] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "8180457862"], ["active", 1]]
D, [2020-04-22T19:02:47.263978 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.267100 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.268813 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "364801880"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.270197 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user6"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.272029 #13046] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "364801880"], ["date_of_birth", "2001-04-22"], ["phone", "7803259056"], ["role", "employee"], ["active", 1], ["username", "user6"], ["password_digest", "$2a$04$Tx9BDXQ8mmkjeHpNp4DINOqW2pY/fdTtQd5jgJmxRMkLY2eg/w6eG"]]
D, [2020-04-22T19:02:47.273738 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.275280 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.276746 #13046] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:02:47.275796"], ["updated_at", "2020-04-22 19:02:47.275796"]]
D, [2020-04-22T19:02:47.278208 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.279303 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.280795 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:47.282104 #13046] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:47.283500 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.285301 #13046] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.286798 #13046] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:02:47.288111 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.289186 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-22T19:02:47.290385 #13046]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-22 19:02:47 +0000
I, [2020-04-22T19:02:47.291633 #13046]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-22T19:02:47.291989 #13046]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T19:02:47.293317 #13046] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.294506 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.295775 #13046] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-22T19:02:47.296854 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:02:47.297858 #13046]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-22T19:02:47.298810 #13046]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
D, [2020-04-22T19:02:47.303280 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T19:02:47.304346 #13046] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:02:47.305155 #13046] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:02:47.305587 #13046]  INFO -- : ----------------------------------------------
I, [2020-04-22T19:02:47.305671 #13046]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-22T19:02:47.305738 #13046]  INFO -- : ----------------------------------------------
D, [2020-04-22T19:02:47.306639 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.308163 #13046] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.309885 #13046] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3285230052"], ["active", 1]]
D, [2020-04-22T19:02:47.311427 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.314496 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.316220 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "304408952"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.317598 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user7"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.319350 #13046] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "304408952"], ["date_of_birth", "2001-04-22"], ["phone", "8404388024"], ["role", "employee"], ["active", 1], ["username", "user7"], ["password_digest", "$2a$04$lcJbhCE2hM3tDMU6j0L3wOTEtRRhOxOoh/qCMCBV5LACZzNYAJfIu"]]
D, [2020-04-22T19:02:47.321083 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.322640 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.324200 #13046] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:02:47.323164"], ["updated_at", "2020-04-22 19:02:47.323164"]]
D, [2020-04-22T19:02:47.325643 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.326735 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.328201 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:47.329597 #13046] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:47.330961 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.332816 #13046] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.334274 #13046] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:02:47.335609 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:02:47.336960 #13046]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-22 19:02:47 +0000
I, [2020-04-22T19:02:47.338168 #13046]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-22T19:02:47.339420 #13046]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T19:02:47.340990 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T19:02:47.344182 #13046] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T19:02:47.348969 #13046]  INFO -- :   Rendered assignments/_form.html.erb (8.9ms)
I, [2020-04-22T19:02:47.349466 #13046]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (9.7ms)
I, [2020-04-22T19:02:47.350810 #13046]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T19:02:47.352471 #13046]  INFO -- : Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.3ms)
D, [2020-04-22T19:02:47.356432 #13046] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:02:47.357227 #13046] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:02:47.357604 #13046]  INFO -- : ------------------------------------------------
I, [2020-04-22T19:02:47.357689 #13046]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-22T19:02:47.357755 #13046]  INFO -- : ------------------------------------------------
D, [2020-04-22T19:02:47.358713 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.360283 #13046] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.362039 #13046] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1043835785"], ["active", 1]]
D, [2020-04-22T19:02:47.363556 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.366646 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.368338 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "044916095"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.369690 #13046] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user8"], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.371217 #13046] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "044916095"], ["date_of_birth", "2001-04-22"], ["phone", "0404655585"], ["role", "employee"], ["active", 1], ["username", "user8"], ["password_digest", "$2a$04$s4owyMuq3tnYs4ki7H0jaOY7zONAlCKkKYKyUrn5Tv7tnbRK3Her."]]
D, [2020-04-22T19:02:47.372836 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.374324 #13046] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.375753 #13046] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:02:47.374839"], ["updated_at", "2020-04-22 19:02:47.374839"]]
D, [2020-04-22T19:02:47.377221 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.378146 #13046] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:02:47.379617 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:47.380883 #13046] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:02:47.382161 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.383879 #13046] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.385182 #13046] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:02:47.386346 #13046] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:02:47.387656 #13046]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-22 19:02:47 +0000
I, [2020-04-22T19:02:47.388720 #13046]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-22T19:02:47.390767 #13046]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-22T19:02:47.392335 #13046] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T19:02:47.393820 #13046] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:02:47.395467 #13046] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T19:02:47.397067 #13046]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (5.9ms)
I, [2020-04-22T19:02:47.398277 #13046]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T19:02:47.399710 #13046]  INFO -- : Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 0.3ms)
D, [2020-04-22T19:02:47.403699 #13046] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:03:53.552519 #13151] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T19:03:53.633561 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:03:53.633934 #13151]  INFO -- : -----------------------------------------------------------
I, [2020-04-22T19:03:53.633976 #13151]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-22T19:03:53.634001 #13151]  INFO -- : -----------------------------------------------------------
D, [2020-04-22T19:03:53.728072 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:53.729903 #13151] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:03:53.731556 #13151] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "5863021599"], ["active", 1]]
D, [2020-04-22T19:03:53.732720 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:53.753657 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:53.756262 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "019862136"], ["LIMIT", 1]]
D, [2020-04-22T19:03:53.757273 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
D, [2020-04-22T19:03:53.758690 #13151] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "019862136"], ["date_of_birth", "2001-04-22"], ["phone", "5425447762"], ["role", "employee"], ["active", 1], ["username", "user1"], ["password_digest", "$2a$04$I2R1QqAMAA26AHqOPQhsJerJj7r6m5e5EUEX9Y9AooB6kzITHz44q"]]
D, [2020-04-22T19:03:53.760158 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:53.787374 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:53.788910 #13151] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:03:53.788013"], ["updated_at", "2020-04-22 19:03:53.788013"]]
D, [2020-04-22T19:03:53.800865 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:53.802388 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:53.804079 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:53.806007 #13151] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:53.807624 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:53.815683 #13151] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:53.816882 #13151] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:03:53.817914 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:03:53.820699 #13151]  INFO -- : Started PATCH "/assignments/terminate.1" for 127.0.0.1 at 2020-04-22 19:03:53 +0000
F, [2020-04-22T19:03:53.857675 #13151] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:40:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T19:03:53.863007 #13151] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:53.864452 #13151] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:03:53.866240 #13151] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:03:53.866590 #13151]  INFO -- : ------------------------------------------------
I, [2020-04-22T19:03:53.866671 #13151]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-22T19:03:53.866734 #13151]  INFO -- : ------------------------------------------------
D, [2020-04-22T19:03:53.867652 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:53.869062 #13151] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:03:53.870673 #13151] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7832010836"], ["active", 1]]
D, [2020-04-22T19:03:53.872102 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:53.874910 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:53.876514 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "289078562"], ["LIMIT", 1]]
D, [2020-04-22T19:03:53.877781 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
D, [2020-04-22T19:03:53.879346 #13151] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "289078562"], ["date_of_birth", "2001-04-22"], ["phone", "7869431438"], ["role", "employee"], ["active", 1], ["username", "user2"], ["password_digest", "$2a$04$HtJ5Df9RG0MH7ZW9cs3lPeI3DEh5ygN6tP5BakojO/xRw1327Fjz."]]
D, [2020-04-22T19:03:53.880985 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:53.882415 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:53.883792 #13151] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:03:53.882888"], ["updated_at", "2020-04-22 19:03:53.882888"]]
D, [2020-04-22T19:03:53.885183 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:53.886180 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:53.887582 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:53.888803 #13151] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:53.890105 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:53.891786 #13151] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:53.893136 #13151] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:03:53.894298 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:03:53.895575 #13151]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-22 19:03:53 +0000
I, [2020-04-22T19:03:53.896680 #13151]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-22T19:03:53.905513 #13151]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-22T19:03:53.907808 #13151] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T19:03:53.909792 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:53.911981 #13151] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T19:03:53.913712 #13151]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (7.8ms)
I, [2020-04-22T19:03:54.178021 #13151]  INFO -- :   Rendered partials/_footer.html.erb (0.6ms)
I, [2020-04-22T19:03:54.179656 #13151]  INFO -- : Completed 200 OK in 283ms (Views: 275.6ms | ActiveRecord: 0.4ms)
D, [2020-04-22T19:03:54.184382 #13151] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:03:54.185553 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:03:54.185858 #13151]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-22T19:03:54.185941 #13151]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-22T19:03:54.186006 #13151]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-22T19:03:54.186991 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.188623 #13151] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.190232 #13151] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4766928458"], ["active", 1]]
D, [2020-04-22T19:03:54.191699 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.194549 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.196154 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "292710078"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.197434 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user3"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.198990 #13151] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "292710078"], ["date_of_birth", "2001-04-22"], ["phone", "2045615976"], ["role", "employee"], ["active", 1], ["username", "user3"], ["password_digest", "$2a$04$r3D1RegknsWWnmBY3.ogWeDUBSmgH0wYEeOG4FWHS.OBv3xD2IwOO"]]
D, [2020-04-22T19:03:54.200641 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.202051 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.203422 #13151] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:03:54.202523"], ["updated_at", "2020-04-22 19:03:54.202523"]]
D, [2020-04-22T19:03:54.204754 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.205788 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.207201 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:54.208515 #13151] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:54.209760 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.211392 #13151] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.212713 #13151] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:03:54.213874 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:03:54.219966 #13151]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 19:03:54 +0000
I, [2020-04-22T19:03:54.221066 #13151]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T19:03:54.221355 #13151]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T19:03:54.222237 #13151] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T19:03:54.222961 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.224271 #13151] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.370518 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:54.372047 #13151] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:54.373624 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T19:03:54.375310 #13151]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T19:03:54.397104 #13151] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T19:03:54.404303 #13151] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T19:03:54.410463 #13151]  INFO -- :   Rendered assignments/_form.html.erb (33.9ms)
I, [2020-04-22T19:03:54.410872 #13151]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (35.3ms)
I, [2020-04-22T19:03:54.412116 #13151]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T19:03:54.413663 #13151]  INFO -- : Completed 200 OK in 192ms (Views: 38.3ms | ActiveRecord: 0.8ms)
D, [2020-04-22T19:03:54.418789 #13151] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:03:54.419754 #13151] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:03:54.420059 #13151]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-22T19:03:54.420136 #13151]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-22T19:03:54.420199 #13151]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-22T19:03:54.421132 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.422572 #13151] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.424130 #13151] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "3609527554"], ["active", 1]]
D, [2020-04-22T19:03:54.425504 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.428346 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.429899 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "129238967"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.431153 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user4"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.432694 #13151] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "129238967"], ["date_of_birth", "2001-04-22"], ["phone", "0333046293"], ["role", "employee"], ["active", 1], ["username", "user4"], ["password_digest", "$2a$04$0uubNOh831A8ZeWYM2agXOm7F/.R2W5CUOQhA45osxKmANP9qANEG"]]
D, [2020-04-22T19:03:54.434212 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.435732 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.437063 #13151] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:03:54.436152"], ["updated_at", "2020-04-22 19:03:54.436152"]]
D, [2020-04-22T19:03:54.438320 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.439364 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.440724 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:54.441910 #13151] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:54.443140 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.444773 #13151] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.446175 #13151] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:03:54.447422 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:03:54.448778 #13151]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-22 19:03:54 +0000
F, [2020-04-22T19:03:54.476393 #13151] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-22T19:03:54.480372 #13151]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-22 19:03:54 +0000
F, [2020-04-22T19:03:54.501562 #13151] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T19:03:54.505454 #13151] DEBUG -- :   [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:03:54.506710 #13151] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:03:54.507018 #13151]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-22T19:03:54.507098 #13151]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-22T19:03:54.507163 #13151]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-22T19:03:54.508156 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.509725 #13151] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.511323 #13151] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "4799242434"], ["active", 1]]
D, [2020-04-22T19:03:54.512672 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.515604 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.517251 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "350210956"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.518491 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user5"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.520077 #13151] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "350210956"], ["date_of_birth", "2001-04-22"], ["phone", "2351159296"], ["role", "employee"], ["active", 1], ["username", "user5"], ["password_digest", "$2a$04$yLIfVTUUENpeJwKkunQ3rOUgBec.5f/nrFSXZgvWBYeFb/z0.c2gK"]]
D, [2020-04-22T19:03:54.521657 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.523105 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.524522 #13151] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:03:54.523591"], ["updated_at", "2020-04-22 19:03:54.523591"]]
D, [2020-04-22T19:03:54.525804 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.526824 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.528280 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:54.529508 #13151] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:54.530750 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.532381 #13151] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.533722 #13151] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:03:54.534898 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.535940 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T19:03:54.538850 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.540402 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "109092513"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.541607 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user6"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.543079 #13151] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "109092513"], ["date_of_birth", "2001-04-22"], ["phone", "3420391906"], ["role", "employee"], ["active", 1], ["username", "user6"], ["password_digest", "$2a$04$qz3wWeHZzxsDMQ7QQrUhFeSarSybem3QO4XYbshf.z42TZmvlUV4G"]]
D, [2020-04-22T19:03:54.544591 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:03:54.546053 #13151]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 19:03:54 +0000
I, [2020-04-22T19:03:54.547097 #13151]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T19:03:54.547420 #13151]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T19:03:54.548243 #13151] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T19:03:54.548956 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.550327 #13151] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.551966 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.554125 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:54.555459 #13151] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:54.556844 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T19:03:54.557905 #13151]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T19:03:54.559532 #13151] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T19:03:54.562372 #13151] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T19:03:54.566652 #13151]  INFO -- :   Rendered assignments/_form.html.erb (8.2ms)
I, [2020-04-22T19:03:54.567049 #13151]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.8ms)
I, [2020-04-22T19:03:54.568270 #13151]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T19:03:54.569889 #13151]  INFO -- : Completed 200 OK in 22ms (Views: 11.4ms | ActiveRecord: 0.7ms)
D, [2020-04-22T19:03:54.575529 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T19:03:54.576462 #13151] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:03:54.578212 #13151] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:03:54.578533 #13151]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T19:03:54.578613 #13151]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-22T19:03:54.578678 #13151]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-22T19:03:54.579608 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.581041 #13151] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.582611 #13151] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7000727283"], ["active", 1]]
D, [2020-04-22T19:03:54.583926 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.586806 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.588553 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "252074371"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.589796 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user7"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.591394 #13151] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "252074371"], ["date_of_birth", "2001-04-22"], ["phone", "6773923692"], ["role", "employee"], ["active", 1], ["username", "user7"], ["password_digest", "$2a$04$Qz7Pj7sp3VHKrZs56k3tEe6bO13.yd/jzK6.pp3fW7rpCXPWb8xb."]]
D, [2020-04-22T19:03:54.592957 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.594437 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.595840 #13151] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:03:54.594886"], ["updated_at", "2020-04-22 19:03:54.594886"]]
D, [2020-04-22T19:03:54.597174 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.598158 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.599652 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:54.600898 #13151] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:54.602128 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.603768 #13151] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.605086 #13151] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:03:54.606273 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.607269 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-22T19:03:54.608458 #13151]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-22 19:03:54 +0000
I, [2020-04-22T19:03:54.609670 #13151]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-22T19:03:54.609951 #13151]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T19:03:54.611095 #13151] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.612184 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.613308 #13151] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-22T19:03:54.614259 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:03:54.615168 #13151]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-22T19:03:54.616071 #13151]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
D, [2020-04-22T19:03:54.620279 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T19:03:54.621275 #13151] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:03:54.622406 #13151] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:03:54.622734 #13151]  INFO -- : ----------------------------------------------
I, [2020-04-22T19:03:54.622814 #13151]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-22T19:03:54.622881 #13151]  INFO -- : ----------------------------------------------
D, [2020-04-22T19:03:54.623812 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.625223 #13151] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.626870 #13151] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1673711285"], ["active", 1]]
D, [2020-04-22T19:03:54.628231 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.631067 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.632762 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "366699580"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.633966 #13151] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user8"], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.635790 #13151] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "366699580"], ["date_of_birth", "2001-04-22"], ["phone", "7816871408"], ["role", "employee"], ["active", 1], ["username", "user8"], ["password_digest", "$2a$04$ktlr7yR7FFvdECU.ZfQrYuFsjFK8adU/oBojzknAvQrd5bvyfnxta"]]
D, [2020-04-22T19:03:54.637316 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.638805 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.640204 #13151] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:03:54.639273"], ["updated_at", "2020-04-22 19:03:54.639273"]]
D, [2020-04-22T19:03:54.641506 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.642515 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:03:54.643997 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:54.645206 #13151] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:03:54.646433 #13151] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.648115 #13151] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:03:54.649460 #13151] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:03:54.650624 #13151] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:03:54.651917 #13151]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-22 19:03:54 +0000
I, [2020-04-22T19:03:54.653034 #13151]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-22T19:03:54.654199 #13151]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T19:03:54.655636 #13151] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T19:03:54.658358 #13151] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T19:03:54.662301 #13151]  INFO -- :   Rendered assignments/_form.html.erb (7.6ms)
I, [2020-04-22T19:03:54.662782 #13151]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.2ms)
I, [2020-04-22T19:03:54.664073 #13151]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T19:03:54.665489 #13151]  INFO -- : Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.3ms)
D, [2020-04-22T19:03:54.669155 #13151] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:08:54.040834 #13547] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T19:10:59.425854 #13811] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T19:12:12.981882 #13920] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T19:13:11.497011 #14014] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T19:13:22.868398 #14068] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
D, [2020-04-22T19:13:22.947791 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:13:22.948227 #14068]  INFO -- : ------------------------------------------------
I, [2020-04-22T19:13:22.948268 #14068]  INFO -- : AssignmentsControllerTest: test_should_get_index
I, [2020-04-22T19:13:22.948291 #14068]  INFO -- : ------------------------------------------------
D, [2020-04-22T19:13:23.039877 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.041815 #14068] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.043448 #14068] DEBUG -- :   [1m[36mStore Create (0.3ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6179159070"], ["active", 1]]
D, [2020-04-22T19:13:23.044620 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.065557 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.068790 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "113513103"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.069831 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user1"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.071302 #14068] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "113513103"], ["date_of_birth", "2001-04-22"], ["phone", "8461394114"], ["role", "employee"], ["active", 1], ["username", "user1"], ["password_digest", "$2a$04$rlQxfFqpMCiHZYZwxZ7Fv.9Qsv3e7AIwpWQovOJ//tRBmHOpqQJuK"]]
D, [2020-04-22T19:13:23.072677 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.099606 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.101136 #14068] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:13:23.100217"], ["updated_at", "2020-04-22 19:13:23.100217"]]
D, [2020-04-22T19:13:23.113870 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.115757 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.117509 #14068] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.119538 #14068] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.121131 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.129348 #14068] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.130528 #14068] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:13:23.131552 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:13:23.134273 #14068]  INFO -- : Started GET "/assignments" for 127.0.0.1 at 2020-04-22 19:13:23 +0000
I, [2020-04-22T19:13:23.141771 #14068]  INFO -- : Processing by AssignmentsController#index as HTML
I, [2020-04-22T19:13:23.149841 #14068]  INFO -- :   Rendering assignments/index.html.erb within layouts/application
D, [2020-04-22T19:13:23.152328 #14068] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE (end_date IS NULL) ORDER BY start_date DESC, end_date DESC LIMIT ? OFFSET ?[0m  [["LIMIT", 10], ["OFFSET", 0]]
D, [2020-04-22T19:13:23.154454 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.156591 #14068] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
I, [2020-04-22T19:13:23.158334 #14068]  INFO -- :   Rendered assignments/index.html.erb within layouts/application (8.1ms)
I, [2020-04-22T19:13:23.329573 #14068]  INFO -- :   Rendered partials/_footer.html.erb (0.5ms)
I, [2020-04-22T19:13:23.331171 #14068]  INFO -- : Completed 200 OK in 189ms (Views: 182.6ms | ActiveRecord: 0.4ms)
D, [2020-04-22T19:13:23.337807 #14068] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:13:23.338714 #14068] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:13:23.339035 #14068]  INFO -- : -----------------------------------------------------------
I, [2020-04-22T19:13:23.339125 #14068]  INFO -- : AssignmentsControllerTest: test_should_terminate_assignment
I, [2020-04-22T19:13:23.339199 #14068]  INFO -- : -----------------------------------------------------------
D, [2020-04-22T19:13:23.340184 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.341790 #14068] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.343404 #14068] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0414385368"], ["active", 1]]
D, [2020-04-22T19:13:23.344845 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.347987 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.349559 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "110539939"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.350755 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user2"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.352354 #14068] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "110539939"], ["date_of_birth", "2001-04-22"], ["phone", "4627035927"], ["role", "employee"], ["active", 1], ["username", "user2"], ["password_digest", "$2a$04$yoPut7sS9zygyVVJksna3OoKUo7GUK.TgFDY9TmjZyhdnVsIQIqHW"]]
D, [2020-04-22T19:13:23.353907 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.355412 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.356719 #14068] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:13:23.355849"], ["updated_at", "2020-04-22 19:13:23.355849"]]
D, [2020-04-22T19:13:23.358091 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.359135 #14068] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.360555 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.361760 #14068] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.362985 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.364695 #14068] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.366012 #14068] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:13:23.367195 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:13:23.368582 #14068]  INFO -- : Started PATCH "/assignments/terminate.1" for 127.0.0.1 at 2020-04-22 19:13:23 +0000
F, [2020-04-22T19:13:23.410959 #14068] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:40:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T19:13:23.415379 #14068] DEBUG -- :   [1m[36mAssignment Load (0.2ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.416768 #14068] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:13:23.417945 #14068] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:13:23.418266 #14068]  INFO -- : --------------------------------------------------------------------------
I, [2020-04-22T19:13:23.418357 #14068]  INFO -- : AssignmentsControllerTest: test_should_destroy_assignment_when_appropriate
I, [2020-04-22T19:13:23.418423 #14068]  INFO -- : --------------------------------------------------------------------------
D, [2020-04-22T19:13:23.419331 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.420699 #14068] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.422246 #14068] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0118870621"], ["active", 1]]
D, [2020-04-22T19:13:23.423580 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.426505 #14068] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.428145 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "166631036"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.429444 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user3"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.430980 #14068] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "166631036"], ["date_of_birth", "2001-04-22"], ["phone", "3655184616"], ["role", "employee"], ["active", 1], ["username", "user3"], ["password_digest", "$2a$04$NKgTitDH16XJTFWwsZ/ubO/dT0oCaZIvNXERspR18bbYHlj0V32N6"]]
D, [2020-04-22T19:13:23.432497 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.433849 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.435152 #14068] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:13:23.434299"], ["updated_at", "2020-04-22 19:13:23.434299"]]
D, [2020-04-22T19:13:23.436552 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.437506 #14068] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.438841 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.440060 #14068] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.441344 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.442905 #14068] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.444197 #14068] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:13:23.445393 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.446420 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
I, [2020-04-22T19:13:23.447575 #14068]  INFO -- : Started DELETE "/assignments/1" for 127.0.0.1 at 2020-04-22 19:13:23 +0000
I, [2020-04-22T19:13:23.452792 #14068]  INFO -- : Processing by AssignmentsController#destroy as HTML
I, [2020-04-22T19:13:23.453141 #14068]  INFO -- :   Parameters: {"id"=>"1"}
D, [2020-04-22T19:13:23.454536 #14068] DEBUG -- :   [1m[36mAssignment Load (0.1ms)[0m  [1m[34mSELECT  "assignments".* FROM "assignments" WHERE "assignments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.455653 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.456706 #14068] DEBUG -- :   [1m[36mAssignment Destroy (0.1ms)[0m  [1m[31mDELETE FROM "assignments" WHERE "assignments"."id" = ?[0m  [["id", 1]]
D, [2020-04-22T19:13:23.457689 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:13:23.458576 #14068]  INFO -- : Redirected to http://www.example.com/assignments
I, [2020-04-22T19:13:23.459458 #14068]  INFO -- : Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
D, [2020-04-22T19:13:23.463534 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T19:13:23.465073 #14068] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:13:23.465921 #14068] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:13:23.466244 #14068]  INFO -- : ----------------------------------------------
I, [2020-04-22T19:13:23.466332 #14068]  INFO -- : AssignmentsControllerTest: test_should_get_new
I, [2020-04-22T19:13:23.466397 #14068]  INFO -- : ----------------------------------------------
D, [2020-04-22T19:13:23.467301 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.468618 #14068] DEBUG -- :   [1m[36mStore Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.470154 #14068] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "7856504471"], ["active", 1]]
D, [2020-04-22T19:13:23.471521 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.474257 #14068] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.475782 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "045422031"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.476958 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user4"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.478447 #14068] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "045422031"], ["date_of_birth", "2001-04-22"], ["phone", "5438825544"], ["role", "employee"], ["active", 1], ["username", "user4"], ["password_digest", "$2a$04$N.bIQPWNB6kGTHFKSQIVweKU2JDaTXZjjqZaKaOkng48Q3DqwjvZG"]]
D, [2020-04-22T19:13:23.479945 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.481281 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.482565 #14068] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:13:23.481723"], ["updated_at", "2020-04-22 19:13:23.481723"]]
D, [2020-04-22T19:13:23.483834 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.484786 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.486231 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.487444 #14068] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.488716 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.490264 #14068] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.491585 #14068] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:13:23.492713 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:13:23.493902 #14068]  INFO -- : Started GET "/assignments/new" for 127.0.0.1 at 2020-04-22 19:13:23 +0000
I, [2020-04-22T19:13:23.495003 #14068]  INFO -- : Processing by AssignmentsController#new as HTML
I, [2020-04-22T19:13:23.496613 #14068]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T19:13:23.523811 #14068] DEBUG -- :   [1m[36mEmployee Load (0.2ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T19:13:23.760343 #14068] DEBUG -- :   [1m[36mStore Load (0.2ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T19:13:23.766633 #14068]  INFO -- :   Rendered assignments/_form.html.erb (268.7ms)
I, [2020-04-22T19:13:23.767132 #14068]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (270.1ms)
I, [2020-04-22T19:13:23.768513 #14068]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T19:13:23.769959 #14068]  INFO -- : Completed 200 OK in 275ms (Views: 272.6ms | ActiveRecord: 0.4ms)
D, [2020-04-22T19:13:23.773537 #14068] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:13:23.774371 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:13:23.774691 #14068]  INFO -- : -------------------------------------------------------------------------------
I, [2020-04-22T19:13:23.774768 #14068]  INFO -- : AssignmentsControllerTest: test_should_not_create_assignment_when_inappropriate
I, [2020-04-22T19:13:23.774838 #14068]  INFO -- : -------------------------------------------------------------------------------
D, [2020-04-22T19:13:23.775807 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.777403 #14068] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.778956 #14068] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "6149421977"], ["active", 1]]
D, [2020-04-22T19:13:23.780306 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.783203 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.784860 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "043685850"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.786087 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user5"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.787631 #14068] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "043685850"], ["date_of_birth", "2001-04-22"], ["phone", "5761056486"], ["role", "employee"], ["active", 1], ["username", "user5"], ["password_digest", "$2a$04$SKP/MDnaD4qtnmhW/0qk0u6YYIEp/Bcz7PhRscQZNSXCMk6lxR3iy"]]
D, [2020-04-22T19:13:23.789096 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.790538 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.791879 #14068] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:13:23.790975"], ["updated_at", "2020-04-22 19:13:23.790975"]]
D, [2020-04-22T19:13:23.793147 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.794091 #14068] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.795472 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.796655 #14068] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.797887 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.799525 #14068] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.800811 #14068] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:13:23.801911 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:13:23.803477 #14068]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 19:13:23 +0000
I, [2020-04-22T19:13:23.804626 #14068]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T19:13:23.804933 #14068]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>nil, "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T19:13:23.805706 #14068] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T19:13:23.806447 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.807707 #14068] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.810752 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.812068 #14068] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.813427 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T19:13:23.814454 #14068]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T19:13:23.815936 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T19:13:23.818554 #14068] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T19:13:23.822438 #14068]  INFO -- :   Rendered assignments/_form.html.erb (7.5ms)
I, [2020-04-22T19:13:23.822858 #14068]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.1ms)
I, [2020-04-22T19:13:23.824048 #14068]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T19:13:23.825473 #14068]  INFO -- : Completed 200 OK in 20ms (Views: 10.5ms | ActiveRecord: 0.6ms)
D, [2020-04-22T19:13:23.830239 #14068] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:13:23.831054 #14068] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:13:23.831393 #14068]  INFO -- : -----------------------------------------------------------------------------------------
I, [2020-04-22T19:13:23.831484 #14068]  INFO -- : AssignmentsControllerTest: test_should_not_have_the_ability_to_edit_or_update_assignments
I, [2020-04-22T19:13:23.831574 #14068]  INFO -- : -----------------------------------------------------------------------------------------
D, [2020-04-22T19:13:23.832445 #14068] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.833797 #14068] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.835432 #14068] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "1525070676"], ["active", 1]]
D, [2020-04-22T19:13:23.836803 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.839676 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.841277 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "258585879"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.842543 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user6"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.844095 #14068] DEBUG -- :   [1m[36mEmployee Create (0.2ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "258585879"], ["date_of_birth", "2001-04-22"], ["phone", "8112917292"], ["role", "employee"], ["active", 1], ["username", "user6"], ["password_digest", "$2a$04$3k6P/CTvhVh6gn5peIVK2epPwLhFoTSbyahp1yDUPVwqqrsApsCpC"]]
D, [2020-04-22T19:13:23.845588 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.846913 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.848312 #14068] DEBUG -- :   [1m[36mPayGrade Create (0.2ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:13:23.847387"], ["updated_at", "2020-04-22 19:13:23.847387"]]
D, [2020-04-22T19:13:23.849590 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.850539 #14068] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.851916 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.853095 #14068] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.854419 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.855991 #14068] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.857248 #14068] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:13:23.858380 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:13:23.859628 #14068]  INFO -- : Started GET "/assignments/1/edit" for 127.0.0.1 at 2020-04-22 19:13:23 +0000
F, [2020-04-22T19:13:23.876407 #14068] FATAL -- : 
AbstractController::ActionNotFound - The action 'edit' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:55:in `block in <class:AssignmentsControllerTest>'

I, [2020-04-22T19:13:23.880284 #14068]  INFO -- : Started PATCH "/assignments/1" for 127.0.0.1 at 2020-04-22 19:13:23 +0000
F, [2020-04-22T19:13:23.890634 #14068] FATAL -- : 
AbstractController::ActionNotFound - The action 'update' could not be found for AssignmentsController:
  test/controllers/assignments_controller_test.rb:57:in `block in <class:AssignmentsControllerTest>'

D, [2020-04-22T19:13:23.894126 #14068] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
D, [2020-04-22T19:13:23.895090 #14068] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
I, [2020-04-22T19:13:23.895426 #14068]  INFO -- : -------------------------------------------------------------------------
I, [2020-04-22T19:13:23.895505 #14068]  INFO -- : AssignmentsControllerTest: test_should_create_assignment_when_appropriate
I, [2020-04-22T19:13:23.895565 #14068]  INFO -- : -------------------------------------------------------------------------
D, [2020-04-22T19:13:23.896484 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.897998 #14068] DEBUG -- :   [1m[36mStore Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "stores" WHERE LOWER("stores"."name") = LOWER(?) LIMIT ?[0m  [["name", "CMU"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.899607 #14068] DEBUG -- :   [1m[36mStore Create (0.2ms)[0m  [1m[32mINSERT INTO "stores" ("name", "street", "city", "state", "zip", "phone", "active") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["name", "CMU"], ["street", "5000 Forbes Avenue"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["phone", "0215347735"], ["active", 1]]
D, [2020-04-22T19:13:23.900902 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.903759 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.905365 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "384047137"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.906558 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user7"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.908072 #14068] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Ed"], ["last_name", "Gruberman"], ["ssn", "384047137"], ["date_of_birth", "2001-04-22"], ["phone", "7891089773"], ["role", "employee"], ["active", 1], ["username", "user7"], ["password_digest", "$2a$04$E0SHfhK9gZJRUOh858iIouRLKf4rsI20jWon.kJrtGKU3uUMZLPL2"]]
D, [2020-04-22T19:13:23.909607 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.910990 #14068] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.912347 #14068] DEBUG -- :   [1m[36mPayGrade Create (0.1ms)[0m  [1m[32mINSERT INTO "pay_grades" ("level", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["level", "C1"], ["active", 1], ["created_at", "2020-04-22 19:13:23.911477"], ["updated_at", "2020-04-22 19:13:23.911477"]]
D, [2020-04-22T19:13:23.913604 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.914553 #14068] DEBUG -- :   [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.915925 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.917104 #14068] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.918327 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.919948 #14068] DEBUG -- :   [1m[36mAssignment Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "assignments" WHERE "assignments"."employee_id" = ? AND (end_date IS NULL) LIMIT ?[0m  [["employee_id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.921253 #14068] DEBUG -- :   [1m[36mAssignment Create (0.2ms)[0m  [1m[32mINSERT INTO "assignments" ("store_id", "employee_id", "start_date", "pay_grade_id") VALUES (?, ?, ?, ?)[0m  [["store_id", 1], ["employee_id", 1], ["start_date", "2019-04-22"], ["pay_grade_id", 1]]
D, [2020-04-22T19:13:23.922356 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.923412 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T19:13:23.926120 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.927654 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."ssn" = ? LIMIT ?[0m  [["ssn", "084003661"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.928820 #14068] DEBUG -- :   [1m[36mEmployee Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "employees" WHERE "employees"."username" = ? LIMIT ?[0m  [["username", "user8"], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.930241 #14068] DEBUG -- :   [1m[36mEmployee Create (0.1ms)[0m  [1m[32mINSERT INTO "employees" ("first_name", "last_name", "ssn", "date_of_birth", "phone", "role", "active", "username", "password_digest") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["first_name", "Fred"], ["last_name", "Gruberman"], ["ssn", "084003661"], ["date_of_birth", "2001-04-22"], ["phone", "5605301912"], ["role", "employee"], ["active", 1], ["username", "user8"], ["password_digest", "$2a$04$gYWacAqQ3lRMVqioOyi31u/HOYCkWfhLR6nfmScoSbKsIMZsavK4m"]]
D, [2020-04-22T19:13:23.931699 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
I, [2020-04-22T19:13:23.933243 #14068]  INFO -- : Started POST "/assignments" for 127.0.0.1 at 2020-04-22 19:13:23 +0000
I, [2020-04-22T19:13:23.934245 #14068]  INFO -- : Processing by AssignmentsController#create as HTML
I, [2020-04-22T19:13:23.934560 #14068]  INFO -- :   Parameters: {"assignment"=>{"store_id"=>"1", "employee_id"=>"2", "start_date"=>"2020-04-21", "end_date"=>nil}}
D, [2020-04-22T19:13:23.935312 #14068] DEBUG -- : Unpermitted parameter: :end_date
D, [2020-04-22T19:13:23.935978 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
D, [2020-04-22T19:13:23.937240 #14068] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT  "stores".* FROM "stores" WHERE "stores"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.938781 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT  "employees".* FROM "employees" WHERE "employees"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
D, [2020-04-22T19:13:23.940904 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.942390 #14068] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ?[0m  [["active", 1]]
D, [2020-04-22T19:13:23.943780 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
I, [2020-04-22T19:13:23.944745 #14068]  INFO -- :   Rendering assignments/new.html.erb within layouts/application
D, [2020-04-22T19:13:23.946185 #14068] DEBUG -- :   [1m[36mEmployee Load (0.1ms)[0m  [1m[34mSELECT "employees".* FROM "employees" WHERE "employees"."active" = ? ORDER BY last_name, first_name[0m  [["active", 1]]
D, [2020-04-22T19:13:23.948886 #14068] DEBUG -- :   [1m[36mStore Load (0.1ms)[0m  [1m[34mSELECT "stores".* FROM "stores" WHERE "stores"."active" = ? ORDER BY name[0m  [["active", 1]]
I, [2020-04-22T19:13:23.952864 #14068]  INFO -- :   Rendered assignments/_form.html.erb (7.6ms)
I, [2020-04-22T19:13:23.953250 #14068]  INFO -- :   Rendered assignments/new.html.erb within layouts/application (8.2ms)
I, [2020-04-22T19:13:23.954487 #14068]  INFO -- :   Rendered partials/_footer.html.erb (0.1ms)
I, [2020-04-22T19:13:23.955953 #14068]  INFO -- : Completed 200 OK in 21ms (Views: 10.6ms | ActiveRecord: 0.6ms)
D, [2020-04-22T19:13:23.961326 #14068] DEBUG -- :   [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "assignments"[0m
D, [2020-04-22T19:13:23.962189 #14068] DEBUG -- :   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
